<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Webapp de Gestión de Causas Legales - Defensoría Civil y Comercial N° 6</title>
    <meta name="description" content="Aplicación web profesional para la gestión de causas legales">
    
    <!-- Estilos embebidos -->
    <style>
*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}:root{--radius: .5rem;--sidebar-background: 0 0% 98%;--sidebar-foreground: 240 5.3% 26.1%;--sidebar-primary: 240 5.9% 10%;--sidebar-primary-foreground: 0 0% 98%;--sidebar-accent: 240 4.8% 95.9%;--sidebar-accent-foreground: 240 5.9% 10%;--sidebar-border: 220 13% 91%;--sidebar-ring: 217.2 91.2% 59.8% }.dark{--sidebar-background: 240 5.9% 10%;--sidebar-foreground: 240 4.8% 95.9%;--sidebar-primary: 224.3 76.3% 48%;--sidebar-primary-foreground: 0 0% 100%;--sidebar-accent: 240 3.7% 15.9%;--sidebar-accent-foreground: 240 4.8% 95.9%;--sidebar-border: 240 3.7% 15.9%;--sidebar-ring: 217.2 91.2% 59.8% }.pointer-events-none{pointer-events:none}.static{position:static}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.inset-y-0{top:0;bottom:0}.bottom-0{bottom:0}.left-0{left:0}.left-16{left:4rem}.left-3{left:.75rem}.right-3{right:.75rem}.top-1\/2{top:50%}.z-40{z-index:40}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-12{height:3rem}.h-16{height:4rem}.h-24{height:6rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-8{height:2rem}.min-h-screen{min-height:100vh}.w-12{width:3rem}.w-16{width:4rem}.w-24{width:6rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-8{width:2rem}.w-full{width:100%}.min-w-\[100px\]{min-width:100px}.min-w-\[120px\]{min-width:120px}.min-w-\[140px\]{min-width:140px}.min-w-\[150px\]{min-width:150px}.min-w-\[180px\]{min-width:180px}.min-w-\[200px\]{min-width:200px}.min-w-\[80px\]{min-width:80px}.min-w-max{min-width:-moz-max-content;min-width:max-content}.max-w-md{max-width:28rem}.flex-shrink-0{flex-shrink:0}.border-collapse{border-collapse:collapse}.-translate-x-full{--tw-translate-x: -100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-help{cursor:help}.resize{resize:both}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-r{border-right-width:1px}.border-r-2{border-right-width:2px}.border-t{border-top-width:1px}.border-blue-600{--tw-border-opacity: 1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-red-500{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-blue-700{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.bg-blue-800\/30{background-color:#1e40af4d}.bg-cyan-100{--tw-bg-opacity: 1;background-color:rgb(207 250 254 / var(--tw-bg-opacity, 1))}.bg-emerald-100{--tw-bg-opacity: 1;background-color:rgb(209 250 229 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-500{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-700{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-indigo-100{--tw-bg-opacity: 1;background-color:rgb(224 231 255 / var(--tw-bg-opacity, 1))}.bg-lime-100{--tw-bg-opacity: 1;background-color:rgb(236 252 203 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-orange-600{--tw-bg-opacity: 1;background-color:rgb(234 88 12 / var(--tw-bg-opacity, 1))}.bg-pink-100{--tw-bg-opacity: 1;background-color:rgb(252 231 243 / var(--tw-bg-opacity, 1))}.bg-purple-100{--tw-bg-opacity: 1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-purple-50{--tw-bg-opacity: 1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-teal-100{--tw-bg-opacity: 1;background-color:rgb(204 251 241 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-opacity-75{--tw-bg-opacity: .75}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.from-blue-900{--tw-gradient-from: #1e3a8a var(--tw-gradient-from-position);--tw-gradient-to: rgb(30 58 138 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-blue-800{--tw-gradient-to: rgb(30 64 175 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #1e40af var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-blue-700{--tw-gradient-to: #1d4ed8 var(--tw-gradient-to-position)}.p-1{padding:.25rem}.p-1\.5{padding:.375rem}.p-12{padding:3rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-20{padding-bottom:5rem}.pb-4{padding-bottom:1rem}.pl-10{padding-left:2.5rem}.pr-12{padding-right:3rem}.pr-4{padding-right:1rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.align-bottom{vertical-align:bottom}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.leading-tight{line-height:1.25}.tracking-wider{letter-spacing:.05em}.text-blue-100{--tw-text-opacity: 1;color:rgb(219 234 254 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-cyan-800{--tw-text-opacity: 1;color:rgb(21 94 117 / var(--tw-text-opacity, 1))}.text-emerald-800{--tw-text-opacity: 1;color:rgb(6 95 70 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-indigo-800{--tw-text-opacity: 1;color:rgb(55 48 163 / var(--tw-text-opacity, 1))}.text-lime-800{--tw-text-opacity: 1;color:rgb(63 98 18 / var(--tw-text-opacity, 1))}.text-orange-800{--tw-text-opacity: 1;color:rgb(154 52 18 / var(--tw-text-opacity, 1))}.text-pink-800{--tw-text-opacity: 1;color:rgb(157 23 77 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity: 1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-purple-800{--tw-text-opacity: 1;color:rgb(107 33 168 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-teal-800{--tw-text-opacity: 1;color:rgb(17 94 89 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-400{--tw-text-opacity: 1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.text-yellow-600{--tw-text-opacity: 1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.text-yellow-800{--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.opacity-0{opacity:0}.opacity-75{opacity:.75}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}.duration-300{animation-duration:.3s}.ease-in-out{animation-timing-function:cubic-bezier(.4,0,.2,1)}img{-o-object-position:top;object-position:top}.fixed{position:fixed}.hover\:bg-blue-50:hover{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-800:hover{--tw-bg-opacity: 1;background-color:rgb(30 64 175 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-orange-700:hover{--tw-bg-opacity: 1;background-color:rgb(194 65 12 / var(--tw-bg-opacity, 1))}.hover\:bg-red-50:hover{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.hover\:bg-opacity-80:hover{--tw-bg-opacity: .8}.hover\:text-blue-800:hover{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.hover\:text-blue-900:hover{--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.hover\:text-gray-600:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.hover\:text-gray-900:hover{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.hover\:text-red-900:hover{--tw-text-opacity: 1;color:rgb(127 29 29 / var(--tw-text-opacity, 1))}.hover\:text-white:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.focus\:border-transparent:focus{border-color:transparent}.focus\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\:ring-gray-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(107 114 128 / var(--tw-ring-opacity, 1))}.focus\:ring-orange-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(249 115 22 / var(--tw-ring-opacity, 1))}.focus\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\:opacity-100{opacity:1}.dark\:border-gray-600:is(.dark *){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.dark\:border-gray-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.dark\:bg-gray-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.dark\:bg-gray-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.dark\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\:hover\:bg-gray-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\:hover\:bg-red-900\/20:hover:is(.dark *){background-color:#7f1d1d33}@media (min-width: 640px){.sm\:my-8{margin-top:2rem;margin-bottom:2rem}.sm\:block{display:block}.sm\:w-full{width:100%}.sm\:max-w-4xl{max-width:56rem}.sm\:p-0{padding:0}.sm\:align-middle{vertical-align:middle}}@media (min-width: 768px){.md\:col-span-2{grid-column:span 2 / span 2}.md\:col-span-3{grid-column:span 3 / span 3}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}}@media (min-width: 1024px){.lg\:col-span-2{grid-column:span 2 / span 2}.lg\:flex{display:flex}.lg\:hidden{display:none}.lg\:w-1\/2{width:50%}.lg\:translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.lg\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.lg\:flex-row{flex-direction:row}.lg\:items-center{align-items:center}.lg\:justify-between{justify-content:space-between}.lg\:p-6{padding:1.5rem}.lg\:px-6{padding-left:1.5rem;padding-right:1.5rem}.lg\:pl-16{padding-left:4rem}.lg\:pl-64{padding-left:16rem}.lg\:text-2xl{font-size:1.5rem;line-height:2rem}.lg\:text-sm{font-size:.875rem;line-height:1.25rem}}

    </style>
</head>

<body>
    <div id="root"></div>
    
    <!-- JavaScript embebido -->
    <script type="module">
var XT=Object.defineProperty;var JT=(n,e,t)=>e in n?XT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ne=(n,e,t)=>JT(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function ZT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ap={exports:{}},Cl={},lp={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function eb(){if(V_)return De;V_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,A={};function I(z,G,pe){this.props=z,this.context=G,this.refs=A,this.updater=pe||b}I.prototype.isReactComponent={},I.prototype.setState=function(z,G){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,G,"setState")},I.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=I.prototype;function H(z,G,pe){this.props=z,this.context=G,this.refs=A,this.updater=pe||b}var K=H.prototype=new F;K.constructor=H,P(K,I.prototype),K.isPureReactComponent=!0;var X=Array.isArray,se=Object.prototype.hasOwnProperty,ie={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function k(z,G,pe){var be,Ae={},Re=null,$e=null;if(G!=null)for(be in G.ref!==void 0&&($e=G.ref),G.key!==void 0&&(Re=""+G.key),G)se.call(G,be)&&!O.hasOwnProperty(be)&&(Ae[be]=G[be]);var He=arguments.length-2;if(He===1)Ae.children=pe;else if(1<He){for(var Ye=Array(He),Rt=0;Rt<He;Rt++)Ye[Rt]=arguments[Rt+2];Ae.children=Ye}if(z&&z.defaultProps)for(be in He=z.defaultProps,He)Ae[be]===void 0&&(Ae[be]=He[be]);return{$$typeof:n,type:z,key:Re,ref:$e,props:Ae,_owner:ie.current}}function N(z,G){return{$$typeof:n,type:z.type,key:G,ref:z.ref,props:z.props,_owner:z._owner}}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function C(z){var G={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return G[pe]})}var L=/\/+/g;function R(z,G){return typeof z=="object"&&z!==null&&z.key!=null?C(""+z.key):G.toString(36)}function ke(z,G,pe,be,Ae){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var $e=!1;if(z===null)$e=!0;else switch(Re){case"string":case"number":$e=!0;break;case"object":switch(z.$$typeof){case n:case e:$e=!0}}if($e)return $e=z,Ae=Ae($e),z=be===""?"."+R($e,0):be,X(Ae)?(pe="",z!=null&&(pe=z.replace(L,"$&/")+"/"),ke(Ae,G,pe,"",function(Rt){return Rt})):Ae!=null&&(M(Ae)&&(Ae=N(Ae,pe+(!Ae.key||$e&&$e.key===Ae.key?"":(""+Ae.key).replace(L,"$&/")+"/")+z)),G.push(Ae)),1;if($e=0,be=be===""?".":be+":",X(z))for(var He=0;He<z.length;He++){Re=z[He];var Ye=be+R(Re,He);$e+=ke(Re,G,pe,Ye,Ae)}else if(Ye=x(z),typeof Ye=="function")for(z=Ye.call(z),He=0;!(Re=z.next()).done;)Re=Re.value,Ye=be+R(Re,He++),$e+=ke(Re,G,pe,Ye,Ae);else if(Re==="object")throw G=String(z),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return $e}function we(z,G,pe){if(z==null)return z;var be=[],Ae=0;return ke(z,be,"","",function(Re){return G.call(pe,Re,Ae++)}),be}function Pe(z){if(z._status===-1){var G=z._result;G=G(),G.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=G)}if(z._status===1)return z._result.default;throw z._result}var xe={current:null},te={transition:null},le={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:te,ReactCurrentOwner:ie};function ae(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:we,forEach:function(z,G,pe){we(z,function(){G.apply(this,arguments)},pe)},count:function(z){var G=0;return we(z,function(){G++}),G},toArray:function(z){return we(z,function(G){return G})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},De.Component=I,De.Fragment=t,De.Profiler=i,De.PureComponent=H,De.StrictMode=r,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,De.act=ae,De.cloneElement=function(z,G,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var be=P({},z.props),Ae=z.key,Re=z.ref,$e=z._owner;if(G!=null){if(G.ref!==void 0&&(Re=G.ref,$e=ie.current),G.key!==void 0&&(Ae=""+G.key),z.type&&z.type.defaultProps)var He=z.type.defaultProps;for(Ye in G)se.call(G,Ye)&&!O.hasOwnProperty(Ye)&&(be[Ye]=G[Ye]===void 0&&He!==void 0?He[Ye]:G[Ye])}var Ye=arguments.length-2;if(Ye===1)be.children=pe;else if(1<Ye){He=Array(Ye);for(var Rt=0;Rt<Ye;Rt++)He[Rt]=arguments[Rt+2];be.children=He}return{$$typeof:n,type:z.type,key:Ae,ref:Re,props:be,_owner:$e}},De.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},De.createElement=k,De.createFactory=function(z){var G=k.bind(null,z);return G.type=z,G},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:u,render:z}},De.isValidElement=M,De.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:Pe}},De.memo=function(z,G){return{$$typeof:p,type:z,compare:G===void 0?null:G}},De.startTransition=function(z){var G=te.transition;te.transition={};try{z()}finally{te.transition=G}},De.unstable_act=ae,De.useCallback=function(z,G){return xe.current.useCallback(z,G)},De.useContext=function(z){return xe.current.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z){return xe.current.useDeferredValue(z)},De.useEffect=function(z,G){return xe.current.useEffect(z,G)},De.useId=function(){return xe.current.useId()},De.useImperativeHandle=function(z,G,pe){return xe.current.useImperativeHandle(z,G,pe)},De.useInsertionEffect=function(z,G){return xe.current.useInsertionEffect(z,G)},De.useLayoutEffect=function(z,G){return xe.current.useLayoutEffect(z,G)},De.useMemo=function(z,G){return xe.current.useMemo(z,G)},De.useReducer=function(z,G,pe){return xe.current.useReducer(z,G,pe)},De.useRef=function(z){return xe.current.useRef(z)},De.useState=function(z){return xe.current.useState(z)},De.useSyncExternalStore=function(z,G,pe){return xe.current.useSyncExternalStore(z,G,pe)},De.useTransition=function(){return xe.current.useTransition()},De.version="18.3.1",De}var j_;function wg(){return j_||(j_=1,lp.exports=eb()),lp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function tb(){if(F_)return Cl;F_=1;var n=wg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var m,v={},x=null,b=null;p!==void 0&&(x=""+p),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(b=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(v[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:u,key:x,ref:b,props:v,_owner:i.current}}return Cl.Fragment=t,Cl.jsx=l,Cl.jsxs=l,Cl}var z_;function nb(){return z_||(z_=1,ap.exports=tb()),ap.exports}var w=nb(),oe=wg();const xg=ZT(oe);var Ku={},cp={exports:{}},fn={},up={exports:{}},hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function rb(){return U_||(U_=1,function(n){function e(te,le){var ae=te.length;te.push(le);e:for(;0<ae;){var z=ae-1>>>1,G=te[z];if(0<i(G,le))te[z]=le,te[ae]=G,ae=z;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var le=te[0],ae=te.pop();if(ae!==le){te[0]=ae;e:for(var z=0,G=te.length,pe=G>>>1;z<pe;){var be=2*(z+1)-1,Ae=te[be],Re=be+1,$e=te[Re];if(0>i(Ae,ae))Re<G&&0>i($e,Ae)?(te[z]=$e,te[Re]=ae,z=Re):(te[z]=Ae,te[be]=ae,z=be);else if(Re<G&&0>i($e,ae))te[z]=$e,te[Re]=ae,z=Re;else break e}}return le}function i(te,le){var ae=te.sortIndex-le.sortIndex;return ae!==0?ae:te.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],p=[],m=1,v=null,x=3,b=!1,P=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(te){for(var le=t(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=te)r(p),le.sortIndex=le.expirationTime,e(d,le);else break;le=t(p)}}function X(te){if(A=!1,K(te),!P)if(t(d)!==null)P=!0,Pe(se);else{var le=t(p);le!==null&&xe(X,le.startTime-te)}}function se(te,le){P=!1,A&&(A=!1,F(k),k=-1),b=!0;var ae=x;try{for(K(le),v=t(d);v!==null&&(!(v.expirationTime>le)||te&&!C());){var z=v.callback;if(typeof z=="function"){v.callback=null,x=v.priorityLevel;var G=z(v.expirationTime<=le);le=n.unstable_now(),typeof G=="function"?v.callback=G:v===t(d)&&r(d),K(le)}else r(d);v=t(d)}if(v!==null)var pe=!0;else{var be=t(p);be!==null&&xe(X,be.startTime-le),pe=!1}return pe}finally{v=null,x=ae,b=!1}}var ie=!1,O=null,k=-1,N=5,M=-1;function C(){return!(n.unstable_now()-M<N)}function L(){if(O!==null){var te=n.unstable_now();M=te;var le=!0;try{le=O(!0,te)}finally{le?R():(ie=!1,O=null)}}else ie=!1}var R;if(typeof H=="function")R=function(){H(L)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,we=ke.port2;ke.port1.onmessage=L,R=function(){we.postMessage(null)}}else R=function(){I(L,0)};function Pe(te){O=te,ie||(ie=!0,R())}function xe(te,le){k=I(function(){te(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){P||b||(P=!0,Pe(se))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(te){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ae=x;x=le;try{return te()}finally{x=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,le){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ae=x;x=te;try{return le()}finally{x=ae}},n.unstable_scheduleCallback=function(te,le,ae){var z=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?z+ae:z):ae=z,te){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,te={id:m++,callback:le,priorityLevel:te,startTime:ae,expirationTime:G,sortIndex:-1},ae>z?(te.sortIndex=ae,e(p,te),t(d)===null&&te===t(p)&&(A?(F(k),k=-1):A=!0,xe(X,ae-z))):(te.sortIndex=G,e(d,te),P||b||(P=!0,Pe(se))),te},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(te){var le=x;return function(){var ae=x;x=le;try{return te.apply(this,arguments)}finally{x=ae}}}}(hp)),hp}var B_;function ib(){return B_||(B_=1,up.exports=rb()),up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function sb(){if($_)return fn;$_=1;var n=wg(),e=ib();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function x(s){return d.call(v,s)?!0:d.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function b(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,a,c,f){if(a===null||typeof a>"u"||b(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(s,a,c,f,g,_,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=T}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];I[a]=new A(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function H(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(F,H);I[a]=new A(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(F,H);I[a]=new A(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(F,H);I[a]=new A(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function K(s,a,c,f){var g=I.hasOwnProperty(a)?I[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(P(a,c,g,f)&&(c=null),f||g===null?x(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),ie=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),C=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),te=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,z;function G(s){if(z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+s}var pe=!1;function be(s,a){if(!s||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(W){var f=W}Reflect.construct(s,[],a)}else{try{a.call()}catch(W){f=W}s.call(a.prototype)}else{try{throw Error()}catch(W){f=W}s()}}catch(W){if(W&&f&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),_=f.stack.split(`
`),T=g.length-1,D=_.length-1;1<=T&&0<=D&&g[T]!==_[D];)D--;for(;1<=T&&0<=D;T--,D--)if(g[T]!==_[D]){if(T!==1||D!==1)do if(T--,D--,0>D||g[T]!==_[D]){var V=`
`+g[T].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=T&&0<=D);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?G(s):""}function Ae(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function Re(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case ie:return"Portal";case N:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case ke:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case C:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case L:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case we:return a=s.displayName||null,a!==null?a:Re(s.type)||"Memo";case Pe:a=s._payload,s=s._init;try{return Re(s(a))}catch{}}return null}function $e(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(a);case 8:return a===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ye(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Rt(s){var a=Ye(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Nr(s){s._valueTracker||(s._valueTracker=Rt(s))}function co(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=Ye(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function hi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function hs(s,a){var c=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function uo(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=He(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ma(s,a){a=a.checked,a!=null&&K(s,"checked",a,!1)}function Oa(s,a){Ma(s,a);var c=He(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ho(s,a.type,c):a.hasOwnProperty("defaultValue")&&ho(s,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Nc(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function ho(s,a,c){(a!=="number"||hi(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Dr=Array.isArray;function Mr(s,a,c,f){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+He(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function La(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function fo(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Dr(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:He(c)}}function po(s,a){var c=He(a.value),f=He(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function Va(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Tt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Tt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Or,ja=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Or.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function di(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(s){fs.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ds[a]=ds[s]})});function Fa(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||ds.hasOwnProperty(s)&&ds[s]?(""+a).trim():a+"px"}function za(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Fa(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var Ua=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(s,a){if(a){if(Ua[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function $a(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function go(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var mo=null,Pn=null,cr=null;function yo(s){if(s=fl(s)){if(typeof mo!="function")throw Error(t(280));var a=s.stateNode;a&&(a=lu(a),mo(s.stateNode,s.type,a))}}function ur(s){Pn?cr?cr.push(s):cr=[s]:Pn=s}function Ha(){if(Pn){var s=Pn,a=cr;if(cr=Pn=null,yo(s),a)for(s=0;s<a.length;s++)yo(a[s])}}function gs(s,a){return s(a)}function Wa(){}var Lr=!1;function qa(s,a,c){if(Lr)return s(a,c);Lr=!0;try{return gs(s,a,c)}finally{Lr=!1,(Pn!==null||cr!==null)&&(Wa(),Ha())}}function dt(s,a){var c=s.stateNode;if(c===null)return null;var f=lu(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var _o=!1;if(u)try{var $n={};Object.defineProperty($n,"passive",{get:function(){_o=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{_o=!1}function ms(s,a,c,f,g,_,T,D,V){var W=Array.prototype.slice.call(arguments,3);try{a.apply(c,W)}catch(Z){this.onError(Z)}}var ys=!1,vo=null,Hn=!1,Ka=null,Md={onError:function(s){ys=!0,vo=s}};function wo(s,a,c,f,g,_,T,D,V){ys=!1,vo=null,ms.apply(Md,arguments)}function Dc(s,a,c,f,g,_,T,D,V){if(wo.apply(this,arguments),ys){if(ys){var W=vo;ys=!1,vo=null}else throw Error(t(198));Hn||(Hn=!0,Ka=W)}}function Wn(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function _s(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function qn(s){if(Wn(s)!==s)throw Error(t(188))}function Mc(s){var a=s.alternate;if(!a){if(a=Wn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,f=a;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return qn(g),s;if(_===f)return qn(g),a;_=_.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=_;else{for(var T=!1,D=g.child;D;){if(D===c){T=!0,c=g,f=_;break}if(D===f){T=!0,f=g,c=_;break}D=D.sibling}if(!T){for(D=_.child;D;){if(D===c){T=!0,c=_,f=g;break}if(D===f){T=!0,f=_,c=g;break}D=D.sibling}if(!T)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Ga(s){return s=Mc(s),s!==null?xo(s):null}function xo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=xo(s);if(a!==null)return a;s=s.sibling}return null}var Eo=e.unstable_scheduleCallback,Qa=e.unstable_cancelCallback,Oc=e.unstable_shouldYield,Od=e.unstable_requestPaint,Xe=e.unstable_now,Lc=e.unstable_getCurrentPriorityLevel,vs=e.unstable_ImmediatePriority,fi=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,Ya=e.unstable_LowPriority,Vc=e.unstable_IdlePriority,ws=null,wn=null;function jc(s){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(ws,s,void 0,(s.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:zc,Xa=Math.log,Fc=Math.LN2;function zc(s){return s>>>=0,s===0?32:31-(Xa(s)/Fc|0)|0}var To=64,bo=4194304;function pi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function xs(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,_=s.pingedLanes,T=c&268435455;if(T!==0){var D=T&~g;D!==0?f=pi(D):(_&=T,_!==0&&(f=pi(_)))}else T=c&~g,T!==0?f=pi(T):_!==0&&(f=pi(_));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-en(a),g=1<<c,f|=s[c],a&=~g;return f}function Ld(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var T=31-en(_),D=1<<T,V=g[T];V===-1?((D&c)===0||(D&f)!==0)&&(g[T]=Ld(D,a)):V<=a&&(s.expiredLanes|=D),_&=~D}}function xn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Es(){var s=To;return To<<=1,(To&4194240)===0&&(To=64),s}function gi(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function mi(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-en(a),s[a]=c}function Qe(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-en(c),_=1<<g;a[g]=0,f[g]=-1,s[g]=-1,c&=~_}}function yi(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-en(c),g=1<<f;g&a|s[f]&a&&(s[f]|=a),c&=~g}}var Ve=0;function _i(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Uc,Io,Bc,$c,Hc,Ja=!1,hr=[],Vt=null,Kn=null,Gn=null,vi=new Map,Rn=new Map,dr=[],Vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(s,a){switch(s){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":vi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(a.pointerId)}}function on(s,a,c,f,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},a!==null&&(a=fl(a),a!==null&&Io(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function jd(s,a,c,f,g){switch(a){case"focusin":return Vt=on(Vt,s,a,c,f,g),!0;case"dragenter":return Kn=on(Kn,s,a,c,f,g),!0;case"mouseover":return Gn=on(Gn,s,a,c,f,g),!0;case"pointerover":var _=g.pointerId;return vi.set(_,on(vi.get(_)||null,s,a,c,f,g)),!0;case"gotpointercapture":return _=g.pointerId,Rn.set(_,on(Rn.get(_)||null,s,a,c,f,g)),!0}return!1}function qc(s){var a=As(s.target);if(a!==null){var c=Wn(a);if(c!==null){if(a=c.tag,a===13){if(a=_s(c),a!==null){s.blockedOn=a,Hc(s.priority,function(){Bc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jr(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=So(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);ps=f,c.target.dispatchEvent(f),ps=null}else return a=fl(c),a!==null&&Io(a),s.blockedOn=c,!1;a.shift()}return!0}function Ts(s,a,c){jr(s)&&c.delete(a)}function Kc(){Ja=!1,Vt!==null&&jr(Vt)&&(Vt=null),Kn!==null&&jr(Kn)&&(Kn=null),Gn!==null&&jr(Gn)&&(Gn=null),vi.forEach(Ts),Rn.forEach(Ts)}function Qn(s,a){s.blockedOn===a&&(s.blockedOn=null,Ja||(Ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kc)))}function Yn(s){function a(g){return Qn(g,s)}if(0<hr.length){Qn(hr[0],s);for(var c=1;c<hr.length;c++){var f=hr[c];f.blockedOn===s&&(f.blockedOn=null)}}for(Vt!==null&&Qn(Vt,s),Kn!==null&&Qn(Kn,s),Gn!==null&&Qn(Gn,s),vi.forEach(a),Rn.forEach(a),c=0;c<dr.length;c++)f=dr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<dr.length&&(c=dr[0],c.blockedOn===null);)qc(c),c.blockedOn===null&&dr.shift()}var Fr=X.ReactCurrentBatchConfig,wi=!0;function ot(s,a,c,f){var g=Ve,_=Fr.transition;Fr.transition=null;try{Ve=1,Za(s,a,c,f)}finally{Ve=g,Fr.transition=_}}function Fd(s,a,c,f){var g=Ve,_=Fr.transition;Fr.transition=null;try{Ve=4,Za(s,a,c,f)}finally{Ve=g,Fr.transition=_}}function Za(s,a,c,f){if(wi){var g=So(s,a,c,f);if(g===null)Yd(s,a,f,bs,c),Wc(s,f);else if(jd(g,s,a,c,f))f.stopPropagation();else if(Wc(s,f),a&4&&-1<Vd.indexOf(s)){for(;g!==null;){var _=fl(g);if(_!==null&&Uc(_),_=So(s,a,c,f),_===null&&Yd(s,a,f,bs,c),_===g)break;g=_}g!==null&&f.stopPropagation()}else Yd(s,a,f,null,c)}}var bs=null;function So(s,a,c,f){if(bs=null,s=go(f),s=As(s),s!==null)if(a=Wn(s),a===null)s=null;else if(c=a.tag,c===13){if(s=_s(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return bs=s,null}function el(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lc()){case vs:return 1;case fi:return 4;case kn:case Ya:return 16;case Vc:return 536870912;default:return 16}default:return 16}}var En=null,Ao=null,an=null;function tl(){if(an)return an;var s,a=Ao,c=a.length,f,g="value"in En?En.value:En.textContent,_=g.length;for(s=0;s<c&&a[s]===g[s];s++);var T=c-s;for(f=1;f<=T&&a[c-f]===g[_-f];f++);return an=g.slice(s,1<f?1-f:void 0)}function Co(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function fr(){return!0}function nl(){return!1}function jt(s){function a(c,f,g,_,T){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(c=s[D],this[D]=c?c(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?fr:nl,this.isPropagationStopped=nl,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),a}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=jt(Xn),pr=ae({},Xn,{view:0,detail:0}),zd=jt(pr),ko,zr,xi,Is=ae({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==xi&&(xi&&s.type==="mousemove"?(ko=s.screenX-xi.screenX,zr=s.screenY-xi.screenY):zr=ko=0,xi=s),ko)},movementY:function(s){return"movementY"in s?s.movementY:zr}}),Ro=jt(Is),rl=ae({},Is,{dataTransfer:0}),Gc=jt(rl),No=ae({},pr,{relatedTarget:0}),Do=jt(No),Qc=ae({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ur=jt(Qc),Yc=ae({},Xn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Xc=jt(Yc),Jc=ae({},Xn,{data:0}),il=jt(Jc),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Zc[s])?!!a[s]:!1}function gr(){return eu}var h=ae({},pr,{key:function(s){if(s.key){var a=Mo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Co(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?tn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(s){return s.type==="keypress"?Co(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Co(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=jt(h),E=ae({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=jt(E),U=ae({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),q=jt(U),re=ae({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=jt(re),It=ae({},Is,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),je=jt(It),Nt=[9,13,27,32],mt=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Tn=u&&"TextEvent"in window&&!Nn,Ss=u&&(!mt||Nn&&8<Nn&&11>=Nn),Oo=" ",Rm=!1;function Nm(s,a){switch(s){case"keyup":return Nt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lo=!1;function G1(s,a){switch(s){case"compositionend":return Dm(a);case"keypress":return a.which!==32?null:(Rm=!0,Oo);case"textInput":return s=a.data,s===Oo&&Rm?null:s;default:return null}}function Q1(s,a){if(Lo)return s==="compositionend"||!mt&&Nm(s,a)?(s=tl(),an=Ao=En=null,Lo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ss&&a.locale!=="ko"?null:a.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Y1[s.type]:a==="textarea"}function Om(s,a,c,f){ur(f),a=su(a,"onChange"),0<a.length&&(c=new Po("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var sl=null,ol=null;function X1(s){Zm(s,0)}function tu(s){var a=Uo(s);if(co(a))return s}function J1(s,a){if(s==="change")return a}var Lm=!1;if(u){var Ud;if(u){var Bd="oninput"in document;if(!Bd){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),Bd=typeof Vm.oninput=="function"}Ud=Bd}else Ud=!1;Lm=Ud&&(!document.documentMode||9<document.documentMode)}function jm(){sl&&(sl.detachEvent("onpropertychange",Fm),ol=sl=null)}function Fm(s){if(s.propertyName==="value"&&tu(ol)){var a=[];Om(a,ol,s,go(s)),qa(X1,a)}}function Z1(s,a,c){s==="focusin"?(jm(),sl=a,ol=c,sl.attachEvent("onpropertychange",Fm)):s==="focusout"&&jm()}function eT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return tu(ol)}function tT(s,a){if(s==="click")return tu(a)}function nT(s,a){if(s==="input"||s==="change")return tu(a)}function rT(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Jn=typeof Object.is=="function"?Object.is:rT;function al(s,a){if(Jn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!d.call(a,g)||!Jn(s[g],a[g]))return!1}return!0}function zm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Um(s,a){var c=zm(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=zm(c)}}function Bm(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Bm(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function $m(){for(var s=window,a=hi();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=hi(s.document)}return a}function $d(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function iT(s){var a=$m(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Bm(c.ownerDocument.documentElement,c)){if(f!==null&&$d(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!s.extend&&_>f&&(g=f,f=_,_=g),g=Um(c,_);var T=Um(c,f);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),_>f?(s.addRange(a),s.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sT=u&&"documentMode"in document&&11>=document.documentMode,Vo=null,Hd=null,ll=null,Wd=!1;function Hm(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Wd||Vo==null||Vo!==hi(f)||(f=Vo,"selectionStart"in f&&$d(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ll&&al(ll,f)||(ll=f,f=su(Hd,"onSelect"),0<f.length&&(a=new Po("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=Vo)))}function nu(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var jo={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},qd={},Wm={};u&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function ru(s){if(qd[s])return qd[s];if(!jo[s])return s;var a=jo[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Wm)return qd[s]=a[c];return s}var qm=ru("animationend"),Km=ru("animationiteration"),Gm=ru("animationstart"),Qm=ru("transitionend"),Ym=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(s,a){Ym.set(s,a),o(a,[s])}for(var Kd=0;Kd<Xm.length;Kd++){var Gd=Xm[Kd],oT=Gd.toLowerCase(),aT=Gd[0].toUpperCase()+Gd.slice(1);Ei(oT,"on"+aT)}Ei(qm,"onAnimationEnd"),Ei(Km,"onAnimationIteration"),Ei(Gm,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Qm,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lT=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Jm(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,Dc(f,a,void 0,s),s.currentTarget=null}function Zm(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var T=f.length-1;0<=T;T--){var D=f[T],V=D.instance,W=D.currentTarget;if(D=D.listener,V!==_&&g.isPropagationStopped())break e;Jm(g,D,W),_=V}else for(T=0;T<f.length;T++){if(D=f[T],V=D.instance,W=D.currentTarget,D=D.listener,V!==_&&g.isPropagationStopped())break e;Jm(g,D,W),_=V}}}if(Hn)throw s=Ka,Hn=!1,Ka=null,s}function tt(s,a){var c=a[nf];c===void 0&&(c=a[nf]=new Set);var f=s+"__bubble";c.has(f)||(ey(a,s,2,!1),c.add(f))}function Qd(s,a,c){var f=0;a&&(f|=4),ey(c,s,f,a)}var iu="_reactListening"+Math.random().toString(36).slice(2);function ul(s){if(!s[iu]){s[iu]=!0,r.forEach(function(c){c!=="selectionchange"&&(lT.has(c)||Qd(c,!1,s),Qd(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[iu]||(a[iu]=!0,Qd("selectionchange",!1,a))}}function ey(s,a,c,f){switch(el(a)){case 1:var g=ot;break;case 4:g=Fd;break;default:g=Za}c=g.bind(null,a,c,s),g=void 0,!_o||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Yd(s,a,c,f,g){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var D=f.stateNode.containerInfo;if(D===g||D.nodeType===8&&D.parentNode===g)break;if(T===4)for(T=f.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===g||V.nodeType===8&&V.parentNode===g))return;T=T.return}for(;D!==null;){if(T=As(D),T===null)return;if(V=T.tag,V===5||V===6){f=_=T;continue e}D=D.parentNode}}f=f.return}qa(function(){var W=_,Z=go(c),ee=[];e:{var J=Ym.get(s);if(J!==void 0){var ce=Po,fe=s;switch(s){case"keypress":if(Co(c)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":fe="focus",ce=Do;break;case"focusout":fe="blur",ce=Do;break;case"beforeblur":case"afterblur":ce=Do;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=q;break;case qm:case Km:case Gm:ce=Ur;break;case Qm:ce=qe;break;case"scroll":ce=zd;break;case"wheel":ce=je;break;case"copy":case"cut":case"paste":ce=Xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var ge=(a&4)!==0,ft=!ge&&s==="scroll",B=ge?J!==null?J+"Capture":null:J;ge=[];for(var j=W,$;j!==null;){$=j;var ne=$.stateNode;if($.tag===5&&ne!==null&&($=ne,B!==null&&(ne=dt(j,B),ne!=null&&ge.push(hl(j,ne,$)))),ft)break;j=j.return}0<ge.length&&(J=new ce(J,fe,null,c,Z),ee.push({event:J,listeners:ge}))}}if((a&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",J&&c!==ps&&(fe=c.relatedTarget||c.fromElement)&&(As(fe)||fe[Br]))break e;if((ce||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ce?(fe=c.relatedTarget||c.toElement,ce=W,fe=fe?As(fe):null,fe!==null&&(ft=Wn(fe),fe!==ft||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=W),ce!==fe)){if(ge=Ro,ne="onMouseLeave",B="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(ge=S,ne="onPointerLeave",B="onPointerEnter",j="pointer"),ft=ce==null?J:Uo(ce),$=fe==null?J:Uo(fe),J=new ge(ne,j+"leave",ce,c,Z),J.target=ft,J.relatedTarget=$,ne=null,As(Z)===W&&(ge=new ge(B,j+"enter",fe,c,Z),ge.target=$,ge.relatedTarget=ft,ne=ge),ft=ne,ce&&fe)t:{for(ge=ce,B=fe,j=0,$=ge;$;$=Fo($))j++;for($=0,ne=B;ne;ne=Fo(ne))$++;for(;0<j-$;)ge=Fo(ge),j--;for(;0<$-j;)B=Fo(B),$--;for(;j--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=Fo(ge),B=Fo(B)}ge=null}else ge=null;ce!==null&&ty(ee,J,ce,ge,!1),fe!==null&&ft!==null&&ty(ee,ft,fe,ge,!0)}}e:{if(J=W?Uo(W):window,ce=J.nodeName&&J.nodeName.toLowerCase(),ce==="select"||ce==="input"&&J.type==="file")var me=J1;else if(Mm(J))if(Lm)me=nT;else{me=eT;var _e=Z1}else(ce=J.nodeName)&&ce.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(me=tT);if(me&&(me=me(s,W))){Om(ee,me,c,Z);break e}_e&&_e(s,J,W),s==="focusout"&&(_e=J._wrapperState)&&_e.controlled&&J.type==="number"&&ho(J,"number",J.value)}switch(_e=W?Uo(W):window,s){case"focusin":(Mm(_e)||_e.contentEditable==="true")&&(Vo=_e,Hd=W,ll=null);break;case"focusout":ll=Hd=Vo=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,Hm(ee,c,Z);break;case"selectionchange":if(sT)break;case"keydown":case"keyup":Hm(ee,c,Z)}var ve;if(mt)e:{switch(s){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Lo?Nm(s,c)&&(Ie="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(Ss&&c.locale!=="ko"&&(Lo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Lo&&(ve=tl()):(En=Z,Ao="value"in En?En.value:En.textContent,Lo=!0)),_e=su(W,Ie),0<_e.length&&(Ie=new il(Ie,s,null,c,Z),ee.push({event:Ie,listeners:_e}),ve?Ie.data=ve:(ve=Dm(c),ve!==null&&(Ie.data=ve)))),(ve=Tn?G1(s,c):Q1(s,c))&&(W=su(W,"onBeforeInput"),0<W.length&&(Z=new il("onBeforeInput","beforeinput",null,c,Z),ee.push({event:Z,listeners:W}),Z.data=ve))}Zm(ee,a)})}function hl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function su(s,a){for(var c=a+"Capture",f=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=dt(s,c),_!=null&&f.unshift(hl(s,_,g)),_=dt(s,a),_!=null&&f.push(hl(s,_,g))),s=s.return}return f}function Fo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ty(s,a,c,f,g){for(var _=a._reactName,T=[];c!==null&&c!==f;){var D=c,V=D.alternate,W=D.stateNode;if(V!==null&&V===f)break;D.tag===5&&W!==null&&(D=W,g?(V=dt(c,_),V!=null&&T.unshift(hl(c,V,D))):g||(V=dt(c,_),V!=null&&T.push(hl(c,V,D)))),c=c.return}T.length!==0&&s.push({event:a,listeners:T})}var cT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function ny(s){return(typeof s=="string"?s:""+s).replace(cT,`
`).replace(uT,"")}function ou(s,a,c){if(a=ny(a),ny(s)!==a&&c)throw Error(t(425))}function au(){}var Xd=null,Jd=null;function Zd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ef=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,dT=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(s){return ry.resolve(null).then(s).catch(fT)}:ef;function fT(s){setTimeout(function(){throw s})}function tf(s,a){var c=a,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),Yn(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Yn(a)}function Ti(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function iy(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var zo=Math.random().toString(36).slice(2),mr="__reactFiber$"+zo,dl="__reactProps$"+zo,Br="__reactContainer$"+zo,nf="__reactEvents$"+zo,pT="__reactListeners$"+zo,gT="__reactHandles$"+zo;function As(s){var a=s[mr];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Br]||c[mr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=iy(s);s!==null;){if(c=s[mr])return c;s=iy(s)}return a}s=c,c=s.parentNode}return null}function fl(s){return s=s[mr]||s[Br],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Uo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function lu(s){return s[dl]||null}var rf=[],Bo=-1;function bi(s){return{current:s}}function nt(s){0>Bo||(s.current=rf[Bo],rf[Bo]=null,Bo--)}function Je(s,a){Bo++,rf[Bo]=s.current,s.current=a}var Ii={},Wt=bi(Ii),ln=bi(!1),Cs=Ii;function $o(s,a){var c=s.type.contextTypes;if(!c)return Ii;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=a[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function cn(s){return s=s.childContextTypes,s!=null}function cu(){nt(ln),nt(Wt)}function sy(s,a,c){if(Wt.current!==Ii)throw Error(t(168));Je(Wt,a),Je(ln,c)}function oy(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,$e(s)||"Unknown",g));return ae({},c,f)}function uu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ii,Cs=Wt.current,Je(Wt,s),Je(ln,ln.current),!0}function ay(s,a,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=oy(s,a,Cs),f.__reactInternalMemoizedMergedChildContext=s,nt(ln),nt(Wt),Je(Wt,s)):nt(ln),Je(ln,c)}var $r=null,hu=!1,sf=!1;function ly(s){$r===null?$r=[s]:$r.push(s)}function mT(s){hu=!0,ly(s)}function Si(){if(!sf&&$r!==null){sf=!0;var s=0,a=Ve;try{var c=$r;for(Ve=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}$r=null,hu=!1}catch(g){throw $r!==null&&($r=$r.slice(s+1)),Eo(vs,Si),g}finally{Ve=a,sf=!1}}return null}var Ho=[],Wo=0,du=null,fu=0,Dn=[],Mn=0,Ps=null,Hr=1,Wr="";function ks(s,a){Ho[Wo++]=fu,Ho[Wo++]=du,du=s,fu=a}function cy(s,a,c){Dn[Mn++]=Hr,Dn[Mn++]=Wr,Dn[Mn++]=Ps,Ps=s;var f=Hr;s=Wr;var g=32-en(f)-1;f&=~(1<<g),c+=1;var _=32-en(a)+g;if(30<_){var T=g-g%5;_=(f&(1<<T)-1).toString(32),f>>=T,g-=T,Hr=1<<32-en(a)+g|c<<g|f,Wr=_+s}else Hr=1<<_|c<<g|f,Wr=s}function of(s){s.return!==null&&(ks(s,1),cy(s,1,0))}function af(s){for(;s===du;)du=Ho[--Wo],Ho[Wo]=null,fu=Ho[--Wo],Ho[Wo]=null;for(;s===Ps;)Ps=Dn[--Mn],Dn[Mn]=null,Wr=Dn[--Mn],Dn[Mn]=null,Hr=Dn[--Mn],Dn[Mn]=null}var bn=null,In=null,at=!1,Zn=null;function uy(s,a){var c=jn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function hy(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,bn=s,In=Ti(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,bn=s,In=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Ps!==null?{id:Hr,overflow:Wr}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=jn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,bn=s,In=null,!0):!1;default:return!1}}function lf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function cf(s){if(at){var a=In;if(a){var c=a;if(!hy(s,a)){if(lf(s))throw Error(t(418));a=Ti(c.nextSibling);var f=bn;a&&hy(s,a)?uy(f,c):(s.flags=s.flags&-4097|2,at=!1,bn=s)}}else{if(lf(s))throw Error(t(418));s.flags=s.flags&-4097|2,at=!1,bn=s}}}function dy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;bn=s}function pu(s){if(s!==bn)return!1;if(!at)return dy(s),at=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Zd(s.type,s.memoizedProps)),a&&(a=In)){if(lf(s))throw fy(),Error(t(418));for(;a;)uy(s,a),a=Ti(a.nextSibling)}if(dy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){In=Ti(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}In=null}}else In=bn?Ti(s.stateNode.nextSibling):null;return!0}function fy(){for(var s=In;s;)s=Ti(s.nextSibling)}function qo(){In=bn=null,at=!1}function uf(s){Zn===null?Zn=[s]:Zn.push(s)}var yT=X.ReactCurrentBatchConfig;function pl(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(T){var D=g.refs;T===null?delete D[_]:D[_]=T},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function gu(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function py(s){var a=s._init;return a(s._payload)}function gy(s){function a(B,j){if(s){var $=B.deletions;$===null?(B.deletions=[j],B.flags|=16):$.push(j)}}function c(B,j){if(!s)return null;for(;j!==null;)a(B,j),j=j.sibling;return null}function f(B,j){for(B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function g(B,j){return B=Mi(B,j),B.index=0,B.sibling=null,B}function _(B,j,$){return B.index=$,s?($=B.alternate,$!==null?($=$.index,$<j?(B.flags|=2,j):$):(B.flags|=2,j)):(B.flags|=1048576,j)}function T(B){return s&&B.alternate===null&&(B.flags|=2),B}function D(B,j,$,ne){return j===null||j.tag!==6?(j=tp($,B.mode,ne),j.return=B,j):(j=g(j,$),j.return=B,j)}function V(B,j,$,ne){var me=$.type;return me===O?Z(B,j,$.props.children,ne,$.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Pe&&py(me)===j.type)?(ne=g(j,$.props),ne.ref=pl(B,j,$),ne.return=B,ne):(ne=Fu($.type,$.key,$.props,null,B.mode,ne),ne.ref=pl(B,j,$),ne.return=B,ne)}function W(B,j,$,ne){return j===null||j.tag!==4||j.stateNode.containerInfo!==$.containerInfo||j.stateNode.implementation!==$.implementation?(j=np($,B.mode,ne),j.return=B,j):(j=g(j,$.children||[]),j.return=B,j)}function Z(B,j,$,ne,me){return j===null||j.tag!==7?(j=js($,B.mode,ne,me),j.return=B,j):(j=g(j,$),j.return=B,j)}function ee(B,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return j=tp(""+j,B.mode,$),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case se:return $=Fu(j.type,j.key,j.props,null,B.mode,$),$.ref=pl(B,null,j),$.return=B,$;case ie:return j=np(j,B.mode,$),j.return=B,j;case Pe:var ne=j._init;return ee(B,ne(j._payload),$)}if(Dr(j)||le(j))return j=js(j,B.mode,$,null),j.return=B,j;gu(B,j)}return null}function J(B,j,$,ne){var me=j!==null?j.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return me!==null?null:D(B,j,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case se:return $.key===me?V(B,j,$,ne):null;case ie:return $.key===me?W(B,j,$,ne):null;case Pe:return me=$._init,J(B,j,me($._payload),ne)}if(Dr($)||le($))return me!==null?null:Z(B,j,$,ne,null);gu(B,$)}return null}function ce(B,j,$,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return B=B.get($)||null,D(j,B,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case se:return B=B.get(ne.key===null?$:ne.key)||null,V(j,B,ne,me);case ie:return B=B.get(ne.key===null?$:ne.key)||null,W(j,B,ne,me);case Pe:var _e=ne._init;return ce(B,j,$,_e(ne._payload),me)}if(Dr(ne)||le(ne))return B=B.get($)||null,Z(j,B,ne,me,null);gu(j,ne)}return null}function fe(B,j,$,ne){for(var me=null,_e=null,ve=j,Ie=j=0,Ot=null;ve!==null&&Ie<$.length;Ie++){ve.index>Ie?(Ot=ve,ve=null):Ot=ve.sibling;var Ue=J(B,ve,$[Ie],ne);if(Ue===null){ve===null&&(ve=Ot);break}s&&ve&&Ue.alternate===null&&a(B,ve),j=_(Ue,j,Ie),_e===null?me=Ue:_e.sibling=Ue,_e=Ue,ve=Ot}if(Ie===$.length)return c(B,ve),at&&ks(B,Ie),me;if(ve===null){for(;Ie<$.length;Ie++)ve=ee(B,$[Ie],ne),ve!==null&&(j=_(ve,j,Ie),_e===null?me=ve:_e.sibling=ve,_e=ve);return at&&ks(B,Ie),me}for(ve=f(B,ve);Ie<$.length;Ie++)Ot=ce(ve,B,Ie,$[Ie],ne),Ot!==null&&(s&&Ot.alternate!==null&&ve.delete(Ot.key===null?Ie:Ot.key),j=_(Ot,j,Ie),_e===null?me=Ot:_e.sibling=Ot,_e=Ot);return s&&ve.forEach(function(Oi){return a(B,Oi)}),at&&ks(B,Ie),me}function ge(B,j,$,ne){var me=le($);if(typeof me!="function")throw Error(t(150));if($=me.call($),$==null)throw Error(t(151));for(var _e=me=null,ve=j,Ie=j=0,Ot=null,Ue=$.next();ve!==null&&!Ue.done;Ie++,Ue=$.next()){ve.index>Ie?(Ot=ve,ve=null):Ot=ve.sibling;var Oi=J(B,ve,Ue.value,ne);if(Oi===null){ve===null&&(ve=Ot);break}s&&ve&&Oi.alternate===null&&a(B,ve),j=_(Oi,j,Ie),_e===null?me=Oi:_e.sibling=Oi,_e=Oi,ve=Ot}if(Ue.done)return c(B,ve),at&&ks(B,Ie),me;if(ve===null){for(;!Ue.done;Ie++,Ue=$.next())Ue=ee(B,Ue.value,ne),Ue!==null&&(j=_(Ue,j,Ie),_e===null?me=Ue:_e.sibling=Ue,_e=Ue);return at&&ks(B,Ie),me}for(ve=f(B,ve);!Ue.done;Ie++,Ue=$.next())Ue=ce(ve,B,Ie,Ue.value,ne),Ue!==null&&(s&&Ue.alternate!==null&&ve.delete(Ue.key===null?Ie:Ue.key),j=_(Ue,j,Ie),_e===null?me=Ue:_e.sibling=Ue,_e=Ue);return s&&ve.forEach(function(YT){return a(B,YT)}),at&&ks(B,Ie),me}function ft(B,j,$,ne){if(typeof $=="object"&&$!==null&&$.type===O&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case se:e:{for(var me=$.key,_e=j;_e!==null;){if(_e.key===me){if(me=$.type,me===O){if(_e.tag===7){c(B,_e.sibling),j=g(_e,$.props.children),j.return=B,B=j;break e}}else if(_e.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Pe&&py(me)===_e.type){c(B,_e.sibling),j=g(_e,$.props),j.ref=pl(B,_e,$),j.return=B,B=j;break e}c(B,_e);break}else a(B,_e);_e=_e.sibling}$.type===O?(j=js($.props.children,B.mode,ne,$.key),j.return=B,B=j):(ne=Fu($.type,$.key,$.props,null,B.mode,ne),ne.ref=pl(B,j,$),ne.return=B,B=ne)}return T(B);case ie:e:{for(_e=$.key;j!==null;){if(j.key===_e)if(j.tag===4&&j.stateNode.containerInfo===$.containerInfo&&j.stateNode.implementation===$.implementation){c(B,j.sibling),j=g(j,$.children||[]),j.return=B,B=j;break e}else{c(B,j);break}else a(B,j);j=j.sibling}j=np($,B.mode,ne),j.return=B,B=j}return T(B);case Pe:return _e=$._init,ft(B,j,_e($._payload),ne)}if(Dr($))return fe(B,j,$,ne);if(le($))return ge(B,j,$,ne);gu(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,j!==null&&j.tag===6?(c(B,j.sibling),j=g(j,$),j.return=B,B=j):(c(B,j),j=tp($,B.mode,ne),j.return=B,B=j),T(B)):c(B,j)}return ft}var Ko=gy(!0),my=gy(!1),mu=bi(null),yu=null,Go=null,hf=null;function df(){hf=Go=yu=null}function ff(s){var a=mu.current;nt(mu),s._currentValue=a}function pf(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function Qo(s,a){yu=s,hf=Go=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(un=!0),s.firstContext=null)}function On(s){var a=s._currentValue;if(hf!==s)if(s={context:s,memoizedValue:a,next:null},Go===null){if(yu===null)throw Error(t(308));Go=s,yu.dependencies={lanes:0,firstContext:s}}else Go=Go.next=s;return a}var Rs=null;function gf(s){Rs===null?Rs=[s]:Rs.push(s)}function yy(s,a,c,f){var g=a.interleaved;return g===null?(c.next=c,gf(a)):(c.next=g.next,g.next=c),a.interleaved=c,qr(s,f)}function qr(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ai=!1;function mf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _y(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Kr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ci(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ze&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,qr(s,c)}return g=f.interleaved,g===null?(a.next=a,gf(f)):(a.next=g.next,g.next=a),f.interleaved=a,qr(s,c)}function _u(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,yi(s,c)}}function vy(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=T:_=_.next=T,c=c.next}while(c!==null);_===null?g=_=a:_=_.next=a}else g=_=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function vu(s,a,c,f){var g=s.updateQueue;Ai=!1;var _=g.firstBaseUpdate,T=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var V=D,W=V.next;V.next=null,T===null?_=W:T.next=W,T=V;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,D=Z.lastBaseUpdate,D!==T&&(D===null?Z.firstBaseUpdate=W:D.next=W,Z.lastBaseUpdate=V))}if(_!==null){var ee=g.baseState;T=0,Z=W=V=null,D=_;do{var J=D.lane,ce=D.eventTime;if((f&J)===J){Z!==null&&(Z=Z.next={eventTime:ce,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var fe=s,ge=D;switch(J=a,ce=c,ge.tag){case 1:if(fe=ge.payload,typeof fe=="function"){ee=fe.call(ce,ee,J);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ge.payload,J=typeof fe=="function"?fe.call(ce,ee,J):fe,J==null)break e;ee=ae({},ee,J);break e;case 2:Ai=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,J=g.effects,J===null?g.effects=[D]:J.push(D))}else ce={eventTime:ce,lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},Z===null?(W=Z=ce,V=ee):Z=Z.next=ce,T|=J;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;J=D,D=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);if(Z===null&&(V=ee),g.baseState=V,g.firstBaseUpdate=W,g.lastBaseUpdate=Z,a=g.shared.interleaved,a!==null){g=a;do T|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);Ms|=T,s.lanes=T,s.memoizedState=ee}}function wy(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var gl={},yr=bi(gl),ml=bi(gl),yl=bi(gl);function Ns(s){if(s===gl)throw Error(t(174));return s}function yf(s,a){switch(Je(yl,a),Je(ml,s),Je(yr,gl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:bt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=bt(a,s)}nt(yr),Je(yr,a)}function Yo(){nt(yr),nt(ml),nt(yl)}function xy(s){Ns(yl.current);var a=Ns(yr.current),c=bt(a,s.type);a!==c&&(Je(ml,s),Je(yr,c))}function _f(s){ml.current===s&&(nt(yr),nt(ml))}var lt=bi(0);function wu(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var vf=[];function wf(){for(var s=0;s<vf.length;s++)vf[s]._workInProgressVersionPrimary=null;vf.length=0}var xu=X.ReactCurrentDispatcher,xf=X.ReactCurrentBatchConfig,Ds=0,ct=null,St=null,Dt=null,Eu=!1,_l=!1,vl=0,_T=0;function qt(){throw Error(t(321))}function Ef(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Jn(s[c],a[c]))return!1;return!0}function Tf(s,a,c,f,g,_){if(Ds=_,ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,xu.current=s===null||s.memoizedState===null?ET:TT,s=c(f,g),_l){_=0;do{if(_l=!1,vl=0,25<=_)throw Error(t(301));_+=1,Dt=St=null,a.updateQueue=null,xu.current=bT,s=c(f,g)}while(_l)}if(xu.current=Iu,a=St!==null&&St.next!==null,Ds=0,Dt=St=ct=null,Eu=!1,a)throw Error(t(300));return s}function bf(){var s=vl!==0;return vl=0,s}function _r(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ct.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function Ln(){if(St===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=St.next;var a=Dt===null?ct.memoizedState:Dt.next;if(a!==null)Dt=a,St=s;else{if(s===null)throw Error(t(310));St=s,s={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Dt===null?ct.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function wl(s,a){return typeof a=="function"?a(s):a}function If(s){var a=Ln(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=St,g=f.baseQueue,_=c.pending;if(_!==null){if(g!==null){var T=g.next;g.next=_.next,_.next=T}f.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,f=f.baseState;var D=T=null,V=null,W=_;do{var Z=W.lane;if((Ds&Z)===Z)V!==null&&(V=V.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),f=W.hasEagerState?W.eagerState:s(f,W.action);else{var ee={lane:Z,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};V===null?(D=V=ee,T=f):V=V.next=ee,ct.lanes|=Z,Ms|=Z}W=W.next}while(W!==null&&W!==_);V===null?T=f:V.next=D,Jn(f,a.memoizedState)||(un=!0),a.memoizedState=f,a.baseState=T,a.baseQueue=V,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do _=g.lane,ct.lanes|=_,Ms|=_,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Sf(s){var a=Ln(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,_=a.memoizedState;if(g!==null){c.pending=null;var T=g=g.next;do _=s(_,T.action),T=T.next;while(T!==g);Jn(_,a.memoizedState)||(un=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,f]}function Ey(){}function Ty(s,a){var c=ct,f=Ln(),g=a(),_=!Jn(f.memoizedState,g);if(_&&(f.memoizedState=g,un=!0),f=f.queue,Af(Sy.bind(null,c,f,s),[s]),f.getSnapshot!==a||_||Dt!==null&&Dt.memoizedState.tag&1){if(c.flags|=2048,xl(9,Iy.bind(null,c,f,g,a),void 0,null),Mt===null)throw Error(t(349));(Ds&30)!==0||by(c,a,g)}return g}function by(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=ct.updateQueue,a===null?(a={lastEffect:null,stores:null},ct.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Iy(s,a,c,f){a.value=c,a.getSnapshot=f,Ay(a)&&Cy(s)}function Sy(s,a,c){return c(function(){Ay(a)&&Cy(s)})}function Ay(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Jn(s,c)}catch{return!0}}function Cy(s){var a=qr(s,1);a!==null&&rr(a,s,1,-1)}function Py(s){var a=_r();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:s},a.queue=s,s=s.dispatch=xT.bind(null,ct,s),[a.memoizedState,s]}function xl(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=ct.updateQueue,a===null?(a={lastEffect:null,stores:null},ct.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function ky(){return Ln().memoizedState}function Tu(s,a,c,f){var g=_r();ct.flags|=s,g.memoizedState=xl(1|a,c,void 0,f===void 0?null:f)}function bu(s,a,c,f){var g=Ln();f=f===void 0?null:f;var _=void 0;if(St!==null){var T=St.memoizedState;if(_=T.destroy,f!==null&&Ef(f,T.deps)){g.memoizedState=xl(a,c,_,f);return}}ct.flags|=s,g.memoizedState=xl(1|a,c,_,f)}function Ry(s,a){return Tu(8390656,8,s,a)}function Af(s,a){return bu(2048,8,s,a)}function Ny(s,a){return bu(4,2,s,a)}function Dy(s,a){return bu(4,4,s,a)}function My(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Oy(s,a,c){return c=c!=null?c.concat([s]):null,bu(4,4,My.bind(null,a,s),c)}function Cf(){}function Ly(s,a){var c=Ln();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Ef(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function Vy(s,a){var c=Ln();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Ef(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function jy(s,a,c){return(Ds&21)===0?(s.baseState&&(s.baseState=!1,un=!0),s.memoizedState=c):(Jn(c,a)||(c=Es(),ct.lanes|=c,Ms|=c,s.baseState=!0),a)}function vT(s,a){var c=Ve;Ve=c!==0&&4>c?c:4,s(!0);var f=xf.transition;xf.transition={};try{s(!1),a()}finally{Ve=c,xf.transition=f}}function Fy(){return Ln().memoizedState}function wT(s,a,c){var f=Ni(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},zy(s))Uy(a,c);else if(c=yy(s,a,c,f),c!==null){var g=rn();rr(c,s,f,g),By(c,a,f)}}function xT(s,a,c){var f=Ni(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(zy(s))Uy(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var T=a.lastRenderedState,D=_(T,c);if(g.hasEagerState=!0,g.eagerState=D,Jn(D,T)){var V=a.interleaved;V===null?(g.next=g,gf(a)):(g.next=V.next,V.next=g),a.interleaved=g;return}}catch{}finally{}c=yy(s,a,g,f),c!==null&&(g=rn(),rr(c,s,f,g),By(c,a,f))}}function zy(s){var a=s.alternate;return s===ct||a!==null&&a===ct}function Uy(s,a){_l=Eu=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function By(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,yi(s,c)}}var Iu={readContext:On,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},ET={readContext:On,useCallback:function(s,a){return _r().memoizedState=[s,a===void 0?null:a],s},useContext:On,useEffect:Ry,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Tu(4194308,4,My.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Tu(4194308,4,s,a)},useInsertionEffect:function(s,a){return Tu(4,2,s,a)},useMemo:function(s,a){var c=_r();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=_r();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=wT.bind(null,ct,s),[f.memoizedState,s]},useRef:function(s){var a=_r();return s={current:s},a.memoizedState=s},useState:Py,useDebugValue:Cf,useDeferredValue:function(s){return _r().memoizedState=s},useTransition:function(){var s=Py(!1),a=s[0];return s=vT.bind(null,s[1]),_r().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=ct,g=_r();if(at){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Mt===null)throw Error(t(349));(Ds&30)!==0||by(f,a,c)}g.memoizedState=c;var _={value:c,getSnapshot:a};return g.queue=_,Ry(Sy.bind(null,f,_,s),[s]),f.flags|=2048,xl(9,Iy.bind(null,f,_,c,a),void 0,null),c},useId:function(){var s=_r(),a=Mt.identifierPrefix;if(at){var c=Wr,f=Hr;c=(f&~(1<<32-en(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=vl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=_T++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},TT={readContext:On,useCallback:Ly,useContext:On,useEffect:Af,useImperativeHandle:Oy,useInsertionEffect:Ny,useLayoutEffect:Dy,useMemo:Vy,useReducer:If,useRef:ky,useState:function(){return If(wl)},useDebugValue:Cf,useDeferredValue:function(s){var a=Ln();return jy(a,St.memoizedState,s)},useTransition:function(){var s=If(wl)[0],a=Ln().memoizedState;return[s,a]},useMutableSource:Ey,useSyncExternalStore:Ty,useId:Fy,unstable_isNewReconciler:!1},bT={readContext:On,useCallback:Ly,useContext:On,useEffect:Af,useImperativeHandle:Oy,useInsertionEffect:Ny,useLayoutEffect:Dy,useMemo:Vy,useReducer:Sf,useRef:ky,useState:function(){return Sf(wl)},useDebugValue:Cf,useDeferredValue:function(s){var a=Ln();return St===null?a.memoizedState=s:jy(a,St.memoizedState,s)},useTransition:function(){var s=Sf(wl)[0],a=Ln().memoizedState;return[s,a]},useMutableSource:Ey,useSyncExternalStore:Ty,useId:Fy,unstable_isNewReconciler:!1};function er(s,a){if(s&&s.defaultProps){a=ae({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Pf(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:ae({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Su={isMounted:function(s){return(s=s._reactInternals)?Wn(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=rn(),g=Ni(s),_=Kr(f,g);_.payload=a,c!=null&&(_.callback=c),a=Ci(s,_,g),a!==null&&(rr(a,s,g,f),_u(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=rn(),g=Ni(s),_=Kr(f,g);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=Ci(s,_,g),a!==null&&(rr(a,s,g,f),_u(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=rn(),f=Ni(s),g=Kr(c,f);g.tag=2,a!=null&&(g.callback=a),a=Ci(s,g,f),a!==null&&(rr(a,s,f,c),_u(a,s,f))}};function $y(s,a,c,f,g,_,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,T):a.prototype&&a.prototype.isPureReactComponent?!al(c,f)||!al(g,_):!0}function Hy(s,a,c){var f=!1,g=Ii,_=a.contextType;return typeof _=="object"&&_!==null?_=On(_):(g=cn(a)?Cs:Wt.current,f=a.contextTypes,_=(f=f!=null)?$o(s,g):Ii),a=new a(c,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Su,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),a}function Wy(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&Su.enqueueReplaceState(a,a.state,null)}function kf(s,a,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},mf(s);var _=a.contextType;typeof _=="object"&&_!==null?g.context=On(_):(_=cn(a)?Cs:Wt.current,g.context=$o(s,_)),g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Pf(s,a,_,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Su.enqueueReplaceState(g,g.state,null),vu(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Xo(s,a){try{var c="",f=a;do c+=Ae(f),f=f.return;while(f);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:g,digest:null}}function Rf(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Nf(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var IT=typeof WeakMap=="function"?WeakMap:Map;function qy(s,a,c){c=Kr(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Du||(Du=!0,Kf=f),Nf(s,a)},c}function Ky(s,a,c){c=Kr(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){Nf(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Nf(s,a),typeof f!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),c}function Gy(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new IT;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),s=FT.bind(null,s,a,c),a.then(s,s))}function Qy(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Yy(s,a,c,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Kr(-1,1),a.tag=2,Ci(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var ST=X.ReactCurrentOwner,un=!1;function nn(s,a,c,f){a.child=s===null?my(a,null,c,f):Ko(a,s.child,c,f)}function Xy(s,a,c,f,g){c=c.render;var _=a.ref;return Qo(a,g),f=Tf(s,a,c,f,_,g),c=bf(),s!==null&&!un?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Gr(s,a,g)):(at&&c&&of(a),a.flags|=1,nn(s,a,f,g),a.child)}function Jy(s,a,c,f,g){if(s===null){var _=c.type;return typeof _=="function"&&!ep(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,Zy(s,a,_,f,g)):(s=Fu(c.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&g)===0){var T=_.memoizedProps;if(c=c.compare,c=c!==null?c:al,c(T,f)&&s.ref===a.ref)return Gr(s,a,g)}return a.flags|=1,s=Mi(_,f),s.ref=a.ref,s.return=a,a.child=s}function Zy(s,a,c,f,g){if(s!==null){var _=s.memoizedProps;if(al(_,f)&&s.ref===a.ref)if(un=!1,a.pendingProps=f=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(un=!0);else return a.lanes=s.lanes,Gr(s,a,g)}return Df(s,a,c,f,g)}function e_(s,a,c){var f=a.pendingProps,g=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Zo,Sn),Sn|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Je(Zo,Sn),Sn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:c,Je(Zo,Sn),Sn|=f}else _!==null?(f=_.baseLanes|c,a.memoizedState=null):f=c,Je(Zo,Sn),Sn|=f;return nn(s,a,g,c),a.child}function t_(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Df(s,a,c,f,g){var _=cn(c)?Cs:Wt.current;return _=$o(a,_),Qo(a,g),c=Tf(s,a,c,f,_,g),f=bf(),s!==null&&!un?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Gr(s,a,g)):(at&&f&&of(a),a.flags|=1,nn(s,a,c,g),a.child)}function n_(s,a,c,f,g){if(cn(c)){var _=!0;uu(a)}else _=!1;if(Qo(a,g),a.stateNode===null)Cu(s,a),Hy(a,c,f),kf(a,c,f,g),f=!0;else if(s===null){var T=a.stateNode,D=a.memoizedProps;T.props=D;var V=T.context,W=c.contextType;typeof W=="object"&&W!==null?W=On(W):(W=cn(c)?Cs:Wt.current,W=$o(a,W));var Z=c.getDerivedStateFromProps,ee=typeof Z=="function"||typeof T.getSnapshotBeforeUpdate=="function";ee||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==f||V!==W)&&Wy(a,T,f,W),Ai=!1;var J=a.memoizedState;T.state=J,vu(a,f,T,g),V=a.memoizedState,D!==f||J!==V||ln.current||Ai?(typeof Z=="function"&&(Pf(a,c,Z,f),V=a.memoizedState),(D=Ai||$y(a,c,D,f,J,V,W))?(ee||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=V),T.props=f,T.state=V,T.context=W,f=D):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,_y(s,a),D=a.memoizedProps,W=a.type===a.elementType?D:er(a.type,D),T.props=W,ee=a.pendingProps,J=T.context,V=c.contextType,typeof V=="object"&&V!==null?V=On(V):(V=cn(c)?Cs:Wt.current,V=$o(a,V));var ce=c.getDerivedStateFromProps;(Z=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==ee||J!==V)&&Wy(a,T,f,V),Ai=!1,J=a.memoizedState,T.state=J,vu(a,f,T,g);var fe=a.memoizedState;D!==ee||J!==fe||ln.current||Ai?(typeof ce=="function"&&(Pf(a,c,ce,f),fe=a.memoizedState),(W=Ai||$y(a,c,W,f,J,fe,V)||!1)?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,fe,V),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,fe,V)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=fe),T.props=f,T.state=fe,T.context=V,f=W):(typeof T.componentDidUpdate!="function"||D===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),f=!1)}return Mf(s,a,c,f,_,g)}function Mf(s,a,c,f,g,_){t_(s,a);var T=(a.flags&128)!==0;if(!f&&!T)return g&&ay(a,c,!1),Gr(s,a,_);f=a.stateNode,ST.current=a;var D=T&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&T?(a.child=Ko(a,s.child,null,_),a.child=Ko(a,null,D,_)):nn(s,a,D,_),a.memoizedState=f.state,g&&ay(a,c,!0),a.child}function r_(s){var a=s.stateNode;a.pendingContext?sy(s,a.pendingContext,a.pendingContext!==a.context):a.context&&sy(s,a.context,!1),yf(s,a.containerInfo)}function i_(s,a,c,f,g){return qo(),uf(g),a.flags|=256,nn(s,a,c,f),a.child}var Of={dehydrated:null,treeContext:null,retryLane:0};function Lf(s){return{baseLanes:s,cachePool:null,transitions:null}}function s_(s,a,c){var f=a.pendingProps,g=lt.current,_=!1,T=(a.flags&128)!==0,D;if((D=T)||(D=s!==null&&s.memoizedState===null?!1:(g&2)!==0),D?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Je(lt,g&1),s===null)return cf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(T=f.children,s=f.fallback,_?(f=a.mode,_=a.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=zu(T,f,0,null),s=js(s,f,c,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Lf(c),a.memoizedState=Of,s):Vf(a,T));if(g=s.memoizedState,g!==null&&(D=g.dehydrated,D!==null))return AT(s,a,T,f,D,g,c);if(_){_=f.fallback,T=a.mode,g=s.child,D=g.sibling;var V={mode:"hidden",children:f.children};return(T&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=V,a.deletions=null):(f=Mi(g,V),f.subtreeFlags=g.subtreeFlags&14680064),D!==null?_=Mi(D,_):(_=js(_,T,c,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,T=s.child.memoizedState,T=T===null?Lf(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=s.childLanes&~c,a.memoizedState=Of,f}return _=s.child,s=_.sibling,f=Mi(_,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function Vf(s,a){return a=zu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Au(s,a,c,f){return f!==null&&uf(f),Ko(a,s.child,null,c),s=Vf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function AT(s,a,c,f,g,_,T){if(c)return a.flags&256?(a.flags&=-257,f=Rf(Error(t(422))),Au(s,a,T,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=f.fallback,g=a.mode,f=zu({mode:"visible",children:f.children},g,0,null),_=js(_,g,T,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,(a.mode&1)!==0&&Ko(a,s.child,null,T),a.child.memoizedState=Lf(T),a.memoizedState=Of,_);if((a.mode&1)===0)return Au(s,a,T,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var D=f.dgst;return f=D,_=Error(t(419)),f=Rf(_,f,void 0),Au(s,a,T,f)}if(D=(T&s.childLanes)!==0,un||D){if(f=Mt,f!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|T))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,qr(s,g),rr(f,s,g,-1))}return Zf(),f=Rf(Error(t(421))),Au(s,a,T,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=zT.bind(null,s),g._reactRetry=a,null):(s=_.treeContext,In=Ti(g.nextSibling),bn=a,at=!0,Zn=null,s!==null&&(Dn[Mn++]=Hr,Dn[Mn++]=Wr,Dn[Mn++]=Ps,Hr=s.id,Wr=s.overflow,Ps=a),a=Vf(a,f.children),a.flags|=4096,a)}function o_(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),pf(s.return,a,c)}function jf(s,a,c,f,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=c,_.tailMode=g)}function a_(s,a,c){var f=a.pendingProps,g=f.revealOrder,_=f.tail;if(nn(s,a,f.children,c),f=lt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&o_(s,c,a);else if(s.tag===19)o_(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Je(lt,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&wu(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),jf(a,!1,g,c,_);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&wu(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}jf(a,!0,c,null,_);break;case"together":jf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Cu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Gr(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Ms|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Mi(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Mi(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function CT(s,a,c){switch(a.tag){case 3:r_(a),qo();break;case 5:xy(a);break;case 1:cn(a.type)&&uu(a);break;case 4:yf(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;Je(mu,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Je(lt,lt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?s_(s,a,c):(Je(lt,lt.current&1),s=Gr(s,a,c),s!==null?s.sibling:null);Je(lt,lt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return a_(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(lt,lt.current),f)break;return null;case 22:case 23:return a.lanes=0,e_(s,a,c)}return Gr(s,a,c)}var l_,Ff,c_,u_;l_=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ff=function(){},c_=function(s,a,c,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,Ns(yr.current);var _=null;switch(c){case"input":g=hs(s,g),f=hs(s,f),_=[];break;case"select":g=ae({},g,{value:void 0}),f=ae({},f,{value:void 0}),_=[];break;case"textarea":g=La(s,g),f=La(s,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=au)}Ba(c,f);var T;c=null;for(W in g)if(!f.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var D=g[W];for(T in D)D.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?_||(_=[]):(_=_||[]).push(W,null));for(W in f){var V=f[W];if(D=g!=null?g[W]:void 0,f.hasOwnProperty(W)&&V!==D&&(V!=null||D!=null))if(W==="style")if(D){for(T in D)!D.hasOwnProperty(T)||V&&V.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in V)V.hasOwnProperty(T)&&D[T]!==V[T]&&(c||(c={}),c[T]=V[T])}else c||(_||(_=[]),_.push(W,c)),c=V;else W==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,D=D?D.__html:void 0,V!=null&&D!==V&&(_=_||[]).push(W,V)):W==="children"?typeof V!="string"&&typeof V!="number"||(_=_||[]).push(W,""+V):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(V!=null&&W==="onScroll"&&tt("scroll",s),_||D===V||(_=[])):(_=_||[]).push(W,V))}c&&(_=_||[]).push("style",c);var W=_;(a.updateQueue=W)&&(a.flags|=4)}},u_=function(s,a,c,f){c!==f&&(a.flags|=4)};function El(s,a){if(!at)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Kt(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function PT(s,a,c){var f=a.pendingProps;switch(af(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(a),null;case 1:return cn(a.type)&&cu(),Kt(a),null;case 3:return f=a.stateNode,Yo(),nt(ln),nt(Wt),wf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(pu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zn!==null&&(Yf(Zn),Zn=null))),Ff(s,a),Kt(a),null;case 5:_f(a);var g=Ns(yl.current);if(c=a.type,s!==null&&a.stateNode!=null)c_(s,a,c,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Kt(a),null}if(s=Ns(yr.current),pu(a)){f=a.stateNode,c=a.type;var _=a.memoizedProps;switch(f[mr]=a,f[dl]=_,s=(a.mode&1)!==0,c){case"dialog":tt("cancel",f),tt("close",f);break;case"iframe":case"object":case"embed":tt("load",f);break;case"video":case"audio":for(g=0;g<cl.length;g++)tt(cl[g],f);break;case"source":tt("error",f);break;case"img":case"image":case"link":tt("error",f),tt("load",f);break;case"details":tt("toggle",f);break;case"input":uo(f,_),tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},tt("invalid",f);break;case"textarea":fo(f,_),tt("invalid",f)}Ba(c,_),g=null;for(var T in _)if(_.hasOwnProperty(T)){var D=_[T];T==="children"?typeof D=="string"?f.textContent!==D&&(_.suppressHydrationWarning!==!0&&ou(f.textContent,D,s),g=["children",D]):typeof D=="number"&&f.textContent!==""+D&&(_.suppressHydrationWarning!==!0&&ou(f.textContent,D,s),g=["children",""+D]):i.hasOwnProperty(T)&&D!=null&&T==="onScroll"&&tt("scroll",f)}switch(c){case"input":Nr(f),Nc(f,_,!0);break;case"textarea":Nr(f),Va(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=au)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Tt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=T.createElement(c,{is:f.is}):(s=T.createElement(c),c==="select"&&(T=s,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):s=T.createElementNS(s,c),s[mr]=a,s[dl]=f,l_(s,a,!1,!1),a.stateNode=s;e:{switch(T=$a(c,f),c){case"dialog":tt("cancel",s),tt("close",s),g=f;break;case"iframe":case"object":case"embed":tt("load",s),g=f;break;case"video":case"audio":for(g=0;g<cl.length;g++)tt(cl[g],s);g=f;break;case"source":tt("error",s),g=f;break;case"img":case"image":case"link":tt("error",s),tt("load",s),g=f;break;case"details":tt("toggle",s),g=f;break;case"input":uo(s,f),g=hs(s,f),tt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ae({},f,{value:void 0}),tt("invalid",s);break;case"textarea":fo(s,f),g=La(s,f),tt("invalid",s);break;default:g=f}Ba(c,g),D=g;for(_ in D)if(D.hasOwnProperty(_)){var V=D[_];_==="style"?za(s,V):_==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ja(s,V)):_==="children"?typeof V=="string"?(c!=="textarea"||V!=="")&&di(s,V):typeof V=="number"&&di(s,""+V):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?V!=null&&_==="onScroll"&&tt("scroll",s):V!=null&&K(s,_,V,T))}switch(c){case"input":Nr(s),Nc(s,f,!1);break;case"textarea":Nr(s),Va(s);break;case"option":f.value!=null&&s.setAttribute("value",""+He(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?Mr(s,!!f.multiple,_,!1):f.defaultValue!=null&&Mr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=au)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Kt(a),null;case 6:if(s&&a.stateNode!=null)u_(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ns(yl.current),Ns(yr.current),pu(a)){if(f=a.stateNode,c=a.memoizedProps,f[mr]=a,(_=f.nodeValue!==c)&&(s=bn,s!==null))switch(s.tag){case 3:ou(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ou(f.nodeValue,c,(s.mode&1)!==0)}_&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[mr]=a,a.stateNode=f}return Kt(a),null;case 13:if(nt(lt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&In!==null&&(a.mode&1)!==0&&(a.flags&128)===0)fy(),qo(),a.flags|=98560,_=!1;else if(_=pu(a),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[mr]=a}else qo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Kt(a),_=!1}else Zn!==null&&(Yf(Zn),Zn=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(lt.current&1)!==0?At===0&&(At=3):Zf())),a.updateQueue!==null&&(a.flags|=4),Kt(a),null);case 4:return Yo(),Ff(s,a),s===null&&ul(a.stateNode.containerInfo),Kt(a),null;case 10:return ff(a.type._context),Kt(a),null;case 17:return cn(a.type)&&cu(),Kt(a),null;case 19:if(nt(lt),_=a.memoizedState,_===null)return Kt(a),null;if(f=(a.flags&128)!==0,T=_.rendering,T===null)if(f)El(_,!1);else{if(At!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=wu(s),T!==null){for(a.flags|=128,El(_,!1),f=T.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)_=c,s=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,s=T.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Je(lt,lt.current&1|2),a.child}s=s.sibling}_.tail!==null&&Xe()>ea&&(a.flags|=128,f=!0,El(_,!1),a.lanes=4194304)}else{if(!f)if(s=wu(T),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),El(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!at)return Kt(a),null}else 2*Xe()-_.renderingStartTime>ea&&c!==1073741824&&(a.flags|=128,f=!0,El(_,!1),a.lanes=4194304);_.isBackwards?(T.sibling=a.child,a.child=T):(c=_.last,c!==null?c.sibling=T:a.child=T,_.last=T)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Xe(),a.sibling=null,c=lt.current,Je(lt,f?c&1|2:c&1),a):(Kt(a),null);case 22:case 23:return Jf(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Sn&1073741824)!==0&&(Kt(a),a.subtreeFlags&6&&(a.flags|=8192)):Kt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function kT(s,a){switch(af(a),a.tag){case 1:return cn(a.type)&&cu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Yo(),nt(ln),nt(Wt),wf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return _f(a),null;case 13:if(nt(lt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));qo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return nt(lt),null;case 4:return Yo(),null;case 10:return ff(a.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Pu=!1,Gt=!1,RT=typeof WeakSet=="function"?WeakSet:Set,de=null;function Jo(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){ht(s,a,f)}else c.current=null}function zf(s,a,c){try{c()}catch(f){ht(s,a,f)}}var h_=!1;function NT(s,a){if(Xd=wi,s=$m(),$d(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var T=0,D=-1,V=-1,W=0,Z=0,ee=s,J=null;t:for(;;){for(var ce;ee!==c||g!==0&&ee.nodeType!==3||(D=T+g),ee!==_||f!==0&&ee.nodeType!==3||(V=T+f),ee.nodeType===3&&(T+=ee.nodeValue.length),(ce=ee.firstChild)!==null;)J=ee,ee=ce;for(;;){if(ee===s)break t;if(J===c&&++W===g&&(D=T),J===_&&++Z===f&&(V=T),(ce=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=ce}c=D===-1||V===-1?null:{start:D,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(Jd={focusedElem:s,selectionRange:c},wi=!1,de=a;de!==null;)if(a=de,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,de=s;else for(;de!==null;){a=de;try{var fe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var ge=fe.memoizedProps,ft=fe.memoizedState,B=a.stateNode,j=B.getSnapshotBeforeUpdate(a.elementType===a.type?ge:er(a.type,ge),ft);B.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var $=a.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){ht(a,a.return,ne)}if(s=a.sibling,s!==null){s.return=a.return,de=s;break}de=a.return}return fe=h_,h_=!1,fe}function Tl(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&zf(a,c,_)}g=g.next}while(g!==f)}}function ku(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function Uf(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function d_(s){var a=s.alternate;a!==null&&(s.alternate=null,d_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[mr],delete a[dl],delete a[nf],delete a[pT],delete a[gT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function f_(s){return s.tag===5||s.tag===3||s.tag===4}function p_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||f_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Bf(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=au));else if(f!==4&&(s=s.child,s!==null))for(Bf(s,a,c),s=s.sibling;s!==null;)Bf(s,a,c),s=s.sibling}function $f(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for($f(s,a,c),s=s.sibling;s!==null;)$f(s,a,c),s=s.sibling}var Ft=null,tr=!1;function Pi(s,a,c){for(c=c.child;c!==null;)g_(s,a,c),c=c.sibling}function g_(s,a,c){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(ws,c)}catch{}switch(c.tag){case 5:Gt||Jo(c,a);case 6:var f=Ft,g=tr;Ft=null,Pi(s,a,c),Ft=f,tr=g,Ft!==null&&(tr?(s=Ft,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Ft.removeChild(c.stateNode));break;case 18:Ft!==null&&(tr?(s=Ft,c=c.stateNode,s.nodeType===8?tf(s.parentNode,c):s.nodeType===1&&tf(s,c),Yn(s)):tf(Ft,c.stateNode));break;case 4:f=Ft,g=tr,Ft=c.stateNode.containerInfo,tr=!0,Pi(s,a,c),Ft=f,tr=g;break;case 0:case 11:case 14:case 15:if(!Gt&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&zf(c,a,T),g=g.next}while(g!==f)}Pi(s,a,c);break;case 1:if(!Gt&&(Jo(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(D){ht(c,a,D)}Pi(s,a,c);break;case 21:Pi(s,a,c);break;case 22:c.mode&1?(Gt=(f=Gt)||c.memoizedState!==null,Pi(s,a,c),Gt=f):Pi(s,a,c);break;default:Pi(s,a,c)}}function m_(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new RT),a.forEach(function(f){var g=UT.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function nr(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var _=s,T=a,D=T;e:for(;D!==null;){switch(D.tag){case 5:Ft=D.stateNode,tr=!1;break e;case 3:Ft=D.stateNode.containerInfo,tr=!0;break e;case 4:Ft=D.stateNode.containerInfo,tr=!0;break e}D=D.return}if(Ft===null)throw Error(t(160));g_(_,T,g),Ft=null,tr=!1;var V=g.alternate;V!==null&&(V.return=null),g.return=null}catch(W){ht(g,a,W)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)y_(a,s),a=a.sibling}function y_(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(nr(a,s),vr(s),f&4){try{Tl(3,s,s.return),ku(3,s)}catch(ge){ht(s,s.return,ge)}try{Tl(5,s,s.return)}catch(ge){ht(s,s.return,ge)}}break;case 1:nr(a,s),vr(s),f&512&&c!==null&&Jo(c,c.return);break;case 5:if(nr(a,s),vr(s),f&512&&c!==null&&Jo(c,c.return),s.flags&32){var g=s.stateNode;try{di(g,"")}catch(ge){ht(s,s.return,ge)}}if(f&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,T=c!==null?c.memoizedProps:_,D=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{D==="input"&&_.type==="radio"&&_.name!=null&&Ma(g,_),$a(D,T);var W=$a(D,_);for(T=0;T<V.length;T+=2){var Z=V[T],ee=V[T+1];Z==="style"?za(g,ee):Z==="dangerouslySetInnerHTML"?ja(g,ee):Z==="children"?di(g,ee):K(g,Z,ee,W)}switch(D){case"input":Oa(g,_);break;case"textarea":po(g,_);break;case"select":var J=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ce=_.value;ce!=null?Mr(g,!!_.multiple,ce,!1):J!==!!_.multiple&&(_.defaultValue!=null?Mr(g,!!_.multiple,_.defaultValue,!0):Mr(g,!!_.multiple,_.multiple?[]:"",!1))}g[dl]=_}catch(ge){ht(s,s.return,ge)}}break;case 6:if(nr(a,s),vr(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(ge){ht(s,s.return,ge)}}break;case 3:if(nr(a,s),vr(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Yn(a.containerInfo)}catch(ge){ht(s,s.return,ge)}break;case 4:nr(a,s),vr(s);break;case 13:nr(a,s),vr(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(qf=Xe())),f&4&&m_(s);break;case 22:if(Z=c!==null&&c.memoizedState!==null,s.mode&1?(Gt=(W=Gt)||Z,nr(a,s),Gt=W):nr(a,s),vr(s),f&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!Z&&(s.mode&1)!==0)for(de=s,Z=s.child;Z!==null;){for(ee=de=Z;de!==null;){switch(J=de,ce=J.child,J.tag){case 0:case 11:case 14:case 15:Tl(4,J,J.return);break;case 1:Jo(J,J.return);var fe=J.stateNode;if(typeof fe.componentWillUnmount=="function"){f=J,c=J.return;try{a=f,fe.props=a.memoizedProps,fe.state=a.memoizedState,fe.componentWillUnmount()}catch(ge){ht(f,c,ge)}}break;case 5:Jo(J,J.return);break;case 22:if(J.memoizedState!==null){w_(ee);continue}}ce!==null?(ce.return=J,de=ce):w_(ee)}Z=Z.sibling}e:for(Z=null,ee=s;;){if(ee.tag===5){if(Z===null){Z=ee;try{g=ee.stateNode,W?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(D=ee.stateNode,V=ee.memoizedProps.style,T=V!=null&&V.hasOwnProperty("display")?V.display:null,D.style.display=Fa("display",T))}catch(ge){ht(s,s.return,ge)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=W?"":ee.memoizedProps}catch(ge){ht(s,s.return,ge)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===s)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===s)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===s)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:nr(a,s),vr(s),f&4&&m_(s);break;case 21:break;default:nr(a,s),vr(s)}}function vr(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(f_(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(di(g,""),f.flags&=-33);var _=p_(s);$f(s,_,g);break;case 3:case 4:var T=f.stateNode.containerInfo,D=p_(s);Bf(s,D,T);break;default:throw Error(t(161))}}catch(V){ht(s,s.return,V)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function DT(s,a,c){de=s,__(s)}function __(s,a,c){for(var f=(s.mode&1)!==0;de!==null;){var g=de,_=g.child;if(g.tag===22&&f){var T=g.memoizedState!==null||Pu;if(!T){var D=g.alternate,V=D!==null&&D.memoizedState!==null||Gt;D=Pu;var W=Gt;if(Pu=T,(Gt=V)&&!W)for(de=g;de!==null;)T=de,V=T.child,T.tag===22&&T.memoizedState!==null?x_(g):V!==null?(V.return=T,de=V):x_(g);for(;_!==null;)de=_,__(_),_=_.sibling;de=g,Pu=D,Gt=W}v_(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,de=_):v_(s)}}function v_(s){for(;de!==null;){var a=de;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Gt||ku(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Gt)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:er(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&wy(a,_,f);break;case 3:var T=a.updateQueue;if(T!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}wy(a,T,c)}break;case 5:var D=a.stateNode;if(c===null&&a.flags&4){c=D;var V=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&c.focus();break;case"img":V.src&&(c.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var W=a.alternate;if(W!==null){var Z=W.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&Yn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gt||a.flags&512&&Uf(a)}catch(J){ht(a,a.return,J)}}if(a===s){de=null;break}if(c=a.sibling,c!==null){c.return=a.return,de=c;break}de=a.return}}function w_(s){for(;de!==null;){var a=de;if(a===s){de=null;break}var c=a.sibling;if(c!==null){c.return=a.return,de=c;break}de=a.return}}function x_(s){for(;de!==null;){var a=de;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{ku(4,a)}catch(V){ht(a,c,V)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(V){ht(a,g,V)}}var _=a.return;try{Uf(a)}catch(V){ht(a,_,V)}break;case 5:var T=a.return;try{Uf(a)}catch(V){ht(a,T,V)}}}catch(V){ht(a,a.return,V)}if(a===s){de=null;break}var D=a.sibling;if(D!==null){D.return=a.return,de=D;break}de=a.return}}var MT=Math.ceil,Ru=X.ReactCurrentDispatcher,Hf=X.ReactCurrentOwner,Vn=X.ReactCurrentBatchConfig,ze=0,Mt=null,yt=null,zt=0,Sn=0,Zo=bi(0),At=0,bl=null,Ms=0,Nu=0,Wf=0,Il=null,hn=null,qf=0,ea=1/0,Qr=null,Du=!1,Kf=null,ki=null,Mu=!1,Ri=null,Ou=0,Sl=0,Gf=null,Lu=-1,Vu=0;function rn(){return(ze&6)!==0?Xe():Lu!==-1?Lu:Lu=Xe()}function Ni(s){return(s.mode&1)===0?1:(ze&2)!==0&&zt!==0?zt&-zt:yT.transition!==null?(Vu===0&&(Vu=Es()),Vu):(s=Ve,s!==0||(s=window.event,s=s===void 0?16:el(s.type)),s)}function rr(s,a,c,f){if(50<Sl)throw Sl=0,Gf=null,Error(t(185));mi(s,c,f),((ze&2)===0||s!==Mt)&&(s===Mt&&((ze&2)===0&&(Nu|=c),At===4&&Di(s,zt)),dn(s,f),c===1&&ze===0&&(a.mode&1)===0&&(ea=Xe()+500,hu&&Si()))}function dn(s,a){var c=s.callbackNode;Vr(s,a);var f=xs(s,s===Mt?zt:0);if(f===0)c!==null&&Qa(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&Qa(c),a===1)s.tag===0?mT(T_.bind(null,s)):ly(T_.bind(null,s)),dT(function(){(ze&6)===0&&Si()}),c=null;else{switch(_i(f)){case 1:c=vs;break;case 4:c=fi;break;case 16:c=kn;break;case 536870912:c=Vc;break;default:c=kn}c=R_(c,E_.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function E_(s,a){if(Lu=-1,Vu=0,(ze&6)!==0)throw Error(t(327));var c=s.callbackNode;if(ta()&&s.callbackNode!==c)return null;var f=xs(s,s===Mt?zt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=ju(s,f);else{a=f;var g=ze;ze|=2;var _=I_();(Mt!==s||zt!==a)&&(Qr=null,ea=Xe()+500,Ls(s,a));do try{VT();break}catch(D){b_(s,D)}while(!0);df(),Ru.current=_,ze=g,yt!==null?a=0:(Mt=null,zt=0,a=At)}if(a!==0){if(a===2&&(g=xn(s),g!==0&&(f=g,a=Qf(s,g))),a===1)throw c=bl,Ls(s,0),Di(s,f),dn(s,Xe()),c;if(a===6)Di(s,f);else{if(g=s.current.alternate,(f&30)===0&&!OT(g)&&(a=ju(s,f),a===2&&(_=xn(s),_!==0&&(f=_,a=Qf(s,_))),a===1))throw c=bl,Ls(s,0),Di(s,f),dn(s,Xe()),c;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:Vs(s,hn,Qr);break;case 3:if(Di(s,f),(f&130023424)===f&&(a=qf+500-Xe(),10<a)){if(xs(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){rn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=ef(Vs.bind(null,s,hn,Qr),a);break}Vs(s,hn,Qr);break;case 4:if(Di(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var T=31-en(f);_=1<<T,T=a[T],T>g&&(g=T),f&=~_}if(f=g,f=Xe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*MT(f/1960))-f,10<f){s.timeoutHandle=ef(Vs.bind(null,s,hn,Qr),f);break}Vs(s,hn,Qr);break;case 5:Vs(s,hn,Qr);break;default:throw Error(t(329))}}}return dn(s,Xe()),s.callbackNode===c?E_.bind(null,s):null}function Qf(s,a){var c=Il;return s.current.memoizedState.isDehydrated&&(Ls(s,a).flags|=256),s=ju(s,a),s!==2&&(a=hn,hn=c,a!==null&&Yf(a)),s}function Yf(s){hn===null?hn=s:hn.push.apply(hn,s)}function OT(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],_=g.getSnapshot;g=g.value;try{if(!Jn(_(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Di(s,a){for(a&=~Wf,a&=~Nu,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-en(a),f=1<<c;s[c]=-1,a&=~f}}function T_(s){if((ze&6)!==0)throw Error(t(327));ta();var a=xs(s,0);if((a&1)===0)return dn(s,Xe()),null;var c=ju(s,a);if(s.tag!==0&&c===2){var f=xn(s);f!==0&&(a=f,c=Qf(s,f))}if(c===1)throw c=bl,Ls(s,0),Di(s,a),dn(s,Xe()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Vs(s,hn,Qr),dn(s,Xe()),null}function Xf(s,a){var c=ze;ze|=1;try{return s(a)}finally{ze=c,ze===0&&(ea=Xe()+500,hu&&Si())}}function Os(s){Ri!==null&&Ri.tag===0&&(ze&6)===0&&ta();var a=ze;ze|=1;var c=Vn.transition,f=Ve;try{if(Vn.transition=null,Ve=1,s)return s()}finally{Ve=f,Vn.transition=c,ze=a,(ze&6)===0&&Si()}}function Jf(){Sn=Zo.current,nt(Zo)}function Ls(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,hT(c)),yt!==null)for(c=yt.return;c!==null;){var f=c;switch(af(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&cu();break;case 3:Yo(),nt(ln),nt(Wt),wf();break;case 5:_f(f);break;case 4:Yo();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:ff(f.type._context);break;case 22:case 23:Jf()}c=c.return}if(Mt=s,yt=s=Mi(s.current,null),zt=Sn=a,At=0,bl=null,Wf=Nu=Ms=0,hn=Il=null,Rs!==null){for(a=0;a<Rs.length;a++)if(c=Rs[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,_=c.pending;if(_!==null){var T=_.next;_.next=g,f.next=T}c.pending=f}Rs=null}return s}function b_(s,a){do{var c=yt;try{if(df(),xu.current=Iu,Eu){for(var f=ct.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Eu=!1}if(Ds=0,Dt=St=ct=null,_l=!1,vl=0,Hf.current=null,c===null||c.return===null){At=1,bl=a,yt=null;break}e:{var _=s,T=c.return,D=c,V=a;if(a=zt,D.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=V,Z=D,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ce=Qy(T);if(ce!==null){ce.flags&=-257,Yy(ce,T,D,_,a),ce.mode&1&&Gy(_,W,a),a=ce,V=W;var fe=a.updateQueue;if(fe===null){var ge=new Set;ge.add(V),a.updateQueue=ge}else fe.add(V);break e}else{if((a&1)===0){Gy(_,W,a),Zf();break e}V=Error(t(426))}}else if(at&&D.mode&1){var ft=Qy(T);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Yy(ft,T,D,_,a),uf(Xo(V,D));break e}}_=V=Xo(V,D),At!==4&&(At=2),Il===null?Il=[_]:Il.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var B=qy(_,V,a);vy(_,B);break e;case 1:D=V;var j=_.type,$=_.stateNode;if((_.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(ki===null||!ki.has($)))){_.flags|=65536,a&=-a,_.lanes|=a;var ne=Ky(_,D,a);vy(_,ne);break e}}_=_.return}while(_!==null)}A_(c)}catch(me){a=me,yt===c&&c!==null&&(yt=c=c.return);continue}break}while(!0)}function I_(){var s=Ru.current;return Ru.current=Iu,s===null?Iu:s}function Zf(){(At===0||At===3||At===2)&&(At=4),Mt===null||(Ms&268435455)===0&&(Nu&268435455)===0||Di(Mt,zt)}function ju(s,a){var c=ze;ze|=2;var f=I_();(Mt!==s||zt!==a)&&(Qr=null,Ls(s,a));do try{LT();break}catch(g){b_(s,g)}while(!0);if(df(),ze=c,Ru.current=f,yt!==null)throw Error(t(261));return Mt=null,zt=0,At}function LT(){for(;yt!==null;)S_(yt)}function VT(){for(;yt!==null&&!Oc();)S_(yt)}function S_(s){var a=k_(s.alternate,s,Sn);s.memoizedProps=s.pendingProps,a===null?A_(s):yt=a,Hf.current=null}function A_(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=PT(c,a,Sn),c!==null){yt=c;return}}else{if(c=kT(c,a),c!==null){c.flags&=32767,yt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{At=6,yt=null;return}}if(a=a.sibling,a!==null){yt=a;return}yt=a=s}while(a!==null);At===0&&(At=5)}function Vs(s,a,c){var f=Ve,g=Vn.transition;try{Vn.transition=null,Ve=1,jT(s,a,c,f)}finally{Vn.transition=g,Ve=f}return null}function jT(s,a,c,f){do ta();while(Ri!==null);if((ze&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(Qe(s,_),s===Mt&&(yt=Mt=null,zt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Mu||(Mu=!0,R_(kn,function(){return ta(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Vn.transition,Vn.transition=null;var T=Ve;Ve=1;var D=ze;ze|=4,Hf.current=null,NT(s,c),y_(c,s),iT(Jd),wi=!!Xd,Jd=Xd=null,s.current=c,DT(c),Od(),ze=D,Ve=T,Vn.transition=_}else s.current=c;if(Mu&&(Mu=!1,Ri=s,Ou=g),_=s.pendingLanes,_===0&&(ki=null),jc(c.stateNode),dn(s,Xe()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(Du)throw Du=!1,s=Kf,Kf=null,s;return(Ou&1)!==0&&s.tag!==0&&ta(),_=s.pendingLanes,(_&1)!==0?s===Gf?Sl++:(Sl=0,Gf=s):Sl=0,Si(),null}function ta(){if(Ri!==null){var s=_i(Ou),a=Vn.transition,c=Ve;try{if(Vn.transition=null,Ve=16>s?16:s,Ri===null)var f=!1;else{if(s=Ri,Ri=null,Ou=0,(ze&6)!==0)throw Error(t(331));var g=ze;for(ze|=4,de=s.current;de!==null;){var _=de,T=_.child;if((de.flags&16)!==0){var D=_.deletions;if(D!==null){for(var V=0;V<D.length;V++){var W=D[V];for(de=W;de!==null;){var Z=de;switch(Z.tag){case 0:case 11:case 15:Tl(8,Z,_)}var ee=Z.child;if(ee!==null)ee.return=Z,de=ee;else for(;de!==null;){Z=de;var J=Z.sibling,ce=Z.return;if(d_(Z),Z===W){de=null;break}if(J!==null){J.return=ce,de=J;break}de=ce}}}var fe=_.alternate;if(fe!==null){var ge=fe.child;if(ge!==null){fe.child=null;do{var ft=ge.sibling;ge.sibling=null,ge=ft}while(ge!==null)}}de=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,de=T;else e:for(;de!==null;){if(_=de,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Tl(9,_,_.return)}var B=_.sibling;if(B!==null){B.return=_.return,de=B;break e}de=_.return}}var j=s.current;for(de=j;de!==null;){T=de;var $=T.child;if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,de=$;else e:for(T=j;de!==null;){if(D=de,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:ku(9,D)}}catch(me){ht(D,D.return,me)}if(D===T){de=null;break e}var ne=D.sibling;if(ne!==null){ne.return=D.return,de=ne;break e}de=D.return}}if(ze=g,Si(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(ws,s)}catch{}f=!0}return f}finally{Ve=c,Vn.transition=a}}return!1}function C_(s,a,c){a=Xo(c,a),a=qy(s,a,1),s=Ci(s,a,1),a=rn(),s!==null&&(mi(s,1,a),dn(s,a))}function ht(s,a,c){if(s.tag===3)C_(s,s,c);else for(;a!==null;){if(a.tag===3){C_(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ki===null||!ki.has(f))){s=Xo(c,s),s=Ky(a,s,1),a=Ci(a,s,1),s=rn(),a!==null&&(mi(a,1,s),dn(a,s));break}}a=a.return}}function FT(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=rn(),s.pingedLanes|=s.suspendedLanes&c,Mt===s&&(zt&c)===c&&(At===4||At===3&&(zt&130023424)===zt&&500>Xe()-qf?Ls(s,0):Wf|=c),dn(s,a)}function P_(s,a){a===0&&((s.mode&1)===0?a=1:(a=bo,bo<<=1,(bo&130023424)===0&&(bo=4194304)));var c=rn();s=qr(s,a),s!==null&&(mi(s,a,c),dn(s,c))}function zT(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),P_(s,c)}function UT(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),P_(s,c)}var k_;k_=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||ln.current)un=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return un=!1,CT(s,a,c);un=(s.flags&131072)!==0}else un=!1,at&&(a.flags&1048576)!==0&&cy(a,fu,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Cu(s,a),s=a.pendingProps;var g=$o(a,Wt.current);Qo(a,c),g=Tf(null,a,f,s,g,c);var _=bf();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,cn(f)?(_=!0,uu(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,mf(a),g.updater=Su,a.stateNode=g,g._reactInternals=a,kf(a,f,s,c),a=Mf(null,a,f,!0,_,c)):(a.tag=0,at&&_&&of(a),nn(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Cu(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=$T(f),s=er(f,s),g){case 0:a=Df(null,a,f,s,c);break e;case 1:a=n_(null,a,f,s,c);break e;case 11:a=Xy(null,a,f,s,c);break e;case 14:a=Jy(null,a,f,er(f.type,s),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:er(f,g),Df(s,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:er(f,g),n_(s,a,f,g,c);case 3:e:{if(r_(a),s===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,g=_.element,_y(s,a),vu(a,f,null,c);var T=a.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=Xo(Error(t(423)),a),a=i_(s,a,f,c,g);break e}else if(f!==g){g=Xo(Error(t(424)),a),a=i_(s,a,f,c,g);break e}else for(In=Ti(a.stateNode.containerInfo.firstChild),bn=a,at=!0,Zn=null,c=my(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(qo(),f===g){a=Gr(s,a,c);break e}nn(s,a,f,c)}a=a.child}return a;case 5:return xy(a),s===null&&cf(a),f=a.type,g=a.pendingProps,_=s!==null?s.memoizedProps:null,T=g.children,Zd(f,g)?T=null:_!==null&&Zd(f,_)&&(a.flags|=32),t_(s,a),nn(s,a,T,c),a.child;case 6:return s===null&&cf(a),null;case 13:return s_(s,a,c);case 4:return yf(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ko(a,null,f,c):nn(s,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:er(f,g),Xy(s,a,f,g,c);case 7:return nn(s,a,a.pendingProps,c),a.child;case 8:return nn(s,a,a.pendingProps.children,c),a.child;case 12:return nn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,_=a.memoizedProps,T=g.value,Je(mu,f._currentValue),f._currentValue=T,_!==null)if(Jn(_.value,T)){if(_.children===g.children&&!ln.current){a=Gr(s,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var D=_.dependencies;if(D!==null){T=_.child;for(var V=D.firstContext;V!==null;){if(V.context===f){if(_.tag===1){V=Kr(-1,c&-c),V.tag=2;var W=_.updateQueue;if(W!==null){W=W.shared;var Z=W.pending;Z===null?V.next=V:(V.next=Z.next,Z.next=V),W.pending=V}}_.lanes|=c,V=_.alternate,V!==null&&(V.lanes|=c),pf(_.return,c,a),D.lanes|=c;break}V=V.next}}else if(_.tag===10)T=_.type===a.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=c,D=T.alternate,D!==null&&(D.lanes|=c),pf(T,c,a),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===a){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}nn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Qo(a,c),g=On(g),f=f(g),a.flags|=1,nn(s,a,f,c),a.child;case 14:return f=a.type,g=er(f,a.pendingProps),g=er(f.type,g),Jy(s,a,f,g,c);case 15:return Zy(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:er(f,g),Cu(s,a),a.tag=1,cn(f)?(s=!0,uu(a)):s=!1,Qo(a,c),Hy(a,f,g),kf(a,f,g,c),Mf(null,a,f,!0,s,c);case 19:return a_(s,a,c);case 22:return e_(s,a,c)}throw Error(t(156,a.tag))};function R_(s,a){return Eo(s,a)}function BT(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,a,c,f){return new BT(s,a,c,f)}function ep(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $T(s){if(typeof s=="function")return ep(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===we)return 14}return 2}function Mi(s,a){var c=s.alternate;return c===null?(c=jn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Fu(s,a,c,f,g,_){var T=2;if(f=s,typeof s=="function")ep(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case O:return js(c.children,g,_,a);case k:T=8,g|=8;break;case N:return s=jn(12,c,a,g|2),s.elementType=N,s.lanes=_,s;case R:return s=jn(13,c,a,g),s.elementType=R,s.lanes=_,s;case ke:return s=jn(19,c,a,g),s.elementType=ke,s.lanes=_,s;case xe:return zu(c,g,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:T=10;break e;case C:T=9;break e;case L:T=11;break e;case we:T=14;break e;case Pe:T=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=jn(T,c,a,g),a.elementType=s,a.type=f,a.lanes=_,a}function js(s,a,c,f){return s=jn(7,s,f,a),s.lanes=c,s}function zu(s,a,c,f){return s=jn(22,s,f,a),s.elementType=xe,s.lanes=c,s.stateNode={isHidden:!1},s}function tp(s,a,c){return s=jn(6,s,null,a),s.lanes=c,s}function np(s,a,c){return a=jn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function HT(s,a,c,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function rp(s,a,c,f,g,_,T,D,V){return s=new HT(s,a,c,D,V),a===1?(a=1,_===!0&&(a|=8)):a=0,_=jn(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},mf(_),s}function WT(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function N_(s){if(!s)return Ii;s=s._reactInternals;e:{if(Wn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(cn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(cn(c))return oy(s,c,a)}return a}function D_(s,a,c,f,g,_,T,D,V){return s=rp(c,f,!0,s,g,_,T,D,V),s.context=N_(null),c=s.current,f=rn(),g=Ni(c),_=Kr(f,g),_.callback=a??null,Ci(c,_,g),s.current.lanes=g,mi(s,g,f),dn(s,f),s}function Uu(s,a,c,f){var g=a.current,_=rn(),T=Ni(g);return c=N_(c),a.context===null?a.context=c:a.pendingContext=c,a=Kr(_,T),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Ci(g,a,T),s!==null&&(rr(s,g,T,_),_u(s,g,T)),T}function Bu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function M_(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function ip(s,a){M_(s,a),(s=s.alternate)&&M_(s,a)}function qT(){return null}var O_=typeof reportError=="function"?reportError:function(s){console.error(s)};function sp(s){this._internalRoot=s}$u.prototype.render=sp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Uu(s,a,null,null)},$u.prototype.unmount=sp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Os(function(){Uu(null,s,null,null)}),a[Br]=null}};function $u(s){this._internalRoot=s}$u.prototype.unstable_scheduleHydration=function(s){if(s){var a=$c();s={blockedOn:null,target:s,priority:a};for(var c=0;c<dr.length&&a!==0&&a<dr[c].priority;c++);dr.splice(c,0,s),c===0&&qc(s)}};function op(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Hu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function L_(){}function KT(s,a,c,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var W=Bu(T);_.call(W)}}var T=D_(a,f,s,0,null,!1,!1,"",L_);return s._reactRootContainer=T,s[Br]=T.current,ul(s.nodeType===8?s.parentNode:s),Os(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var D=f;f=function(){var W=Bu(V);D.call(W)}}var V=rp(s,0,!1,null,null,!1,!1,"",L_);return s._reactRootContainer=V,s[Br]=V.current,ul(s.nodeType===8?s.parentNode:s),Os(function(){Uu(a,V,c,f)}),V}function Wu(s,a,c,f,g){var _=c._reactRootContainer;if(_){var T=_;if(typeof g=="function"){var D=g;g=function(){var V=Bu(T);D.call(V)}}Uu(a,T,s,g)}else T=KT(c,a,s,g,f);return Bu(T)}Uc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=pi(a.pendingLanes);c!==0&&(yi(a,c|1),dn(a,Xe()),(ze&6)===0&&(ea=Xe()+500,Si()))}break;case 13:Os(function(){var f=qr(s,1);if(f!==null){var g=rn();rr(f,s,1,g)}}),ip(s,1)}},Io=function(s){if(s.tag===13){var a=qr(s,134217728);if(a!==null){var c=rn();rr(a,s,134217728,c)}ip(s,134217728)}},Bc=function(s){if(s.tag===13){var a=Ni(s),c=qr(s,a);if(c!==null){var f=rn();rr(c,s,a,f)}ip(s,a)}},$c=function(){return Ve},Hc=function(s,a){var c=Ve;try{return Ve=s,a()}finally{Ve=c}},mo=function(s,a,c){switch(a){case"input":if(Oa(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var g=lu(f);if(!g)throw Error(t(90));co(f),Oa(f,g)}}}break;case"textarea":po(s,c);break;case"select":a=c.value,a!=null&&Mr(s,!!c.multiple,a,!1)}},gs=Xf,Wa=Os;var GT={usingClientEntryPoint:!1,Events:[fl,Uo,lu,ur,Ha,Xf]},Al={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QT={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ga(s),s===null?null:s.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{ws=qu.inject(QT),wn=qu}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT,fn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!op(a))throw Error(t(200));return WT(s,a,null,c)},fn.createRoot=function(s,a){if(!op(s))throw Error(t(299));var c=!1,f="",g=O_;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=rp(s,1,!1,null,null,c,!1,f,g),s[Br]=a.current,ul(s.nodeType===8?s.parentNode:s),new sp(a)},fn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ga(a),s=s===null?null:s.stateNode,s},fn.flushSync=function(s){return Os(s)},fn.hydrate=function(s,a,c){if(!Hu(a))throw Error(t(200));return Wu(null,s,a,!0,c)},fn.hydrateRoot=function(s,a,c){if(!op(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,_="",T=O_;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),a=D_(a,null,s,1,c??null,g,!1,_,T),s[Br]=a.current,ul(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new $u(a)},fn.render=function(s,a,c){if(!Hu(a))throw Error(t(200));return Wu(null,s,a,!1,c)},fn.unmountComponentAtNode=function(s){if(!Hu(s))throw Error(t(40));return s._reactRootContainer?(Os(function(){Wu(null,null,s,!1,function(){s._reactRootContainer=null,s[Br]=null})}),!0):!1},fn.unstable_batchedUpdates=Xf,fn.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!Hu(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Wu(s,a,c,!1,f)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var H_;function ob(){if(H_)return cp.exports;H_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cp.exports=sb(),cp.exports}var W_;function ab(){if(W_)return Ku;W_=1;var n=ob();return Ku.createRoot=n.createRoot,Ku.hydrateRoot=n.hydrateRoot,Ku}var lb=ab();const cb=n=>n instanceof Error?n.message+`
`+n.stack:JSON.stringify(n,null,2);class ub extends xg.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?w.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[w.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),w.jsx("pre",{className:"mt-2 text-sm",children:cb(this.state.error)})]}):this.props.children}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},db=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,m=o>>2,v=(o&3)<<4|u>>4;let x=(u&15)<<2|p>>6,b=p&63;d||(b=64,l||(x=64)),r.push(t[m],t[v],t[x],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Mw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):db(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||p==null||v==null)throw new fb;const x=o<<2|u>>4;if(r.push(x),p!==64){const b=u<<4&240|p>>2;if(r.push(b),v!==64){const P=p<<6&192|v;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pb=function(n){const e=Mw(n);return Ow.encodeByteArray(e,!0)},kh=function(n){return pb(n).replace(/\./g,"")},Lw=function(n){try{return Ow.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=()=>gb().__FIREBASE_DEFAULTS__,yb=()=>{if(typeof process>"u"||typeof q_>"u")return;const n=q_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_b=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Lw(n[1]);return e&&JSON.parse(e)},ad=()=>{try{return hb()||mb()||yb()||_b()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Vw=n=>{var e,t;return(t=(e=ad())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},vb=n=>{const e=Vw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},jw=()=>{var n;return(n=ad())==null?void 0:n.config},Fw=n=>{var e;return(e=ad())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[kh(JSON.stringify(t)),kh(JSON.stringify(l)),""].join(".")}const ql={};function Eb(){const n={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?n.emulator.push(e):n.prod.push(e);return n}function Tb(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let K_=!1;function Uw(n,e){if(typeof window>"u"||typeof document>"u"||!Ia(window.location.host)||ql[n]===e||ql[n]||K_)return;ql[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=Eb().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{K_=!0,l()},x}function m(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=Tb(r),b=t("text"),P=document.getElementById(b)||document.createElement("span"),A=t("learnmore"),I=document.getElementById(A)||document.createElement("a"),F=t("preprendIcon"),H=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const K=x.element;u(K),m(I,A);const X=p();d(H,F),K.append(H,P,I,X),document.body.appendChild(K)}o?(P.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Ib(){var e;const n=(e=ad())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ab(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pb(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kb(){return!Ib()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rb(){try{return typeof indexedDB=="object"}catch{return!1}}function Nb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="FirebaseError";class ui extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Db,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?Mb(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new ui(i,u,r)}}function Mb(n,e){return n.replace(Ob,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ob=/\{\$([^}]+)}/g;function Lb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ys(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(G_(o)&&G_(l)){if(!Ys(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function G_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ml(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ol(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Vb(n,e){const t=new jb(n,e);return t.subscribe.bind(t)}class jb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Fb(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=dp),i.error===void 0&&(i.error=dp),i.complete===void 0&&(i.complete=dp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(n){return n&&n._delegate?n._delegate:n}class Xs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new wb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bb(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ub(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ub(n){return n===Bs?void 0:n}function Bb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const Hb={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Wb=Me.INFO,qb={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Kb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=qb[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eg{constructor(e){this.name=e,this._logLevel=Wb,this._logHandler=Kb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Gb=(n,e)=>e.some(t=>n instanceof t);let Q_,Y_;function Qb(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yb(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bw=new WeakMap,Op=new WeakMap,$w=new WeakMap,fp=new WeakMap,Tg=new WeakMap;function Xb(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(qi(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Bw.set(t,n)}).catch(()=>{}),Tg.set(e,n),e}function Jb(n){if(Op.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Op.set(n,e)}let Lp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Op.get(n);if(e==="objectStoreNames")return n.objectStoreNames||$w.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Zb(n){Lp=n(Lp)}function eI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(pp(this),e,...t);return $w.set(r,e.sort?e.sort():[e]),qi(r)}:Yb().includes(n)?function(...e){return n.apply(pp(this),e),qi(Bw.get(this))}:function(...e){return qi(n.apply(pp(this),e))}}function tI(n){return typeof n=="function"?eI(n):(n instanceof IDBTransaction&&Jb(n),Gb(n,Qb())?new Proxy(n,Lp):n)}function qi(n){if(n instanceof IDBRequest)return Xb(n);if(fp.has(n))return fp.get(n);const e=tI(n);return e!==n&&(fp.set(n,e),Tg.set(e,n)),e}const pp=n=>Tg.get(n);function nI(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=qi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(qi(l.result),d.oldVersion,d.newVersion,qi(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const rI=["get","getKey","getAll","getAllKeys","count"],iI=["put","add","delete","clear"],gp=new Map;function X_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=iI.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rI.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&d.done]))[0]};return gp.set(e,o),o}Zb(n=>({...n,get:(e,t,r)=>X_(e,t)||n.get(e,t,r),has:(e,t)=>!!X_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oI(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function oI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vp="@firebase/app",J_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Eg("@firebase/app"),aI="@firebase/app-compat",lI="@firebase/analytics-compat",cI="@firebase/analytics",uI="@firebase/app-check-compat",hI="@firebase/app-check",dI="@firebase/auth",fI="@firebase/auth-compat",pI="@firebase/database",gI="@firebase/data-connect",mI="@firebase/database-compat",yI="@firebase/functions",_I="@firebase/functions-compat",vI="@firebase/installations",wI="@firebase/installations-compat",xI="@firebase/messaging",EI="@firebase/messaging-compat",TI="@firebase/performance",bI="@firebase/performance-compat",II="@firebase/remote-config",SI="@firebase/remote-config-compat",AI="@firebase/storage",CI="@firebase/storage-compat",PI="@firebase/firestore",kI="@firebase/ai",RI="@firebase/firestore-compat",NI="firebase",DI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]",MI={[Vp]:"fire-core",[aI]:"fire-core-compat",[cI]:"fire-analytics",[lI]:"fire-analytics-compat",[hI]:"fire-app-check",[uI]:"fire-app-check-compat",[dI]:"fire-auth",[fI]:"fire-auth-compat",[pI]:"fire-rtdb",[gI]:"fire-data-connect",[mI]:"fire-rtdb-compat",[yI]:"fire-fn",[_I]:"fire-fn-compat",[vI]:"fire-iid",[wI]:"fire-iid-compat",[xI]:"fire-fcm",[EI]:"fire-fcm-compat",[TI]:"fire-perf",[bI]:"fire-perf-compat",[II]:"fire-rc",[SI]:"fire-rc-compat",[AI]:"fire-gcs",[CI]:"fire-gcs-compat",[PI]:"fire-fst",[RI]:"fire-fst-compat",[kI]:"fire-vertex","fire-js":"fire-js",[NI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,OI=new Map,Fp=new Map;function Z_(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ma(n){const e=n.name;if(Fp.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Fp.set(e,n);for(const t of Rh.values())Z_(t,n);for(const t of OI.values())Z_(t,n);return!0}function bg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new _c("app","Firebase",LI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=DI;function Hw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:jp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(t||(t=jw()),!t)throw Ki.create("no-options");const o=Rh.get(i);if(o){if(Ys(t,o.options)&&Ys(r,o.config))return o;throw Ki.create("duplicate-app",{appName:i})}const l=new $b(i);for(const d of Fp.values())l.addComponent(d);const u=new VI(t,r,l);return Rh.set(i,u),u}function Ww(n=jp){const e=Rh.get(n);if(!e&&n===jp&&jw())return Hw();if(!e)throw Ki.create("no-app",{appName:n});return e}function Gi(n,e,t){let r=MI[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(l.join(" "));return}ma(new Xs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebase-heartbeat-database",FI=1,ic="firebase-heartbeat-store";let mp=null;function qw(){return mp||(mp=nI(jI,FI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ic)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ki.create("idb-open",{originalErrorMessage:n.message})})),mp}async function zI(n){try{const t=(await qw()).transaction(ic),r=await t.objectStore(ic).get(Kw(n));return await t.done,r}catch(e){if(e instanceof ui)ii.warn(e.message);else{const t=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(t.message)}}}async function e0(n,e){try{const r=(await qw()).transaction(ic,"readwrite");await r.objectStore(ic).put(e,Kw(n)),await r.done}catch(t){if(t instanceof ui)ii.warn(t.message);else{const r=Ki.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ii.warn(r.message)}}}function Kw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1024,BI=30;class $I{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=t0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>BI){const l=qI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=t0(),{heartbeatsToSend:r,unsentEntries:i}=HI(this._heartbeatsCache.heartbeats),o=kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ii.warn(t),""}}}function t0(){return new Date().toISOString().substring(0,10)}function HI(n,e=UI){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),n0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),n0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class WI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rb()?Nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function n0(n){return kh(JSON.stringify({version:2,heartbeats:n})).length}function qI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n){ma(new Xs("platform-logger",e=>new sI(e),"PRIVATE")),ma(new Xs("heartbeat",e=>new $I(e),"PRIVATE")),Gi(Vp,J_,n),Gi(Vp,J_,"esm2020"),Gi("fire-js","")}KI("");function Gw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GI=Gw,Qw=new _c("auth","Firebase",Gw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Eg("@firebase/auth");function QI(n,...e){Nh.logLevel<=Me.WARN&&Nh.warn(`Auth (${Sa}): ${n}`,...e)}function yh(n,...e){Nh.logLevel<=Me.ERROR&&Nh.error(`Auth (${Sa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n,...e){throw Ig(n,...e)}function Ir(n,...e){return Ig(n,...e)}function Yw(n,e,t){const r={...GI(),[e]:t};return new _c("auth","Firebase",r).create(e,{appName:n.name})}function ri(n){return Yw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ig(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Qw.create(n,...e)}function Ee(n,e,...t){if(!n)throw Ig(e,...t)}function ti(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yh(e),new Error(e)}function si(n,e){n||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function YI(){return r0()==="http:"||r0()==="https:"}function r0(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YI()||Ab()||"connection"in navigator)?navigator.onLine:!0}function JI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=bb()||Cb()}get(){return XI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tS=new wc(3e4,6e4);function os(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function as(n,e,t,r,i={}){return Jw(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=vc({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:d,...o};return Sb()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ia(n.emulatorConfig.host)&&(p.credentials="include"),Xw.fetch()(await Zw(n,n.config.apiHost,t,u),p)})}async function Jw(n,e,t){n._canInitEmulator=!1;const r={...ZI,...e};try{const i=new rS(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Gu(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Gu(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Gu(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Yw(n,m,p);or(n,m)}}catch(i){if(i instanceof ui)throw i;or(n,"network-request-failed",{message:String(i)})}}async function xc(n,e,t,r,i={}){const o=await as(n,e,t,r,i);return"mfaPendingCredential"in o&&or(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Zw(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?Sg(n.config,i):`${n.config.apiScheme}://${i}`;return eS.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function nS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),tS.get())})}}function Gu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ir(n,e,r);return i.customData._tokenResponse=t,i}function i0(n){return n!==void 0&&n.enterprise!==void 0}class iS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sS(n,e){return as(n,"GET","/v2/recaptchaConfig",os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(n,e){return as(n,"POST","/v1/accounts:delete",e)}async function Dh(n,e){return as(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aS(n,e=!1){const t=kt(n),r=await t.getIdToken(e),i=Ag(r);Ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Kl(yp(i.auth_time)),issuedAtTime:Kl(yp(i.iat)),expirationTime:Kl(yp(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function yp(n){return Number(n)*1e3}function Ag(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lw(t);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function s0(n){const e=Ag(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ui&&lS(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function lS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(n){var v;const e=n.auth,t=await n.getIdToken(),r=await sc(n,Dh(e,{idToken:t}));Ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const o=(v=i.providerUserInfo)!=null&&v.length?ex(i.providerUserInfo):[],l=hS(n.providerData,o),u=n.isAnonymous,d=!(n.email&&i.passwordHash)&&!(l!=null&&l.length),p=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Up(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function uS(n){const e=kt(n);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hS(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ex(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(n,e){const t=await Jw(n,{},async()=>{const r=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await Zw(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&Ia(n.emulatorConfig.host)&&(d.credentials="include"),Xw.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fS(n,e){return as(n,"POST","/v2/accounts:revokeToken",os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=s0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await dS(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new ua;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ir{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new cS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Up(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await sc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aS(this,e)}reload(){return uS(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await sc(this,oS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,p=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:P,stsTokenManager:A}=t;Ee(v&&A,e,"internal-error");const I=ua.fromJSON(this.name,A);Ee(typeof v=="string",e,"internal-error"),Li(r,e.name),Li(i,e.name),Ee(typeof x=="boolean",e,"internal-error"),Ee(typeof b=="boolean",e,"internal-error"),Li(o,e.name),Li(l,e.name),Li(u,e.name),Li(d,e.name),Li(p,e.name),Li(m,e.name);const F=new ir({uid:v,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:I,createdAt:p,lastLoginAt:m});return P&&Array.isArray(P)&&(F.providerData=P.map(H=>({...H}))),d&&(F._redirectEventId=d),F}static async _fromIdTokenResponse(e,t,r=!1){const i=new ua;i.updateFromServerResponse(t);const o=new ir({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ee(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?ex(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new ua;u.updateFromIdToken(r);const d=new ir({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Up(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;function ni(n){si(n instanceof Function,"Expected a class definition");let e=o0.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,o0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tx.type="NONE";const a0=tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(n,e,t){return`firebase:${n}:${e}:${t}`}class ha{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_h(this.userKey,i.apiKey,o),this.fullPersistenceKey=_h("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Dh(this.auth,{idToken:e}).catch(()=>{});return t?ir._fromGetAccountInfoResponse(this.auth,t,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ha(ni(a0),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||ni(a0);const l=_h(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){let v;if(typeof m=="string"){const x=await Dh(e,{idToken:m}).catch(()=>{});if(!x)break;v=await ir._fromGetAccountInfoResponse(e,x,m)}else v=ir._fromJSON(e,m);p!==o&&(u=v),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new ha(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new ha(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ax(e))return"Blackberry";if(lx(e))return"Webos";if(rx(e))return"Safari";if((e.includes("chrome/")||ix(e))&&!e.includes("edge/"))return"Chrome";if(ox(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nx(n=Zt()){return/firefox\//i.test(n)}function rx(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ix(n=Zt()){return/crios\//i.test(n)}function sx(n=Zt()){return/iemobile/i.test(n)}function ox(n=Zt()){return/android/i.test(n)}function ax(n=Zt()){return/blackberry/i.test(n)}function lx(n=Zt()){return/webos/i.test(n)}function Cg(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pS(n=Zt()){var e;return Cg(n)&&!!((e=window.navigator)!=null&&e.standalone)}function gS(){return Pb()&&document.documentMode===10}function cx(n=Zt()){return Cg(n)||ox(n)||lx(n)||ax(n)||/windows phone/i.test(n)||sx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n,e=[]){let t;switch(n){case"Browser":t=l0(Zt());break;case"Worker":t=`${l0(Zt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(n,e={}){return as(n,"GET","/v2/passwordPolicy",os(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=6;class vS{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_S,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new mS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Dh(this,{idToken:e}),r=await ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(zn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(ri(this));const t=e?kt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yS(this),t=new vS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await fS(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ni(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&QI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function io(n){return kt(n)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vb(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xS(n){ld=n}function hx(n){return ld.loadJS(n)}function ES(){return ld.recaptchaEnterpriseScript}function TS(){return ld.gapiScript}function bS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class IS{constructor(){this.enterprise=new SS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AS="recaptcha-enterprise",dx="NO_RECAPTCHA";class CS{constructor(e){this.type=AS,this.auth=io(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{sS(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new iS(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;i0(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(dx)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IS().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&i0(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=ES();d.length!==0&&(d+=u),hx(d).then(()=>{i(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function u0(n,e,t,r=!1,i=!1){const o=new CS(n);let l;if(i)l=dx;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Bp(n,e,t,r,i){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await u0(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await u0(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n,e){const t=bg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ys(o,e??{}))return i;or(i,"already-initialized")}return t.initialize({options:e})}function kS(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RS(n,e,t){const r=io(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=fx(e),{host:l,port:u}=NS(e),d=u===null?"":`:${u}`,p={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Ys(p,r.config.emulator)&&Ys(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ia(l)?(zw(`${o}//${l}${d}`),Uw("Auth",!0)):DS()}function fx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NS(n){const e=fx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:h0(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:h0(l)}}}function h0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DS(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,t){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function MS(n,e){return as(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(n,e){return xc(n,"POST","/v1/accounts:signInWithPassword",os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(n,e){return xc(n,"POST","/v1/accounts:signInWithEmailLink",os(n,e))}async function VS(n,e){return xc(n,"POST","/v1/accounts:signInWithEmailLink",os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Pg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new oc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new oc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,t,"signInWithPassword",OS);case"emailLink":return LS(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,r,"signUpPassword",MS);case"emailLink":return VS(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(n,e){return xc(n,"POST","/v1/accounts:signInWithIdp",os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="http://localhost";class Js extends Pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=t;if(!r||!i)return null;const l=new Js(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return da(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,da(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,da(e,t)}buildRequest(){const e={requestUri:jS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zS(n){const e=Ml(Ol(n)).link,t=e?Ml(Ol(e)).deep_link_id:null,r=Ml(Ol(n)).deep_link_id;return(r?Ml(Ol(r)).link:null)||r||t||e||n}class kg{constructor(e){const t=Ml(Ol(e)),r=t.apiKey??null,i=t.oobCode??null,o=FS(t.mode??null);Ee(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=zS(e);try{return new kg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(e,t){return oc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=kg.parseLink(t);return Ee(r,"argument-error"),oc._fromEmailAndCode(e,r.code,r.tenantId)}}Aa.PROVIDER_ID="password";Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends px{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Ec{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Js._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Ec{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Ec{constructor(){super("twitter.com")}static credential(e,t){return Js._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function US(n,e){return xc(n,"POST","/v1/accounts:signUp",os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ir._fromIdTokenResponse(e,r,i),l=d0(r);return new Zs({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=d0(r);return new Zs({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function d0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends ui{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Oh(e,t,r,i)}}function gx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(n,o,e,r):o})}async function BS(n,e,t=!1){const r=await sc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(n,e,t=!1){const{auth:r}=n;if(zn(r.app))return Promise.reject(ri(r));const i="reauthenticate";try{const o=await sc(n,gx(r,i,e,n),t);Ee(o.idToken,r,"internal-error");const l=Ag(o.idToken);Ee(l,r,"internal-error");const{sub:u}=l;return Ee(n.uid===u,r,"user-mismatch"),Zs._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&or(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(n,e,t=!1){if(zn(n.app))return Promise.reject(ri(n));const r="signIn",i=await gx(n,r,e),o=await Zs._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function HS(n,e){return mx(io(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(n){const e=io(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WS(n,e,t){if(zn(n.app))return Promise.reject(ri(n));const r=io(n),l=await Bp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",US).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&yx(n),d}),u=await Zs._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function qS(n,e,t){return zn(n.app)?Promise.reject(ri(n)):HS(kt(n),Aa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yx(n),r})}function KS(n,e,t,r){return kt(n).onIdTokenChanged(e,t,r)}function GS(n,e,t){return kt(n).beforeAuthStateChanged(e,t)}function QS(n,e,t,r){return kt(n).onAuthStateChanged(e,t,r)}function YS(n){return kt(n).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=1e3,JS=10;class vx extends _x{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);gS()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JS):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},XS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vx.type="LOCAL";const ZS=vx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends _x{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wx.type="SESSION";const xx=wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new cd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,o)),d=await eA(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const p=Rg("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(x.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function nA(n){Sr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function rA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function sA(){return Ex()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="firebaseLocalStorageDb",oA=1,Vh="firebaseLocalStorage",bx="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ud(n,e){return n.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function aA(){const n=indexedDB.deleteDatabase(Tx);return new Tc(n).toPromise()}function $p(){const n=indexedDB.open(Tx,oA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vh,{keyPath:bx})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await aA(),e(await $p()))})})}async function f0(n,e,t){const r=ud(n,!0).put({[bx]:e,value:t});return new Tc(r).toPromise()}async function lA(n,e){const t=ud(n,!1).get(e),r=await new Tc(t).toPromise();return r===void 0?null:r.value}function p0(n,e){const t=ud(n,!0).delete(e);return new Tc(t).toPromise()}const cA=800,uA=3;class Ix{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>uA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ex()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(sA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await rA(),!this.activeServiceWorker)return;this.sender=new tA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $p();return await f0(e,Lh,"1"),await p0(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>f0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>lA(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>p0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ud(i,!1).getAll();return new Tc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ix.type="LOCAL";const hA=Ix;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(n,e){return e?ni(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends Pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return da(e,this._buildIdpRequest())}_linkToIdToken(e,t){return da(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return da(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fA(n){return mx(n.auth,new Ng(n),n.bypassAuthState)}function pA(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),$S(t,new Ng(n),n.bypassAuthState)}async function gA(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),BS(t,new Ng(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fA;case"linkViaPopup":case"linkViaRedirect":return gA;case"reauthViaPopup":case"reauthViaRedirect":return pA;default:or(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new wc(2e3,1e4);class ca extends Sx{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mA.get())};e()}}ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="pendingRedirect",vh=new Map;class _A extends Sx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await vA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vA(n,e){const t=EA(e),r=xA(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function wA(n,e){vh.set(n._key(),e)}function xA(n){return ni(n._redirectPersistence)}function EA(n){return _h(yA,n.config.apiKey,n.name)}async function TA(n,e,t=!1){if(zn(n.app))return Promise.reject(ri(n));const r=io(n),i=dA(r,e),l=await new _A(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=10*60*1e3;class IA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ax(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bA&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ax({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ax(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(n,e={}){return as(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PA=/^https?/;async function kA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AA(n);for(const t of e)try{if(RA(t))return}catch{}or(n,"unauthorized-domain")}function RA(n){const e=zp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!PA.test(t))return!1;if(CA.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=new wc(3e4,6e4);function m0(){const n=Sr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function DA(n){return new Promise((e,t)=>{var i,o,l;function r(){m0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m0(),t(Ir(n,"network-request-failed"))},timeout:NA.get()})}if((o=(i=Sr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=Sr().gapi)!=null&&l.load)r();else{const u=bS("iframefcb");return Sr()[u]=()=>{gapi.load?r():t(Ir(n,"network-request-failed"))},hx(`${TS()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw wh=null,e})}let wh=null;function MA(n){return wh=wh||DA(n),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new wc(5e3,15e3),LA="__/auth/iframe",VA="emulator/auth/iframe",jA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zA(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sg(e,VA):`https://${n.config.authDomain}/${LA}`,r={apiKey:e.apiKey,appName:n.name,v:Sa},i=FA.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${vc(r).slice(1)}`}async function UA(n){const e=await MA(n),t=Sr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:zA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jA,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ir(n,"network-request-failed"),u=Sr().setTimeout(()=>{o(l)},OA.get());function d(){Sr().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$A=500,HA=600,WA="_blank",qA="http://localhost";class y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KA(n,e,t,r=$A,i=HA){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...BA,width:r.toString(),height:i.toString(),top:o,left:l},p=Zt().toLowerCase();t&&(u=ix(p)?WA:t),nx(p)&&(e=e||qA,d.scrollbars="yes");const m=Object.entries(d).reduce((x,[b,P])=>`${x}${b}=${P},`,"");if(pS(p)&&u!=="_self")return GA(e||"",u),new y0(null);const v=window.open(e||"",u,m);Ee(v,n,"popup-blocked");try{v.focus()}catch{}return new y0(v)}function GA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="__/auth/handler",YA="emulator/auth/handler",XA=encodeURIComponent("fac");async function _0(n,e,t,r,i,o){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Sa,eventId:i};if(e instanceof px){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Lb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof Ec){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),p=d?`#${XA}=${encodeURIComponent(d)}`:"";return`${JA(n)}?${vc(u).slice(1)}${p}`}function JA({config:n}){return n.emulator?Sg(n,YA):`https://${n.authDomain}/${QA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class ZA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xx,this._completeRedirectFn=TA,this._overrideRedirectResult=wA}async _openPopup(e,t,r,i){var l;si((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await _0(e,t,r,zp(),i);return KA(e,o,Rg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await _0(e,t,r,zp(),i);return nA(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(si(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await UA(e),r=new IA(e);return t.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_p,{type:_p},i=>{var l;const o=(l=i==null?void 0:i[0])==null?void 0:l[_p];o!==void 0&&t(!!o),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cx()||rx()||Cg()}}const eC=ZA;var v0="@firebase/auth",w0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rC(n){ma(new Xs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ee(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ux(n)},p=new wS(r,i,o,d);return kS(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ma(new Xs("auth-internal",e=>{const t=io(e.getProvider("auth").getImmediate());return(r=>new tC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(v0,w0,nC(n)),Gi(v0,w0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=5*60,sC=Fw("authIdTokenMaxAge")||iC;let x0=null;const oC=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>sC)return;const i=t==null?void 0:t.token;x0!==i&&(x0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aC(n=Ww()){const e=bg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=PS(n,{popupRedirectResolver:eC,persistence:[hA,ZS,xx]}),r=Fw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=oC(o.toString());GS(t,l,()=>l(t.currentUser)),KS(t,u=>l(u))}}const i=Vw("auth");return i&&RS(t,`http://${i}`),t}function lC(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}xS({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Ir("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",lC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rC("Browser");var cC="firebase",uC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(cC,uC,"app");var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,Cx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,k){function N(){}N.prototype=k.prototype,O.D=k.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(M,C,L){for(var R=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)R[ke-2]=arguments[ke];return k.prototype[C].apply(M,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,k,N){N||(N=0);var M=Array(16);if(typeof k=="string")for(var C=0;16>C;++C)M[C]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(C=0;16>C;++C)M[C]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=O.g[0],N=O.g[1],C=O.g[2];var L=O.g[3],R=k+(L^N&(C^L))+M[0]+3614090360&4294967295;k=N+(R<<7&4294967295|R>>>25),R=L+(C^k&(N^C))+M[1]+3905402710&4294967295,L=k+(R<<12&4294967295|R>>>20),R=C+(N^L&(k^N))+M[2]+606105819&4294967295,C=L+(R<<17&4294967295|R>>>15),R=N+(k^C&(L^k))+M[3]+3250441966&4294967295,N=C+(R<<22&4294967295|R>>>10),R=k+(L^N&(C^L))+M[4]+4118548399&4294967295,k=N+(R<<7&4294967295|R>>>25),R=L+(C^k&(N^C))+M[5]+1200080426&4294967295,L=k+(R<<12&4294967295|R>>>20),R=C+(N^L&(k^N))+M[6]+2821735955&4294967295,C=L+(R<<17&4294967295|R>>>15),R=N+(k^C&(L^k))+M[7]+4249261313&4294967295,N=C+(R<<22&4294967295|R>>>10),R=k+(L^N&(C^L))+M[8]+1770035416&4294967295,k=N+(R<<7&4294967295|R>>>25),R=L+(C^k&(N^C))+M[9]+2336552879&4294967295,L=k+(R<<12&4294967295|R>>>20),R=C+(N^L&(k^N))+M[10]+4294925233&4294967295,C=L+(R<<17&4294967295|R>>>15),R=N+(k^C&(L^k))+M[11]+2304563134&4294967295,N=C+(R<<22&4294967295|R>>>10),R=k+(L^N&(C^L))+M[12]+1804603682&4294967295,k=N+(R<<7&4294967295|R>>>25),R=L+(C^k&(N^C))+M[13]+4254626195&4294967295,L=k+(R<<12&4294967295|R>>>20),R=C+(N^L&(k^N))+M[14]+2792965006&4294967295,C=L+(R<<17&4294967295|R>>>15),R=N+(k^C&(L^k))+M[15]+1236535329&4294967295,N=C+(R<<22&4294967295|R>>>10),R=k+(C^L&(N^C))+M[1]+4129170786&4294967295,k=N+(R<<5&4294967295|R>>>27),R=L+(N^C&(k^N))+M[6]+3225465664&4294967295,L=k+(R<<9&4294967295|R>>>23),R=C+(k^N&(L^k))+M[11]+643717713&4294967295,C=L+(R<<14&4294967295|R>>>18),R=N+(L^k&(C^L))+M[0]+3921069994&4294967295,N=C+(R<<20&4294967295|R>>>12),R=k+(C^L&(N^C))+M[5]+3593408605&4294967295,k=N+(R<<5&4294967295|R>>>27),R=L+(N^C&(k^N))+M[10]+38016083&4294967295,L=k+(R<<9&4294967295|R>>>23),R=C+(k^N&(L^k))+M[15]+3634488961&4294967295,C=L+(R<<14&4294967295|R>>>18),R=N+(L^k&(C^L))+M[4]+3889429448&4294967295,N=C+(R<<20&4294967295|R>>>12),R=k+(C^L&(N^C))+M[9]+568446438&4294967295,k=N+(R<<5&4294967295|R>>>27),R=L+(N^C&(k^N))+M[14]+3275163606&4294967295,L=k+(R<<9&4294967295|R>>>23),R=C+(k^N&(L^k))+M[3]+4107603335&4294967295,C=L+(R<<14&4294967295|R>>>18),R=N+(L^k&(C^L))+M[8]+1163531501&4294967295,N=C+(R<<20&4294967295|R>>>12),R=k+(C^L&(N^C))+M[13]+2850285829&4294967295,k=N+(R<<5&4294967295|R>>>27),R=L+(N^C&(k^N))+M[2]+4243563512&4294967295,L=k+(R<<9&4294967295|R>>>23),R=C+(k^N&(L^k))+M[7]+1735328473&4294967295,C=L+(R<<14&4294967295|R>>>18),R=N+(L^k&(C^L))+M[12]+2368359562&4294967295,N=C+(R<<20&4294967295|R>>>12),R=k+(N^C^L)+M[5]+4294588738&4294967295,k=N+(R<<4&4294967295|R>>>28),R=L+(k^N^C)+M[8]+2272392833&4294967295,L=k+(R<<11&4294967295|R>>>21),R=C+(L^k^N)+M[11]+1839030562&4294967295,C=L+(R<<16&4294967295|R>>>16),R=N+(C^L^k)+M[14]+4259657740&4294967295,N=C+(R<<23&4294967295|R>>>9),R=k+(N^C^L)+M[1]+2763975236&4294967295,k=N+(R<<4&4294967295|R>>>28),R=L+(k^N^C)+M[4]+1272893353&4294967295,L=k+(R<<11&4294967295|R>>>21),R=C+(L^k^N)+M[7]+4139469664&4294967295,C=L+(R<<16&4294967295|R>>>16),R=N+(C^L^k)+M[10]+3200236656&4294967295,N=C+(R<<23&4294967295|R>>>9),R=k+(N^C^L)+M[13]+681279174&4294967295,k=N+(R<<4&4294967295|R>>>28),R=L+(k^N^C)+M[0]+3936430074&4294967295,L=k+(R<<11&4294967295|R>>>21),R=C+(L^k^N)+M[3]+3572445317&4294967295,C=L+(R<<16&4294967295|R>>>16),R=N+(C^L^k)+M[6]+76029189&4294967295,N=C+(R<<23&4294967295|R>>>9),R=k+(N^C^L)+M[9]+3654602809&4294967295,k=N+(R<<4&4294967295|R>>>28),R=L+(k^N^C)+M[12]+3873151461&4294967295,L=k+(R<<11&4294967295|R>>>21),R=C+(L^k^N)+M[15]+530742520&4294967295,C=L+(R<<16&4294967295|R>>>16),R=N+(C^L^k)+M[2]+3299628645&4294967295,N=C+(R<<23&4294967295|R>>>9),R=k+(C^(N|~L))+M[0]+4096336452&4294967295,k=N+(R<<6&4294967295|R>>>26),R=L+(N^(k|~C))+M[7]+1126891415&4294967295,L=k+(R<<10&4294967295|R>>>22),R=C+(k^(L|~N))+M[14]+2878612391&4294967295,C=L+(R<<15&4294967295|R>>>17),R=N+(L^(C|~k))+M[5]+4237533241&4294967295,N=C+(R<<21&4294967295|R>>>11),R=k+(C^(N|~L))+M[12]+1700485571&4294967295,k=N+(R<<6&4294967295|R>>>26),R=L+(N^(k|~C))+M[3]+2399980690&4294967295,L=k+(R<<10&4294967295|R>>>22),R=C+(k^(L|~N))+M[10]+4293915773&4294967295,C=L+(R<<15&4294967295|R>>>17),R=N+(L^(C|~k))+M[1]+2240044497&4294967295,N=C+(R<<21&4294967295|R>>>11),R=k+(C^(N|~L))+M[8]+1873313359&4294967295,k=N+(R<<6&4294967295|R>>>26),R=L+(N^(k|~C))+M[15]+4264355552&4294967295,L=k+(R<<10&4294967295|R>>>22),R=C+(k^(L|~N))+M[6]+2734768916&4294967295,C=L+(R<<15&4294967295|R>>>17),R=N+(L^(C|~k))+M[13]+1309151649&4294967295,N=C+(R<<21&4294967295|R>>>11),R=k+(C^(N|~L))+M[4]+4149444226&4294967295,k=N+(R<<6&4294967295|R>>>26),R=L+(N^(k|~C))+M[11]+3174756917&4294967295,L=k+(R<<10&4294967295|R>>>22),R=C+(k^(L|~N))+M[2]+718787259&4294967295,C=L+(R<<15&4294967295|R>>>17),R=N+(L^(C|~k))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+k&4294967295,O.g[1]=O.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+C&4294967295,O.g[3]=O.g[3]+L&4294967295}r.prototype.u=function(O,k){k===void 0&&(k=O.length);for(var N=k-this.blockSize,M=this.B,C=this.h,L=0;L<k;){if(C==0)for(;L<=N;)i(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<k;)if(M[C++]=O.charCodeAt(L++),C==this.blockSize){i(this,M),C=0;break}}else for(;L<k;)if(M[C++]=O[L++],C==this.blockSize){i(this,M),C=0;break}}this.h=C,this.o+=k},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var k=1;k<O.length-8;++k)O[k]=0;var N=8*this.o;for(k=O.length-8;k<O.length;++k)O[k]=N&255,N/=256;for(this.u(O),O=Array(16),k=N=0;4>k;++k)for(var M=0;32>M;M+=8)O[N++]=this.g[k]>>>M&255;return O};function o(O,k){var N=u;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=k(O)}function l(O,k){this.h=k;for(var N=[],M=!0,C=O.length-1;0<=C;C--){var L=O[C]|0;M&&L==k||(N[C]=L,M=!1)}this.g=N}var u={};function d(O){return-128<=O&&128>O?o(O,function(k){return new l([k|0],0>k?-1:0)}):new l([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return I(p(-O));for(var k=[],N=1,M=0;O>=N;M++)k[M]=O/N|0,N*=4294967296;return new l(k,0)}function m(O,k){if(O.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O.charAt(0)=="-")return I(m(O.substring(1),k));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(k,8)),M=v,C=0;C<O.length;C+=8){var L=Math.min(8,O.length-C),R=parseInt(O.substring(C,C+L),k);8>L?(L=p(Math.pow(k,L)),M=M.j(L).add(p(R))):(M=M.j(N),M=M.add(p(R)))}return M}var v=d(0),x=d(1),b=d(16777216);n=l.prototype,n.m=function(){if(A(this))return-I(this).m();for(var O=0,k=1,N=0;N<this.g.length;N++){var M=this.i(N);O+=(0<=M?M:4294967296+M)*k,k*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P(this))return"0";if(A(this))return"-"+I(this).toString(O);for(var k=p(Math.pow(O,6)),N=this,M="";;){var C=X(N,k).g;N=F(N,C.j(k));var L=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=C,P(N))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function P(O){if(O.h!=0)return!1;for(var k=0;k<O.g.length;k++)if(O.g[k]!=0)return!1;return!0}function A(O){return O.h==-1}n.l=function(O){return O=F(this,O),A(O)?-1:P(O)?0:1};function I(O){for(var k=O.g.length,N=[],M=0;M<k;M++)N[M]=~O.g[M];return new l(N,~O.h).add(x)}n.abs=function(){return A(this)?I(this):this},n.add=function(O){for(var k=Math.max(this.g.length,O.g.length),N=[],M=0,C=0;C<=k;C++){var L=M+(this.i(C)&65535)+(O.i(C)&65535),R=(L>>>16)+(this.i(C)>>>16)+(O.i(C)>>>16);M=R>>>16,L&=65535,R&=65535,N[C]=R<<16|L}return new l(N,N[N.length-1]&-2147483648?-1:0)};function F(O,k){return O.add(I(k))}n.j=function(O){if(P(this)||P(O))return v;if(A(this))return A(O)?I(this).j(I(O)):I(I(this).j(O));if(A(O))return I(this.j(I(O)));if(0>this.l(b)&&0>O.l(b))return p(this.m()*O.m());for(var k=this.g.length+O.g.length,N=[],M=0;M<2*k;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var C=0;C<O.g.length;C++){var L=this.i(M)>>>16,R=this.i(M)&65535,ke=O.i(C)>>>16,we=O.i(C)&65535;N[2*M+2*C]+=R*we,H(N,2*M+2*C),N[2*M+2*C+1]+=L*we,H(N,2*M+2*C+1),N[2*M+2*C+1]+=R*ke,H(N,2*M+2*C+1),N[2*M+2*C+2]+=L*ke,H(N,2*M+2*C+2)}for(M=0;M<k;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=k;M<2*k;M++)N[M]=0;return new l(N,0)};function H(O,k){for(;(O[k]&65535)!=O[k];)O[k+1]+=O[k]>>>16,O[k]&=65535,k++}function K(O,k){this.g=O,this.h=k}function X(O,k){if(P(k))throw Error("division by zero");if(P(O))return new K(v,v);if(A(O))return k=X(I(O),k),new K(I(k.g),I(k.h));if(A(k))return k=X(O,I(k)),new K(I(k.g),k.h);if(30<O.g.length){if(A(O)||A(k))throw Error("slowDivide_ only works with positive integers.");for(var N=x,M=k;0>=M.l(O);)N=se(N),M=se(M);var C=ie(N,1),L=ie(M,1);for(M=ie(M,2),N=ie(N,2);!P(M);){var R=L.add(M);0>=R.l(O)&&(C=C.add(N),L=R),M=ie(M,1),N=ie(N,1)}return k=F(O,C.j(k)),new K(C,k)}for(C=v;0<=O.l(k);){for(N=Math.max(1,Math.floor(O.m()/k.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=p(N),R=L.j(k);A(R)||0<R.l(O);)N-=M,L=p(N),R=L.j(k);P(L)&&(L=x),C=C.add(L),O=F(O,R)}return new K(C,O)}n.A=function(O){return X(this,O).h},n.and=function(O){for(var k=Math.max(this.g.length,O.g.length),N=[],M=0;M<k;M++)N[M]=this.i(M)&O.i(M);return new l(N,this.h&O.h)},n.or=function(O){for(var k=Math.max(this.g.length,O.g.length),N=[],M=0;M<k;M++)N[M]=this.i(M)|O.i(M);return new l(N,this.h|O.h)},n.xor=function(O){for(var k=Math.max(this.g.length,O.g.length),N=[],M=0;M<k;M++)N[M]=this.i(M)^O.i(M);return new l(N,this.h^O.h)};function se(O){for(var k=O.g.length+1,N=[],M=0;M<k;M++)N[M]=O.i(M)<<1|O.i(M-1)>>>31;return new l(N,O.h)}function ie(O,k){var N=k>>5;k%=32;for(var M=O.g.length-N,C=[],L=0;L<M;L++)C[L]=0<k?O.i(L+N)>>>k|O.i(L+N+1)<<32-k:O.i(L+N);return new l(C,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Cx=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Qi=l}).apply(typeof E0<"u"?E0:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Px,Ll,kx,xh,Hp,Rx,Nx,Dx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(h,y){if(y)e:{var E=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var U=h[S];if(!(U in E))break e;E=E[U]}h=h[h.length-1],S=E[h],y=y(S),y!=S&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function o(h,y){h instanceof String&&(h+="");var E=0,S=!1,U={next:function(){if(!S&&E<h.length){var q=E++;return{value:y(q,h[q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(h){return h||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,E){return h.call.apply(h.bind,arguments)}function v(h,y,E){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),h.apply(y,U)}}return function(){return h.apply(y,arguments)}}function x(h,y,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,x.apply(null,arguments)}function b(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function P(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(S,U,q){for(var re=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)re[qe-2]=arguments[qe];return y.prototype[U].apply(S,re)}}function A(h){const y=h.length;if(0<y){const E=Array(y);for(let S=0;S<y;S++)E[S]=h[S];return E}return[]}function I(h,y){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(d(S)){const U=h.length||0,q=S.length||0;h.length=U+q;for(let re=0;re<q;re++)h[U+re]=S[re]}else h.push(S)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function X(h){return X[" "](h),h}X[" "]=function(){};var se=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ie(h,y,E){for(const S in h)y.call(E,h[S],S,h)}function O(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function k(h){const y={};for(const E in h)y[E]=h[E];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let E,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(E in S)h[E]=S[E];for(let q=0;q<N.length;q++)E=N[q],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function C(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function L(h){u.setTimeout(()=>{throw h},0)}function R(){var h=le;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ke{constructor(){this.h=this.g=null}add(y,E){const S=we.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var we=new F(()=>new Pe,h=>h.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,te=!1,le=new ke,ae=()=>{const h=u.Promise.resolve(void 0);xe=()=>{h.then(z)}};var z=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(E){L(E)}var y=we;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}te=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,y),u.removeEventListener("test",E,y)}catch{}return h}();function Ae(h,y){if(pe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(se){e:{try{X(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ae.aa.h.call(this)}}P(Ae,pe);var Re={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),He=0;function Ye(h,y,E,S,U){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=U,this.key=++He,this.da=this.fa=!1}function Rt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Nr(h){this.src=h,this.g={},this.h=0}Nr.prototype.add=function(h,y,E,S,U){var q=h.toString();h=this.g[q],h||(h=this.g[q]=[],this.h++);var re=hi(h,y,S,U);return-1<re?(y=h[re],E||(y.fa=!1)):(y=new Ye(y,this.src,q,!!S,U),y.fa=E,h.push(y)),y};function co(h,y){var E=y.type;if(E in h.g){var S=h.g[E],U=Array.prototype.indexOf.call(S,y,void 0),q;(q=0<=U)&&Array.prototype.splice.call(S,U,1),q&&(Rt(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function hi(h,y,E,S){for(var U=0;U<h.length;++U){var q=h[U];if(!q.da&&q.listener==y&&q.capture==!!E&&q.ha==S)return U}return-1}var hs="closure_lm_"+(1e6*Math.random()|0),uo={};function Ma(h,y,E,S,U){if(Array.isArray(y)){for(var q=0;q<y.length;q++)Ma(h,y[q],E,S,U);return null}return E=Va(E),h&&h[$e]?h.K(y,E,p(S)?!!S.capture:!1,U):Oa(h,y,E,!1,S,U)}function Oa(h,y,E,S,U,q){if(!y)throw Error("Invalid event type");var re=p(U)?!!U.capture:!!U,qe=fo(h);if(qe||(h[hs]=qe=new Nr(h)),E=qe.add(y,E,S,re,q),E.proxy)return E;if(S=Nc(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)be||(U=re),U===void 0&&(U=!1),h.addEventListener(y.toString(),S,U);else if(h.attachEvent)h.attachEvent(Mr(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Nc(){function h(E){return y.call(h.src,h.listener,E)}const y=La;return h}function ho(h,y,E,S,U){if(Array.isArray(y))for(var q=0;q<y.length;q++)ho(h,y[q],E,S,U);else S=p(S)?!!S.capture:!!S,E=Va(E),h&&h[$e]?(h=h.i,y=String(y).toString(),y in h.g&&(q=h.g[y],E=hi(q,E,S,U),-1<E&&(Rt(q[E]),Array.prototype.splice.call(q,E,1),q.length==0&&(delete h.g[y],h.h--)))):h&&(h=fo(h))&&(y=h.g[y.toString()],h=-1,y&&(h=hi(y,E,S,U)),(E=-1<h?y[h]:null)&&Dr(E))}function Dr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[$e])co(y.i,h);else{var E=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(E,S,h.capture):y.detachEvent?y.detachEvent(Mr(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=fo(y))?(co(E,h),E.h==0&&(E.src=null,y[hs]=null)):Rt(h)}}}function Mr(h){return h in uo?uo[h]:uo[h]="on"+h}function La(h,y){if(h.da)h=!0;else{y=new Ae(y,this);var E=h.listener,S=h.ha||h.src;h.fa&&Dr(h),h=E.call(S,y)}return h}function fo(h){return h=h[hs],h instanceof Nr?h:null}var po="__closure_events_fn_"+(1e9*Math.random()>>>0);function Va(h){return typeof h=="function"?h:(h[po]||(h[po]=function(y){return h.handleEvent(y)}),h[po])}function Tt(){G.call(this),this.i=new Nr(this),this.M=this,this.F=null}P(Tt,G),Tt.prototype[$e]=!0,Tt.prototype.removeEventListener=function(h,y,E,S){ho(this,h,y,E,S)};function bt(h,y){var E,S=h.F;if(S)for(E=[];S;S=S.F)E.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new pe(y,h);else if(y instanceof pe)y.target=y.target||h;else{var U=y;y=new pe(S,h),M(y,U)}if(U=!0,E)for(var q=E.length-1;0<=q;q--){var re=y.g=E[q];U=Or(re,S,!0,y)&&U}if(re=y.g=h,U=Or(re,S,!0,y)&&U,U=Or(re,S,!1,y)&&U,E)for(q=0;q<E.length;q++)re=y.g=E[q],U=Or(re,S,!1,y)&&U}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],S=0;S<E.length;S++)Rt(E[S]);delete h.g[y],h.h--}}this.F=null},Tt.prototype.K=function(h,y,E,S){return this.i.add(String(h),y,!1,E,S)},Tt.prototype.L=function(h,y,E,S){return this.i.add(String(h),y,!0,E,S)};function Or(h,y,E,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,q=0;q<y.length;++q){var re=y[q];if(re&&!re.da&&re.capture==E){var qe=re.listener,It=re.ha||re.src;re.fa&&co(h.i,re),U=qe.call(It,S)!==!1&&U}}return U&&!S.defaultPrevented}function ja(h,y,E){if(typeof h=="function")E&&(h=x(h,E));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:u.setTimeout(h,y||0)}function di(h){h.g=ja(()=>{h.g=null,h.i&&(h.i=!1,di(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ds extends G{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(h){G.call(this),this.h=h,this.g={}}P(fs,G);var Fa=[];function za(h){ie(h.g,function(y,E){this.g.hasOwnProperty(E)&&Dr(y)},h),h.g={}}fs.prototype.N=function(){fs.aa.N.call(this),za(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ua=u.JSON.stringify,Ba=u.JSON.parse,$a=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function ps(){}ps.prototype.h=null;function go(h){return h.h||(h.h=h.i())}function mo(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){pe.call(this,"d")}P(cr,pe);function yo(){pe.call(this,"c")}P(yo,pe);var ur={},Ha=null;function gs(){return Ha=Ha||new Tt}ur.La="serverreachability";function Wa(h){pe.call(this,ur.La,h)}P(Wa,pe);function Lr(h){const y=gs();bt(y,new Wa(y))}ur.STAT_EVENT="statevent";function qa(h,y){pe.call(this,ur.STAT_EVENT,h),this.stat=y}P(qa,pe);function dt(h){const y=gs();bt(y,new qa(y,h))}ur.Ma="timingevent";function _o(h,y){pe.call(this,ur.Ma,h),this.size=y}P(_o,pe);function $n(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},y)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function ys(h,y,E,S,U,q){h.info(function(){if(h.g)if(q)for(var re="",qe=q.split("&"),It=0;It<qe.length;It++){var je=qe[It].split("=");if(1<je.length){var Nt=je[0];je=je[1];var mt=Nt.split("_");re=2<=mt.length&&mt[1]=="type"?re+(Nt+"="+je+"&"):re+(Nt+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+E+`
`+re})}function vo(h,y,E,S,U,q,re){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+E+`
`+q+" "+re})}function Hn(h,y,E,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Md(h,E)+(S?" "+S:"")})}function Ka(h,y){h.info(function(){return"TIMEOUT: "+y})}ms.prototype.info=function(){};function Md(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var S=E[h];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return Ua(E)}catch{return y}}var wo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function _s(){}P(_s,ps),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},Wn=new _s;function qn(h,y,E,S){this.j=h,this.i=y,this.l=E,this.R=S||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mc}function Mc(){this.i=null,this.g="",this.h=!1}var Ga={},xo={};function Eo(h,y,E){h.L=1,h.v=yi(xn(y)),h.m=E,h.P=!0,Qa(h,null)}function Qa(h,y){h.F=Date.now(),Xe(h),h.A=xn(h.v);var E=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),vi(E.i,"t",S),h.C=0,E=h.j.J,h.h=new Mc,h.g=Jc(h.j,E?y:null,!h.m),0<h.O&&(h.M=new ds(x(h.Y,h,h.g),h.O)),y=h.U,E=h.g,S=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(Fa[0]=U.toString()),U=Fa);for(var q=0;q<U.length;q++){var re=Ma(E,U[q],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=h.H?k(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Lr(),ys(h.i,h.u,h.A,h.l,h.R,h.m)}qn.prototype.ca=function(h){h=h.target;const y=this.M;y&&an(h)==3?y.j():this.Y(h)},qn.prototype.Y=function(h){try{if(h==this.g)e:{const mt=an(this.g);var y=this.g.Ba();const Nn=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||mt!=4||y==7||(y==8||0>=Nn?Lr(3):Lr(2)),vs(this);var E=this.g.Z();this.X=E;t:if(Oc(this)){var S=tl(this.g);h="";var U=S.length,q=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),fi(this);var re="";break t}this.h.i=new u.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(q&&y==U-1)});S.length=0,this.h.g+=h,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=E==200,vo(this.i,this.u,this.A,this.l,this.R,mt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,It=this.g;if((qe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(qe)){var je=qe;break t}}je=null}if(E=je)Hn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,E);else{this.o=!1,this.s=3,dt(12),kn(this),fi(this);break e}}if(this.P){E=!0;let Tn;for(;!this.J&&this.C<re.length;)if(Tn=Od(this,re),Tn==xo){mt==4&&(this.s=4,dt(14),E=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Ga){this.s=4,dt(15),Hn(this.i,this.l,re,"[Invalid Chunk]"),E=!1;break}else Hn(this.i,this.l,Tn,null),Ya(this,Tn);if(Oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||re.length!=0||this.h.h||(this.s=1,dt(16),E=!1),this.o=this.o&&E,!E)Hn(this.i,this.l,re,"[Invalid Chunked Response]"),kn(this),fi(this);else if(0<re.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),rl(Nt),Nt.M=!0,dt(11))}}else Hn(this.i,this.l,re,null),Ya(this,re);mt==4&&kn(this),this.o&&!this.J&&(mt==4?Do(this.j,this):(this.o=!1,Xe(this)))}else Co(this.g),E==400&&0<re.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),kn(this),fi(this)}}}catch{}finally{}};function Oc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Od(h,y){var E=h.C,S=y.indexOf(`
`,E);return S==-1?xo:(E=Number(y.substring(E,S)),isNaN(E)?Ga:(S+=1,S+E>y.length?xo:(y=y.slice(S,S+E),h.C=S+E,y)))}qn.prototype.cancel=function(){this.J=!0,kn(this)};function Xe(h){h.S=Date.now()+h.I,Lc(h,h.I)}function Lc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=$n(x(h.ba,h),y)}function vs(h){h.B&&(u.clearTimeout(h.B),h.B=null)}qn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ka(this.i,this.A),this.L!=2&&(Lr(),dt(17)),kn(this),this.s=2,fi(this)):Lc(this,this.S-h)};function fi(h){h.j.G==0||h.J||Do(h.j,h)}function kn(h){vs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,za(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Ya(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||en(E.h,h))){if(!h.K&&en(E.h,h)&&E.G==3){try{var S=E.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)No(E),Xn(E);else break e;Ro(E),dt(18)}}else E.za=U[1],0<E.za-E.T&&37500>U[2]&&E.F&&E.v==0&&!E.C&&(E.C=$n(x(E.Za,E),6e3));if(1>=jc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ur(E,11)}else if((h.K||E.g==h)&&No(E),!H(y))for(U=E.Da.g.parse(y),y=0;y<U.length;y++){let je=U[y];if(E.T=je[0],je=je[1],E.G==2)if(je[0]=="c"){E.K=je[1],E.ia=je[2];const Nt=je[3];Nt!=null&&(E.la=Nt,E.j.info("VER="+E.la));const mt=je[4];mt!=null&&(E.Aa=mt,E.j.info("SVER="+E.Aa));const Nn=je[5];Nn!=null&&typeof Nn=="number"&&0<Nn&&(S=1.5*Nn,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Tn=h.g;if(Tn){const Ss=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var q=S.h;q.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Xa(q,q.h),q.h=null))}if(S.D){const Oo=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(S.ya=Oo,Qe(S.I,S.D,Oo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var re=h;if(S.qa=Xc(S,S.J?S.ia:null,S.W),re.K){Fc(S.h,re);var qe=re,It=S.L;It&&(qe.I=It),qe.B&&(vs(qe),Xe(qe)),S.g=re}else Is(S);0<E.i.length&&pr(E)}else je[0]!="stop"&&je[0]!="close"||Ur(E,7);else E.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Ur(E,7):jt(E):je[0]!="noop"&&E.l&&E.l.ta(je),E.v=0)}}Lr(4)}catch{}}var Vc=class{constructor(h,y){this.g=h,this.map=y}};function ws(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function jc(h){return h.h?1:h.g?h.g.size:0}function en(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Xa(h,y){h.g?h.g.add(y):h.h=y}function Fc(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ws.prototype.cancel=function(){if(this.i=zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function zc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return A(h.i)}function To(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var y=[],E=h.length,S=0;S<E;S++)y.push(h[S]);return y}y=[],E=0;for(S in h)y[E++]=h[S];return y}function bo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const S in h)y[E++]=S;return y}}}function pi(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=bo(h),S=To(h),U=S.length,q=0;q<U;q++)y.call(void 0,S[q],E&&E[q],h)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ld(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var S=h[E].indexOf("="),U=null;if(0<=S){var q=h[E].substring(0,S);U=h[E].substring(S+1)}else q=h[E];y(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Vr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Vr){this.h=h.h,Es(this,h.j),this.o=h.o,this.g=h.g,gi(this,h.s),this.l=h.l;var y=h.i,E=new hr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),mi(this,E),this.m=h.m}else h&&(y=String(h).match(xs))?(this.h=!1,Es(this,y[1]||"",!0),this.o=Ve(y[2]||""),this.g=Ve(y[3]||"",!0),gi(this,y[4]),this.l=Ve(y[5]||"",!0),mi(this,y[6]||"",!0),this.m=Ve(y[7]||"")):(this.h=!1,this.i=new hr(null,this.h))}Vr.prototype.toString=function(){var h=[],y=this.j;y&&h.push(_i(y,Io,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(_i(y,Io,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(_i(E,E.charAt(0)=="/"?$c:Bc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",_i(E,Ja)),h.join("")};function xn(h){return new Vr(h)}function Es(h,y,E){h.j=E?Ve(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function gi(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function mi(h,y,E){y instanceof hr?(h.i=y,dr(h.i,h.h)):(E||(y=_i(y,Hc)),h.i=new hr(y,h.h))}function Qe(h,y,E){h.i.set(y,E)}function yi(h){return Qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ve(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _i(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Uc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Uc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Io=/[#\/\?@]/g,Bc=/[#\?:]/g,$c=/[#\?]/g,Hc=/[#\?@]/g,Ja=/#/g;function hr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Vt(h){h.g||(h.g=new Map,h.h=0,h.i&&Ld(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=hr.prototype,n.add=function(h,y){Vt(this),this.i=null,h=Rn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Kn(h,y){Vt(h),y=Rn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Gn(h,y){return Vt(h),y=Rn(h,y),h.g.has(y)}n.forEach=function(h,y){Vt(this),this.g.forEach(function(E,S){E.forEach(function(U){h.call(y,U,S,this)},this)},this)},n.na=function(){Vt(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let S=0;S<y.length;S++){const U=h[S];for(let q=0;q<U.length;q++)E.push(y[S])}return E},n.V=function(h){Vt(this);let y=[];if(typeof h=="string")Gn(this,h)&&(y=y.concat(this.g.get(Rn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},n.set=function(h,y){return Vt(this),this.i=null,h=Rn(this,h),Gn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function vi(h,y,E){Kn(h,y),0<E.length&&(h.i=null,h.g.set(Rn(h,y),A(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var S=y[E];const q=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var U=q;re[S]!==""&&(U+="="+encodeURIComponent(String(re[S]))),h.push(U)}}return this.i=h.join("&")};function Rn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function dr(h,y){y&&!h.j&&(Vt(h),h.i=null,h.g.forEach(function(E,S){var U=S.toLowerCase();S!=U&&(Kn(this,S),vi(this,U,E))},h)),h.j=y}function Vd(h,y){const E=new ms;if(u.Image){const S=new Image;S.onload=b(on,E,"TestLoadImage: loaded",!0,y,S),S.onerror=b(on,E,"TestLoadImage: error",!1,y,S),S.onabort=b(on,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(on,E,"TestLoadImage: timeout",!1,y,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Wc(h,y){const E=new ms,S=new AbortController,U=setTimeout(()=>{S.abort(),on(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(q=>{clearTimeout(U),q.ok?on(E,"TestPingServer: ok",!0,y):on(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),on(E,"TestPingServer: error",!1,y)})}function on(h,y,E,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(E)}catch{}}function jd(){this.g=new $a}function qc(h,y,E){const S=E||"";try{pi(h,function(U,q){let re=U;p(U)&&(re=Ua(U)),y.push(S+q+"="+encodeURIComponent(re))})}catch(U){throw y.push(S+"type="+encodeURIComponent("_badmap")),U}}function jr(h){this.l=h.Ub||null,this.j=h.eb||!1}P(jr,ps),jr.prototype.g=function(){return new Ts(this.l,this.j)},jr.prototype.i=function(h){return function(){return h}}({});function Ts(h,y){Tt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ts,Tt),n=Ts.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Yn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||u).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Qn(this):Yn(this),this.readyState==3&&Kc(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Qn(this))},n.Qa=function(h){this.g&&(this.response=h,Qn(this))},n.ga=function(){this.g&&Qn(this)};function Qn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Yn(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Yn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Fr(h){let y="";return ie(h,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function wi(h,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Fr(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Qe(h,y,E))}function ot(h){Tt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(ot,Tt);var Fd=/^https?$/i,Za=["POST","PUT"];n=ot.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?go(this.o):go(Wn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(q){bs(this,q);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)E.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())E.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),U=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Za,y,void 0))||S||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of E)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ao(this),this.u=!0,this.g.send(h),this.u=!1}catch(q){bs(this,q)}};function bs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,So(h),En(h)}function So(h){h.A||(h.A=!0,bt(h,"complete"),bt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,bt(this,"complete"),bt(this,"abort"),En(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},n.bb=function(){el(this)};function el(h){if(h.h&&typeof l<"u"&&(!h.v[1]||an(h)!=4||h.Z()!=2)){if(h.u&&an(h)==4)ja(h.Ea,0,h);else if(bt(h,"readystatechange"),an(h)==4){h.h=!1;try{const re=h.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=re===0){var U=String(h.D).match(xs)[1]||null;!U&&u.self&&u.self.location&&(U=u.self.location.protocol.slice(0,-1)),S=!Fd.test(U?U.toLowerCase():"")}E=S}if(E)bt(h,"complete"),bt(h,"success");else{h.m=6;try{var q=2<an(h)?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.Z()+"]",So(h)}}finally{En(h)}}}}function En(h,y){if(h.g){Ao(h);const E=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||bt(h,"ready");try{E.onreadystatechange=S}catch{}}}function Ao(h){h.I&&(u.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function an(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ba(y)}};function tl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Co(h){const y={};h=(h.g&&2<=an(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(H(h[S]))continue;var E=C(h[S]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=y[U]||[];y[U]=q,q.push(E)}O(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function nl(h){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fr("baseRetryDelayMs",5e3,h),this.cb=fr("retryDelaySeedMs",1e4,h),this.Wa=fr("forwardChannelMaxRetries",2,h),this.wa=fr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(h&&h.concurrentRequestLimit),this.Da=new jd,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nl.prototype,n.la=8,n.G=1,n.connect=function(h,y,E,S){dt(0),this.W=h,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=Xc(this,null,this.W),pr(this)};function jt(h){if(Po(h),h.G==3){var y=h.U++,E=xn(h.I);if(Qe(E,"SID",h.K),Qe(E,"RID",y),Qe(E,"TYPE","terminate"),zr(h,E),y=new qn(h,h.j,y),y.L=2,y.v=yi(xn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=y.v,E=!0),E||(y.g=Jc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Xe(y)}Yc(h)}function Xn(h){h.g&&(rl(h),h.g.cancel(),h.g=null)}function Po(h){Xn(h),h.u&&(u.clearTimeout(h.u),h.u=null),No(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function pr(h){if(!wn(h.h)&&!h.s){h.s=!0;var y=h.Ga;xe||ae(),te||(xe(),te=!0),le.add(y,h),h.B=0}}function zd(h,y){return jc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=$n(x(h.Ga,h,y),Qc(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new qn(this,this.j,h);let q=this.o;if(this.S&&(q?(q=k(q),M(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=xi(this,U,y),E=xn(this.I),Qe(E,"RID",h),Qe(E,"CVER",22),this.D&&Qe(E,"X-HTTP-Session-Id",this.D),zr(this,E),q&&(this.O?y="headers="+encodeURIComponent(String(Fr(q)))+"&"+y:this.m&&wi(E,this.m,q)),Xa(this.h,U),this.Ua&&Qe(E,"TYPE","init"),this.P?(Qe(E,"$req",y),Qe(E,"SID","null"),U.T=!0,Eo(U,E,null)):Eo(U,E,y),this.G=2}}else this.G==3&&(h?ko(this,h):this.i.length==0||wn(this.h)||ko(this))};function ko(h,y){var E;y?E=y.l:E=h.U++;const S=xn(h.I);Qe(S,"SID",h.K),Qe(S,"RID",E),Qe(S,"AID",h.T),zr(h,S),h.m&&h.o&&wi(S,h.m,h.o),E=new qn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=xi(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Xa(h.h,E),Eo(E,S,y)}function zr(h,y){h.H&&ie(h.H,function(E,S){Qe(y,S,E)}),h.l&&pi({},function(E,S){Qe(y,S,E)})}function xi(h,y,E){E=Math.min(h.i.length,E);var S=h.l?x(h.l.Na,h.l,h):null;e:{var U=h.i;let q=-1;for(;;){const re=["count="+E];q==-1?0<E?(q=U[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let qe=!0;for(let It=0;It<E;It++){let je=U[It].g;const Nt=U[It].map;if(je-=q,0>je)q=Math.max(0,U[It].g-100),qe=!1;else try{qc(Nt,re,"req"+je+"_")}catch{S&&S(Nt)}}if(qe){S=re.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,S}function Is(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;xe||ae(),te||(xe(),te=!0),le.add(y,h),h.v=0}}function Ro(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=$n(x(h.Fa,h),Qc(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=$n(x(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Xn(this),Gc(this))};function rl(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function Gc(h){h.g=new qn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=xn(h.qa);Qe(y,"RID","rpc"),Qe(y,"SID",h.K),Qe(y,"AID",h.T),Qe(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qe(y,"TO",h.ja),Qe(y,"TYPE","xmlhttp"),zr(h,y),h.m&&h.o&&wi(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=yi(xn(y)),E.m=null,E.P=!0,Qa(E,h)}n.Za=function(){this.C!=null&&(this.C=null,Xn(this),Ro(this),dt(19))};function No(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Do(h,y){var E=null;if(h.g==y){No(h),rl(h),h.g=null;var S=2}else if(en(h.h,y))E=y.D,Fc(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var U=h.B;S=gs(),bt(S,new _o(S,E)),pr(h)}else Is(h);else if(U=y.s,U==3||U==0&&0<y.X||!(S==1&&zd(h,y)||S==2&&Ro(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),U){case 1:Ur(h,5);break;case 4:Ur(h,10);break;case 3:Ur(h,6);break;default:Ur(h,2)}}}function Qc(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function Ur(h,y){if(h.j.info("Error code "+y),y==2){var E=x(h.fb,h),S=h.Xa;const U=!S;S=new Vr(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Es(S,"https"),yi(S),U?Vd(S.toString(),E):Wc(S.toString(),E)}else dt(2);h.G=0,h.l&&h.l.sa(y),Yc(h),Po(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Yc(h){if(h.G=0,h.ka=[],h.l){const y=zc(h.h);(y.length!=0||h.i.length!=0)&&(I(h.ka,y),I(h.ka,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.ra()}}function Xc(h,y,E){var S=E instanceof Vr?xn(E):new Vr(E);if(S.g!="")y&&(S.g=y+"."+S.g),gi(S,S.s);else{var U=u.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var q=new Vr(null);S&&Es(q,S),y&&(q.g=y),U&&gi(q,U),E&&(q.l=E),S=q}return E=h.D,y=h.ya,E&&y&&Qe(S,E,y),Qe(S,"VER",h.la),zr(h,S),S}function Jc(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new ot(new jr({eb:E})):new ot(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}n=il.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Mo(){}Mo.prototype.g=function(h,y){return new tn(h,y)};function tn(h,y){Tt.call(this),this.g=new nl(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!H(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new gr(this)}P(tn,Tt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){jt(this.g)},tn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Ua(h),h=E);y.i.push(new Vc(y.Ya++,h)),y.G==3&&pr(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,tn.aa.N.call(this)};function Zc(h){cr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}P(Zc,cr);function eu(){yo.call(this),this.status=1}P(eu,yo);function gr(h){this.g=h}P(gr,il),gr.prototype.ua=function(){bt(this.g,"a")},gr.prototype.ta=function(h){bt(this.g,new Zc(h))},gr.prototype.sa=function(h){bt(this.g,new eu)},gr.prototype.ra=function(){bt(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Dx=function(){return new Mo},Nx=function(){return gs()},Rx=ur,Hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wo.NO_ERROR=0,wo.TIMEOUT=8,wo.HTTP_ERROR=6,xh=wo,Dc.COMPLETE="complete",kx=Dc,mo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Ll=mo,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,Px=ot}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const T0="@firebase/firestore",b0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Eg("@firebase/firestore");function sa(){return eo.logLevel}function he(n,...e){if(eo.logLevel<=Me.DEBUG){const t=e.map(Dg);eo.debug(`Firestore (${Ca}): ${n}`,...t)}}function oi(n,...e){if(eo.logLevel<=Me.ERROR){const t=e.map(Dg);eo.error(`Firestore (${Ca}): ${n}`,...t)}}function ya(n,...e){if(eo.logLevel<=Me.WARN){const t=e.map(Dg);eo.warn(`Firestore (${Ca}): ${n}`,...t)}}function Dg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Mx(n,r,t)}function Mx(n,e,t){let r=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw oi(r),new Error(r)}function We(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Mx(e,i,r)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yt.UNAUTHENTICATED))}shutdown(){}}class dC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fC{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ks,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ks)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new Ox(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class pC{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gC{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new pC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new I0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yC(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Oe(n,e){return n<e?-1:n>e?1:0}function Wp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),o=e.charAt(r);if(i!==o)return vp(i)===vp(o)?Oe(i,o):vp(i)?1:-1}return Oe(n.length,e.length)}const _C=55296,vC=57343;function vp(n){const e=n.charCodeAt(0);return e>=_C&&e<=vC}function _a(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="__name__";class Tr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Tr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Oe(e.length,t.length)}static compareSegments(e,t){const r=Tr.isNumericId(e),i=Tr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):Wp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class Ze extends Tr{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const wC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Tr{construct(e,t,r){return new Bt(e,t,r)}static isValidIdentifier(e){return wC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S0}static keyField(){return new Bt([S0])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ue(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ue(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new ue(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ze.fromString(e))}static fromName(e){return new ye(Ze.fromString(e).popFirst(5))}static empty(){return new ye(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n,e,t){if(!t)throw new ue(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xC(n,e,t,r){if(e===!0&&r===!0)throw new ue(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function A0(n){if(!ye.isDocumentKey(n))throw new ue(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C0(n){if(ye.isDocumentKey(n))throw new ue(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Vx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function hd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Yi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hd(n);throw new ue(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,e){const t={typeString:n};return e&&(t.value=e),t}function bc(n,e){if(!Vx(n))throw new ue(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ue(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=-62135596800,k0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*k0);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<P0)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bc(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:wt("string",it._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new it(0,0))}static max(){return new Se(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=-1;function EC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new Zi(i,ye.empty(),e)}function TC(n){return new Zi(n.readTime,n.key,ac)}class Zi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zi(Se.min(),ye.empty(),ac)}static max(){return new Zi(Se.max(),ye.empty(),ac)}}function bC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==IC)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,r)=>{t(e)})}static reject(e){return new Y((t,r)=>{r(e)})}static waitFor(e){return new Y((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next(i=>i?Y.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Y((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next(m=>{l[p]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new Y((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function AC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ka(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=-1;function fd(n){return n==null}function jh(n){return n===0&&1/n==-1/0}function CC(n){return typeof n=="number"&&Number.isInteger(n)&&!jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="";function PC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=R0(e)),e=kC(n.get(t),e);return R0(e)}function kC(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case jx:t+="";break;default:t+=o}}return t}function R0(n){return n+jx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=o??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ut(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new Pt(Bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zx("Invalid base64 string: "+o):o}}(e);return new Ht(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const RC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=RC.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ts(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="server_timestamp",Bx="__type__",$x="__previous_value__",Hx="__local_write_time__";function Lg(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Bx])==null?void 0:r.stringValue)===Ux}function pd(n){const e=n.mapValue.fields[$x];return Lg(e)?pd(e):e}function lc(n){const e=es(n.mapValue.fields[Hx].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t,r,i,o,l,u,d,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=m}}const Fh="(default)";class cc{constructor(e,t){this.projectId=e,this.database=t||Fh}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__type__",DC="__max__",Xu={mapValue:{}},qx="__vector__",zh="value";function ns(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lg(n)?4:OC(n)?9007199254740991:MC(n)?10:11:Te(28295,{value:n})}function Rr(n,e){if(n===e)return!0;const t=ns(n);if(t!==ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lc(n).isEqual(lc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=es(i.timestampValue),u=es(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ts(i.bytesValue).isEqual(ts(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return pt(i.geoPointValue.latitude)===pt(o.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return pt(i.integerValue)===pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=pt(i.doubleValue),u=pt(o.doubleValue);return l===u?jh(l)===jh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return _a(n.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(N0(l)!==N0(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Rr(l[d],u[d])))return!1;return!0}(n,e);default:return Te(52216,{left:n})}}function uc(n,e){return(n.values||[]).find(t=>Rr(t,e))!==void 0}function va(n,e){if(n===e)return 0;const t=ns(n),r=ns(e);if(t!==r)return Oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=pt(o.integerValue||o.doubleValue),d=pt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return M0(n.timestampValue,e.timestampValue);case 4:return M0(lc(n),lc(e));case 5:return Wp(n.stringValue,e.stringValue);case 6:return function(o,l){const u=ts(o),d=ts(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let p=0;p<u.length&&p<d.length;p++){const m=Oe(u[p],d[p]);if(m!==0)return m}return Oe(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Oe(pt(o.latitude),pt(l.latitude));return u!==0?u:Oe(pt(o.longitude),pt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return O0(n.arrayValue,e.arrayValue);case 10:return function(o,l){var x,b,P,A;const u=o.fields||{},d=l.fields||{},p=(x=u[zh])==null?void 0:x.arrayValue,m=(b=d[zh])==null?void 0:b.arrayValue,v=Oe(((P=p==null?void 0:p.values)==null?void 0:P.length)||0,((A=m==null?void 0:m.values)==null?void 0:A.length)||0);return v!==0?v:O0(p,m)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Xu.mapValue&&l===Xu.mapValue)return 0;if(o===Xu.mapValue)return 1;if(l===Xu.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const x=Wp(d[v],m[v]);if(x!==0)return x;const b=va(u[d[v]],p[m[v]]);if(b!==0)return b}return Oe(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function M0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=es(n),r=es(e),i=Oe(t.seconds,r.seconds);return i!==0?i:Oe(t.nanos,r.nanos)}function O0(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=va(t[i],r[i]);if(o)return o}return Oe(t.length,r.length)}function wa(n){return qp(n)}function qp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=es(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ts(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=qp(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${qp(t.fields[l])}`;return i+"}"}(n.mapValue):Te(61005,{value:n})}function Eh(n){switch(ns(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pd(n);return e?16+Eh(e):16;case 5:return 2*n.stringValue.length;case 6:return ts(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Eh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ls(r.fields,(o,l)=>{i+=o.length+Eh(l)}),i}(n.mapValue);default:throw Te(13486,{value:n})}}function L0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kp(n){return!!n&&"integerValue"in n}function Vg(n){return!!n&&"arrayValue"in n}function V0(n){return!!n&&"nullValue"in n}function j0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Th(n){return!!n&&"mapValue"in n}function MC(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Wx])==null?void 0:r.stringValue)===qx}function Gl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ls(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gl(n.arrayValue.values[t]);return e}return{...n}}function OC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(t)}setAll(e){let t=Bt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Gl(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ls(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new yn(Gl(this.value))}}function Kx(n){const e=[];return ls(n.fields,(t,r)=>{const i=new Bt([t]);if(Th(r)){const o=Kx(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Xt(e,0,Se.min(),Se.min(),Se.min(),yn.empty(),0)}static newFoundDocument(e,t,r,i){return new Xt(e,1,t,Se.min(),r,i,0)}static newNoDocument(e,t){return new Xt(e,2,t,Se.min(),Se.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,Se.min(),Se.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.position=e,this.inclusive=t}}function F0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(l.referenceValue),t.key):r=va(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function z0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t="asc"){this.field=e,this.dir=t}}function LC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{}class vt extends Gx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jC(e,t,r):t==="array-contains"?new UC(e,r):t==="in"?new BC(e,r):t==="not-in"?new $C(e,r):t==="array-contains-any"?new HC(e,r):new vt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new FC(e,r):new zC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(va(t,this.value)):t!==null&&ns(this.value)===ns(t)&&this.matchesComparison(va(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends Gx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ar(e,t)}matches(e){return Qx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qx(n){return n.op==="and"}function Yx(n){return VC(n)&&Qx(n)}function VC(n){for(const e of n.filters)if(e instanceof ar)return!1;return!0}function Gp(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+wa(n.value);if(Yx(n))return n.filters.map(e=>Gp(e)).join(",");{const e=n.filters.map(t=>Gp(t)).join(",");return`${n.op}(${e})`}}function Xx(n,e){return n instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&Rr(r.value,i.value)}(n,e):n instanceof ar?function(r,i){return i instanceof ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&Xx(l,i.filters[u]),!0):!1}(n,e):void Te(19439)}function Jx(n){return n instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${wa(t.value)}`}(n):n instanceof ar?function(t){return t.op.toString()+" {"+t.getFilters().map(Jx).join(" ,")+"}"}(n):"Filter"}class jC extends vt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class FC extends vt{constructor(e,t){super(e,"in",t),this.keys=Zx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zC extends vt{constructor(e,t){super(e,"not-in",t),this.keys=Zx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zx(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class UC extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vg(t)&&uc(t.arrayValue,this.value)}}class BC extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uc(this.value.arrayValue,t)}}class $C extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!uc(this.value.arrayValue,t)}}class HC extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>uc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function U0(n,e=null,t=[],r=[],i=null,o=null,l=null){return new WC(n,e,t,r,i,o,l)}function jg(n){const e=Ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Gp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wa(r)).join(",")),e.Te=t}return e.Te}function Fg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!LC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Xx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!z0(n.startAt,e.startAt)&&z0(n.endAt,e.endAt)}function Qp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qC(n,e,t,r,i,o,l,u){return new Ra(n,e,t,r,i,o,l,u)}function zg(n){return new Ra(n)}function B0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eE(n){return n.collectionGroup!==null}function Ql(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Pt(Bt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new hc(o,r))}),t.has(Bt.keyField().canonicalString())||e.Ie.push(new hc(Bt.keyField(),r))}return e.Ie}function Ar(n){const e=Ce(n);return e.Ee||(e.Ee=KC(e,Ql(n))),e.Ee}function KC(n,e){if(n.limitType==="F")return U0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new hc(i.field,o)});const t=n.endAt?new Uh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Uh(n.startAt.position,n.startAt.inclusive):null;return U0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Yp(n,e){const t=n.filters.concat([e]);return new Ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Xp(n,e,t){return new Ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gd(n,e){return Fg(Ar(n),Ar(e))&&n.limitType===e.limitType}function tE(n){return`${jg(Ar(n))}|lt:${n.limitType}`}function oa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Jx(i)).join(", ")}]`),fd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>wa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>wa(i)).join(",")),`Target(${r})`}(Ar(n))}; limitType=${n.limitType})`}function md(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Ql(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const p=F0(l,u,d);return l.inclusive?p<=0:p<0}(r.startAt,Ql(r),i)||r.endAt&&!function(l,u,d){const p=F0(l,u,d);return l.inclusive?p>=0:p>0}(r.endAt,Ql(r),i))}(n,e)}function GC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nE(n){return(e,t)=>{let r=!1;for(const i of Ql(n)){const o=QC(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function QC(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(o,l,u){const d=l.data.field(o),p=u.data.field(o);return d!==null&&p!==null?va(d,p):Te(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Fx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new ut(ye.comparator);function ai(){return YC}const rE=new ut(ye.comparator);function Vl(...n){let e=rE;for(const t of n)e=e.insert(t.key,t);return e}function iE(n){let e=rE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hs(){return Yl()}function sE(){return Yl()}function Yl(){return new so(n=>n.toString(),(n,e)=>n.isEqual(e))}const XC=new ut(ye.comparator),JC=new Pt(ye.comparator);function Le(...n){let e=JC;for(const t of n)e=e.add(t);return e}const ZC=new Pt(Oe);function eP(){return ZC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function oE(n){return{integerValue:""+n}}function tP(n,e){return CC(e)?oE(e):Ug(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function nP(n,e,t){return n instanceof Bh?function(i,o){const l={fields:{[Bx]:{stringValue:Ux},[Hx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Lg(o)&&(o=pd(o)),o&&(l.fields[$x]=o),{mapValue:l}}(t,e):n instanceof dc?lE(n,e):n instanceof fc?cE(n,e):function(i,o){const l=aE(i,o),u=$0(l)+$0(i.Ae);return Kp(l)&&Kp(i.Ae)?oE(u):Ug(i.serializer,u)}(n,e)}function rP(n,e,t){return n instanceof dc?lE(n,e):n instanceof fc?cE(n,e):t}function aE(n,e){return n instanceof $h?function(r){return Kp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Bh extends yd{}class dc extends yd{constructor(e){super(),this.elements=e}}function lE(n,e){const t=uE(e);for(const r of n.elements)t.some(i=>Rr(i,r))||t.push(r);return{arrayValue:{values:t}}}class fc extends yd{constructor(e){super(),this.elements=e}}function cE(n,e){let t=uE(e);for(const r of n.elements)t=t.filter(i=>!Rr(i,r));return{arrayValue:{values:t}}}class $h extends yd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function $0(n){return pt(n.integerValue||n.doubleValue)}function uE(n){return Vg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function iP(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof dc&&i instanceof dc||r instanceof fc&&i instanceof fc?_a(r.elements,i.elements,Rr):r instanceof $h&&i instanceof $h?Rr(r.Ae,i.Ae):r instanceof Bh&&i instanceof Bh}(n.transform,e.transform)}class sP{constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _d{}function hE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bg(n.key,sr.none()):new Ic(n.key,n.data,sr.none());{const t=n.data,r=yn.empty();let i=new Pt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new cs(n.key,r,new Cn(i.toArray()),sr.none())}}function oP(n,e,t){n instanceof Ic?function(i,o,l){const u=i.value.clone(),d=W0(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof cs?function(i,o,l){if(!bh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=W0(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(dE(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Xl(n,e,t,r){return n instanceof Ic?function(o,l,u,d){if(!bh(o.precondition,l))return u;const p=o.value.clone(),m=q0(o.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof cs?function(o,l,u,d){if(!bh(o.precondition,l))return u;const p=q0(o.fieldTransforms,d,l),m=l.data;return m.setAll(dE(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,u){return bh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function aP(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=aE(r.transform,i||null);o!=null&&(t===null&&(t=yn.empty()),t.set(r.field,o))}return t||null}function H0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_a(r,i,(o,l)=>iP(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ic extends _d{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cs extends _d{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function W0(n,e,t){const r=new Map;We(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,rP(l,u,t[i]))}return r}function q0(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,nP(o,l,e))}return r}class Bg extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lP extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&oP(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sE();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=hE(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(t,r)=>H0(t,r))&&_a(this.baseMutations,e.baseMutations,(t,r)=>H0(t,r))}}class $g{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return XC}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new $g(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Fe;function dP(n){switch(n){case Q.OK:return Te(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function fE(n){if(n===void 0)return oi("GRPC error has no .code"),Q.UNKNOWN;switch(n){case _t.OK:return Q.OK;case _t.CANCELLED:return Q.CANCELLED;case _t.UNKNOWN:return Q.UNKNOWN;case _t.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case _t.INTERNAL:return Q.INTERNAL;case _t.UNAVAILABLE:return Q.UNAVAILABLE;case _t.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case _t.NOT_FOUND:return Q.NOT_FOUND;case _t.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case _t.ABORTED:return Q.ABORTED;case _t.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case _t.DATA_LOSS:return Q.DATA_LOSS;default:return Te(39323,{code:n})}}(Fe=_t||(_t={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Qi([4294967295,4294967295],0);function K0(n){const e=fP().encode(n),t=new Cx;return t.update(e),new Uint8Array(t.digest())}function G0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qi([t,r],0),new Qi([i,o],0)]}class Hg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jl(`Invalid padding: ${t}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Qi.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Qi.fromNumber(r)));return i.compare(pP)===1&&(i=new Qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=K0(e),[r,i]=G0(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Hg(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const t=K0(e),[r,i]=G0(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new vd(Se.min(),i,new ut(Oe),ai(),Le())}}class Sc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sc(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class pE{constructor(e,t){this.targetId=e,this.Ce=t}}class gE{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Q0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),r=Le();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Te(38017,{changeType:o})}}),new Sc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Y0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gP{constructor(e){this.Ge=e,this.ze=new Map,this.je=ai(),this.Je=Ju(),this.He=Ju(),this.Ye=new ut(Oe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(Qp(o))if(r===0){const l=new ye(o.path);this.et(t,l,Xt.newNoDocument(l,Se.min()))}else We(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=ts(r).toUint8Array()}catch(d){if(d instanceof zx)return ya("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Hg(l,i,o)}catch(d){return ya(d instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((o,l)=>{const u=this.ot(l);if(u){if(o.current&&Qp(u.target)){const d=new ye(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Xt.newNoDocument(d,e))}o.Be&&(t.set(l,o.ke()),o.qe())}});let r=Le();this.He.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.je.forEach((o,l)=>l.setReadTime(e));const i=new vd(e,t,this.Ye,this.je,r);return this.je=ai(),this.Je=Ju(),this.He=Ju(),this.Ye=new ut(Oe),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Q0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pt(Oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pt(Oe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q0),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ju(){return new ut(ye.comparator)}function Y0(){return new ut(ye.comparator)}const mP={asc:"ASCENDING",desc:"DESCENDING"},yP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_P={and:"AND",or:"OR"};class vP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jp(n,e){return n.useProto3Json||fd(e)?e:{value:e}}function Hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wP(n,e){return Hh(n,e.toTimestamp())}function Cr(n){return We(!!n,49232),Se.fromTimestamp(function(t){const r=es(t);return new it(r.seconds,r.nanos)}(n))}function Wg(n,e){return Zp(n,e).canonicalString()}function Zp(n,e){const t=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function yE(n){const e=Ze.fromString(n);return We(EE(e),10190,{key:e.toString()}),e}function eg(n,e){return Wg(n.databaseId,e.path)}function wp(n,e){const t=yE(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(vE(t))}function _E(n,e){return Wg(n.databaseId,e)}function xP(n){const e=yE(n);return e.length===4?Ze.emptyPath():vE(e)}function tg(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vE(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function X0(n,e,t){return{name:eg(n,e),fields:t.value.mapValue.fields}}function EP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(We(m===void 0||typeof m=="string",58123),Ht.fromBase64String(m||"")):(We(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Ht.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const m=p.code===void 0?Q.UNKNOWN:fE(p.code);return new ue(m,p.message||"")}(l);t=new gE(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wp(n,r.document.name),o=Cr(r.document.updateTime),l=r.document.createTime?Cr(r.document.createTime):Se.min(),u=new yn({mapValue:{fields:r.document.fields}}),d=Xt.newFoundDocument(i,o,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];t=new Ih(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wp(n,r.document),o=r.readTime?Cr(r.readTime):Se.min(),l=Xt.newNoDocument(i,o),u=r.removedTargetIds||[];t=new Ih([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wp(n,r.document),o=r.removedTargetIds||[];t=new Ih([],o,i,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new hP(i,o),u=r.targetId;t=new pE(u,l)}}return t}function TP(n,e){let t;if(e instanceof Ic)t={update:X0(n,e.key,e.value)};else if(e instanceof Bg)t={delete:eg(n,e.key)};else if(e instanceof cs)t={update:X0(n,e.key,e.data),updateMask:NP(e.fieldMask)};else{if(!(e instanceof lP))return Te(16599,{Vt:e.type});t={verify:eg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Bh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof dc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof fc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $h)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Te(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:wP(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te(27497)}(n,e.precondition)),t}function bP(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map(t=>function(i,o){let l=i.updateTime?Cr(i.updateTime):Cr(o);return l.isEqual(Se.min())&&(l=Cr(o)),new sP(l,i.transformResults||[])}(t,e))):[]}function IP(n,e){return{documents:[_E(n,e.path)]}}function SP(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_E(n,i);const o=function(p){if(p.length!==0)return xE(ar.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(x){return{field:aa(x.field),direction:PP(x.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Jp(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:i}}function AP(n){let e=xP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){We(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(v){const x=wE(v);return x instanceof ar&&Yx(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(x=>function(P){return new hc(la(P.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(x))}(t.orderBy));let u=null;t.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,fd(x)?null:x}(t.limit));let d=null;t.startAt&&(d=function(v){const x=!!v.before,b=v.values||[];return new Uh(b,x)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const x=!v.before,b=v.values||[];return new Uh(b,x)}(t.endAt)),qC(e,i,l,o,u,"F",d,p)}function CP(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=la(t.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=la(t.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=la(t.unaryFilter.field);return vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=la(t.unaryFilter.field);return vt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(n):n.fieldFilter!==void 0?function(t){return vt.create(la(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ar.create(t.compositeFilter.filters.map(r=>wE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(n):Te(30097,{filter:n})}function PP(n){return mP[n]}function kP(n){return yP[n]}function RP(n){return _P[n]}function aa(n){return{fieldPath:n.canonicalString()}}function la(n){return Bt.fromServerFormat(n.fieldPath)}function xE(n){return n instanceof vt?function(t){if(t.op==="=="){if(j0(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NAN"}};if(V0(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(j0(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NAN"}};if(V0(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(t.field),op:kP(t.op),value:t.value}}}(n):n instanceof ar?function(t){const r=t.getFilters().map(i=>xE(i));return r.length===1?r[0]:{compositeFilter:{op:RP(t.op),filters:r}}}(n):Te(54877,{filter:n})}function NP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function EE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,r,i,o=Se.min(),l=Se.min(),u=Ht.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.yt=e}}function MP(n){const e=AP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.Cn=new LP}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Zi.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class LP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pt(Ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TE=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(TE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xa(0)}static cr(){return new xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="LruGarbageCollector",VP=1048576;function ev([n,e],[t,r]){const i=Oe(n,t);return i===0?Oe(e,r):i}class jP{constructor(e){this.Ir=e,this.buffer=new Pt(ev),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ev(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ka(t)?he(Z0,"Ignoring IndexedDB error during garbage collection: ",t):await Pa(t)}await this.Vr(3e5)})}}class zP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(dd.ce);const r=new jP(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(J0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,l,u,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),sa()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function UP(n,e){return new zP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.changes=new so(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Xl(r.mutation,i,Cn.empty(),it.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){const i=Hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Vl();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Hs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=ai();const l=Yl(),u=function(){return Yl()}();return t.forEach((d,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof cs)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Xl(m.mutation,p,m.mutation.getFieldMask(),it.now())):l.set(p.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>u.set(p,new $P(m,l.get(p)??null))),u))}recalculateAndSaveOverlays(e,t){const r=Yl();let i=new ut((l,u)=>l-u),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=r.get(d)||Cn.empty();m=u.applyToLocalView(p,m),r.set(d,m);const v=(i.get(u.batchId)||Le()).add(d);i=i.insert(u.batchId,v)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,m=d.value,v=sE();m.forEach(x=>{if(!o.has(x)){const b=hE(t.get(x),r.get(x));b!==null&&v.set(x,b),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return Y.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Y.resolve(Hs());let u=ac,d=o;return l.next(p=>Y.forEach(p,(m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next(x=>{d=d.insert(m,x)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,Le())).next(m=>({batchId:u,changes:iE(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let i=Vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Vl();return this.indexManager.getCollectionParents(e,o).next(u=>Y.forEach(u,d=>{const p=function(v,x){return new Ra(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,Xt.newInvalidDocument(m)))});let u=Vl();return l.forEach((d,p)=>{const m=o.get(d);m!==void 0&&Xl(m.mutation,p,Cn.empty(),it.now()),md(t,p)&&(u=u.insert(d,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Cr(i.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:MP(i.bundledQuery),readTime:Cr(i.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hs();return Y.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),Y.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const i=Hs(),o=t.length+1,l=new ye(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ut((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=Hs(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=Hs(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>u.set(p,m)),!(u.size()>=i)););return Y.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new uP(t,r));let o=this.qr.get(t);o===void 0&&(o=Le(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Qr=new Pt(Lt.$r),this.Ur=new Pt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Lt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Lt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ye(new Ze([])),r=new Lt(t,e),i=new Lt(t,e+1),o=[];return this.Ur.forEachInRange([r,i],l=>{this.Gr(l),o.push(l.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Ze([])),r=new Lt(t,e),i=new Lt(t,e+1);let o=Le();return this.Ur.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Lt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Oe(e.Yr,t.Yr)}static Kr(e,t){return Oe(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Lt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new cP(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Lt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,t){return Y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),o=i<0?0:i;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Og:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Lt(t,0),i=new Lt(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],l=>{const u=this.Xr(l.Yr);o.push(u)}),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Oe);return t.forEach(i=>{const o=new Lt(i,0),l=new Lt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],u=>{r=r.add(u.Yr)})}),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const l=new Lt(new ye(o),0);let u=new Pt(Oe);return this.Zr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(d.Yr)),!0)},l),Y.resolve(this.ti(u))}ti(e){const t=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(t.mutations,i=>{const o=new Lt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Lt(t,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.ri=e,this.docs=function(){return new ut(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let r=ai();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xt.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ai();const l=t.path,u=new ye(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||bC(TC(m),r)<=0||(i.has(m.key)||md(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Te(9500)}ii(e,t){return Y.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new YP(this)}getSize(e){return Y.resolve(this.size)}}class YP extends BP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.persistence=e,this.si=new so(t=>jg(t),Fg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new qg,this.targetCount=0,this.ai=xa.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Y.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new xa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Pr(t),Y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Y.waitFor(o).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),Y.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t){this.ui={},this.overlays={},this.ci=new dd(0),this.li=!1,this.li=!0,this.hi=new KP,this.referenceDelegate=e(this),this.Pi=new XP(this),this.indexManager=new OP,this.remoteDocumentCache=function(i){return new QP(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new DP(t),this.Ii=new WP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new GP(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new JP(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,t){return Y.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class JP extends SC{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Ri=new qg,this.Vi=null}static mi(e){return new Kg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,r=>{const i=ye.fromPath(r);return this.gi(e,i).next(o=>{o||t.removeEntry(i,Se.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Wh{constructor(e,t){this.persistence=e,this.pi=new so(r=>PC(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=UP(this,t)}static mi(e,t){return new Wh(e,t)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return Y.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?Y.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,l=>this.br(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Eh(e.data.value)),t}br(e,t,r){return Y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Le(),i=Le();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Gg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return kb()?8:AC(Zt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ys(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ws(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new ZP;return this.Ss(e,t,l).next(u=>{if(o.result=u,this.Vs)return this.bs(e,t,l,u.size)})}).next(()=>o.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(sa()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",oa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(sa()<=Me.DEBUG&&he("QueryEngine","Query:",oa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(sa()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",oa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):Y.resolve())}ys(e,t){if(B0(t))return Y.resolve(null);let r=Ar(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Xp(t,null,"F"),r=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Le(...o);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.Ds(t,u);return this.Cs(t,p,l,d.readTime)?this.ys(e,Xp(t,null,"F")):this.vs(e,p,t,d)}))})))}ws(e,t,r,i){return B0(t)||i.isEqual(Se.min())?Y.resolve(null):this.ps.getDocuments(e,r).next(o=>{const l=this.Ds(t,o);return this.Cs(t,l,r,i)?Y.resolve(null):(sa()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oa(t)),this.vs(e,l,t,EC(i,ac)).next(u=>u))})}Ds(e,t){let r=new Pt(nE(e));return t.forEach((i,o)=>{md(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return sa()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",oa(t)),this.ps.getDocumentsMatchingQuery(e,t,Zi.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="LocalStore",tk=3e8;class nk{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ut(Oe),this.xs=new so(o=>jg(o),Fg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function rk(n,e,t,r){return new nk(n,e,t,r)}async function IE(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let d=Le();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){u.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Ls:p,removedBatchIds:l,addedBatchIds:u}))})})}function ik(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return function(u,d,p,m){const v=p.batch,x=v.keys();let b=Y.resolve();return x.forEach(P=>{b=b.next(()=>m.getEntry(d,P)).next(A=>{const I=p.docVersions.get(P);We(I!==null,48541),A.version.compareTo(I)<0&&(v.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),m.addEntry(A)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(d,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Le();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function SE(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function sk(n,e){const t=Ce(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach((m,v)=>{const x=i.get(v);if(!x)return;u.push(t.Pi.removeMatchingKeys(o,m.removedDocuments,v).next(()=>t.Pi.addMatchingKeys(o,m.addedDocuments,v)));let b=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(Ht.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(v,b),function(A,I,F){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=tk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(x,b,m)&&u.push(t.Pi.updateTargetData(o,b))});let d=ai(),p=Le();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(ok(o,l,e.documentUpdates).next(m=>{d=m.ks,p=m.qs})),!r.isEqual(Se.min())){const m=t.Pi.getLastRemoteSnapshotVersion(o).next(v=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return Y.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(t.Ms=i,o))}function ok(n,e,t){let r=Le(),i=Le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=ai();return t.forEach((u,d)=>{const p=o.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Se.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):he(Qg,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)}),{ks:l,qs:i}})}function ak(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Og),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lk(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(o=>o?(i=o,Y.resolve(i)):t.Pi.allocateTargetId(r).next(l=>(i=new $i(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function ng(n,e,t){const r=Ce(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!ka(l))throw l;he(Qg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function tv(n,e,t){const r=Ce(n);let i=Se.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const v=Ce(d),x=v.xs.get(m);return x!==void 0?Y.resolve(v.Ms.get(x)):v.Pi.getTargetData(p,m)}(r,l,Ar(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,t?i:Se.min(),t?o:Le())).next(u=>(ck(r,GC(e),u),{documents:u,Qs:o})))}function ck(n,e,t){let r=n.Os.get(e)||Se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Os.set(e,r)}class nv{constructor(){this.activeTargetIds=eP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uk{constructor(){this.Mo=new nv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="ConnectivityMonitor";class iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(rv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function rg(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="RestConnection",dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Fh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){const l=rg(),u=this.zo(e,t.toUriEncodedString());he(xp,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,o);const{host:p}=new URL(u),m=Ia(p);return this.Jo(e,u,d,r,m).then(v=>(he(xp,`Received RPC '${e}' ${l}: `,v),v),v=>{throw ya(xp,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v})}Ho(e,t,r,i,o,l){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ca}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,t){const r=dk[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class gk extends fk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const l=rg();return new Promise((u,d)=>{const p=new Px;p.setWithCredentials(!0),p.listenOnce(kx.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case xh.NO_ERROR:const v=p.getResponseJson();he(Qt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case xh.TIMEOUT:he(Qt,`RPC '${e}' ${l} timed out`),d(new ue(Q.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const x=p.getStatus();if(he(Qt,`RPC '${e}' ${l} failed with status:`,x,"response text:",p.getResponseText()),x>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const P=b==null?void 0:b.error;if(P&&P.status&&P.message){const A=function(F){const H=F.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(H)>=0?H:Q.UNKNOWN}(P.status);d(new ue(A,P.message))}else d(new ue(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ue(Q.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(Qt,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);he(Qt,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",m,r,15)})}T_(e,t,r){const i=rg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Dx(),u=Nx(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");he(Qt,`Creating RPC '${e}' stream ${i}: ${m}`,d);const v=l.createWebChannel(m,d);this.I_(v);let x=!1,b=!1;const P=new pk({Yo:I=>{b?he(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(x||(he(Qt,`Opening RPC '${e}' stream ${i} transport.`),v.open(),x=!0),he(Qt,`RPC '${e}' stream ${i} sending:`,I),v.send(I))},Zo:()=>v.close()}),A=(I,F,H)=>{I.listen(F,K=>{try{H(K)}catch(X){setTimeout(()=>{throw X},0)}})};return A(v,Ll.EventType.OPEN,()=>{b||(he(Qt,`RPC '${e}' stream ${i} transport opened.`),P.o_())}),A(v,Ll.EventType.CLOSE,()=>{b||(b=!0,he(Qt,`RPC '${e}' stream ${i} transport closed`),P.a_(),this.E_(v))}),A(v,Ll.EventType.ERROR,I=>{b||(b=!0,ya(Qt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),P.a_(new ue(Q.UNAVAILABLE,"The operation could not be completed")))}),A(v,Ll.EventType.MESSAGE,I=>{var F;if(!b){const H=I.data[0];We(!!H,16349);const K=H,X=(K==null?void 0:K.error)||((F=K[0])==null?void 0:F.error);if(X){he(Qt,`RPC '${e}' stream ${i} received error:`,X);const se=X.status;let ie=function(N){const M=_t[N];if(M!==void 0)return fE(M)}(se),O=X.message;ie===void 0&&(ie=Q.INTERNAL,O="Unknown error status: "+se+" with message "+X.message),b=!0,P.a_(new ue(ie,O)),v.close()}else he(Qt,`RPC '${e}' stream ${i} received:`,H),P.u_(H)}}),A(u,Rx.STAT_EVENT,I=>{I.stat===Hp.PROXY?he(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Hp.NOPROXY&&he(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(n){return new vP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="PersistentStream";class CE{constructor(e,t,r,i,o,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{const i=new ue(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(he(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mk extends CE{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=EP(this.serializer,e),r=function(o){if(!("targetChange"in o))return Se.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Se.min():l.readTime?Cr(l.readTime):Se.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=tg(this.serializer),t.addTarget=function(o,l){let u;const d=l.target;if(u=Qp(d)?{documents:IP(o,d)}:{query:SP(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=mE(o,l.resumeToken);const p=Jp(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Se.min())>0){u.readTime=Hh(o,l.snapshotVersion.toTimestamp());const p=Jp(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=CP(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=tg(this.serializer),t.removeTarget=e,this.q_(t)}}class yk extends CE{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=bP(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=tg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>TP(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{}class vk extends _k{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Go(e,Zp(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Q.UNKNOWN,o.toString())})}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,Zp(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(Q.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class wk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oi(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="RemoteStore";class xk{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{oo(this)&&(he(to,"Restarting streams for network reachability change."),await async function(d){const p=Ce(d);p.Ea.add(4),await Ac(p),p.Ra.set("Unknown"),p.Ea.delete(4),await xd(p)}(this))})}),this.Ra=new wk(r,i)}}async function xd(n){if(oo(n))for(const e of n.da)await e(!0)}async function Ac(n){for(const e of n.da)await e(!1)}function PE(n,e){const t=Ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Zg(t)?Jg(t):Na(t).O_()&&Xg(t,e))}function Yg(n,e){const t=Ce(n),r=Na(t);t.Ia.delete(e),r.O_()&&kE(t,e),t.Ia.size===0&&(r.O_()?r.L_():oo(t)&&t.Ra.set("Unknown"))}function Xg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Na(n).Y_(e)}function kE(n,e){n.Va.Ue(e),Na(n).Z_(e)}function Jg(n){n.Va=new gP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Na(n).start(),n.Ra.ua()}function Zg(n){return oo(n)&&!Na(n).x_()&&n.Ia.size>0}function oo(n){return Ce(n).Ea.size===0}function RE(n){n.Va=void 0}async function Ek(n){n.Ra.set("Online")}async function Tk(n){n.Ia.forEach((e,t)=>{Xg(n,e)})}async function bk(n,e){RE(n),Zg(n)?(n.Ra.ha(e),Jg(n)):n.Ra.set("Unknown")}async function Ik(n,e,t){if(n.Ra.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))}(n,e)}catch(r){he(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(n,r)}else if(e instanceof Ih?n.Va.Ze(e):e instanceof pE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Se.min()))try{const r=await SE(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ia.get(p);m&&o.Ia.set(p,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,p)=>{const m=o.Ia.get(d);if(!m)return;o.Ia.set(d,m.withResumeToken(Ht.EMPTY_BYTE_STRING,m.snapshotVersion)),kE(o,d);const v=new $i(m.target,d,p,m.sequenceNumber);Xg(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){he(to,"Failed to raise snapshot:",r),await qh(n,r)}}async function qh(n,e,t){if(!ka(e))throw e;n.Ea.add(1),await Ac(n),n.Ra.set("Offline"),t||(t=()=>SE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(to,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await xd(n)})}function NE(n,e){return e().catch(t=>qh(n,t,e))}async function Ed(n){const e=Ce(n),t=rs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Og;for(;Sk(e);)try{const i=await ak(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,Ak(e,i)}catch(i){await qh(e,i)}DE(e)&&ME(e)}function Sk(n){return oo(n)&&n.Ta.length<10}function Ak(n,e){n.Ta.push(e);const t=rs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function DE(n){return oo(n)&&!rs(n).x_()&&n.Ta.length>0}function ME(n){rs(n).start()}async function Ck(n){rs(n).ra()}async function Pk(n){const e=rs(n);for(const t of n.Ta)e.ea(t.mutations)}async function kk(n,e,t){const r=n.Ta.shift(),i=$g.from(r,e,t);await NE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Ed(n)}async function Rk(n,e){e&&rs(n).X_&&await async function(r,i){if(function(l){return dP(l)&&l!==Q.ABORTED}(i.code)){const o=r.Ta.shift();rs(r).B_(),await NE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ed(r)}}(n,e),DE(n)&&ME(n)}async function ov(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),he(to,"RemoteStore received new credentials");const r=oo(t);t.Ea.add(3),await Ac(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await xd(t)}async function Nk(n,e){const t=Ce(n);e?(t.Ea.delete(2),await xd(t)):e||(t.Ea.add(2),await Ac(t),t.Ra.set("Unknown"))}function Na(n){return n.ma||(n.ma=function(t,r,i){const o=Ce(t);return o.sa(),new mk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Xo:Ek.bind(null,n),t_:Tk.bind(null,n),r_:bk.bind(null,n),H_:Ik.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Zg(n)?Jg(n):n.Ra.set("Unknown")):(await n.ma.stop(),RE(n))})),n.ma}function rs(n){return n.fa||(n.fa=function(t,r,i){const o=Ce(t);return o.sa(),new yk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ck.bind(null,n),r_:Rk.bind(null,n),ta:Pk.bind(null,n),na:kk.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Ed(n)):(await n.fa.stop(),n.Ta.length>0&&(he(to,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new em(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tm(n,e){if(oi("AsyncQueue",`${e}: ${n}`),ka(n))return new ue(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{static emptySet(e){return new fa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Vl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.ga=new ut(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ea{constructor(e,t,r,i,o,l,u,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Ea(e,t,fa.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Mk{constructor(){this.queries=lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ce(t),o=i.queries;i.queries=lv(),o.forEach((l,u)=>{for(const d of u.Sa)d.onError(r)})})(this,new ue(Q.ABORTED,"Firestore shutting down"))}}function lv(){return new so(n=>tE(n),gd)}async function Ok(n,e){const t=Ce(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new Dk,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=tm(l,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&nm(t)}async function Lk(n,e){const t=Ce(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Vk(n,e){const t=Ce(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&nm(t)}function jk(n,e,t){const r=Ce(n),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);r.queries.delete(e)}function nm(n){n.Ca.forEach(e=>{e.next()})}var ig,cv;(cv=ig||(ig={})).Ma="default",cv.Cache="cache";class Fk{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class zk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=nE(e),this.tu=new fa(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new av,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const x=i.get(m),b=md(this.query,v)?v:null,P=!!x&&this.mutatedKeys.has(x.key),A=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let I=!1;x&&b?x.data.isEqual(b.data)?P!==A&&(r.track({type:3,doc:b}),I=!0):this.su(x,b)||(r.track({type:2,doc:b}),I=!0,(d&&this.eu(b,d)>0||p&&this.eu(b,p)<0)&&(u=!0)):!x&&b?(r.track({type:0,doc:b}),I=!0):x&&!b&&(r.track({type:1,doc:x}),I=!0,(d||p)&&(u=!0)),I&&(b?(l=l.add(b),o=A?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((m,v)=>function(b,P){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:I})}};return A(b)-A(P)}(m.type,v.type)||this.eu(m.doc,v.doc)),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,p=d!==this.Za;return this.Za=d,l.length!==0||p?{snapshot:new Ea(this.query,e.tu,o,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new LE(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new OE(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ea.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rm="SyncEngine";class Uk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Bk{constructor(e){this.key=e,this.hu=!1}}class $k{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new so(u=>tE(u),gd),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new qg,this.Vu={},this.mu=new Map,this.fu=xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Hk(n,e,t=!0){const r=BE(n);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await VE(r,e,t,!0),i}async function Wk(n,e){const t=BE(n);await VE(t,e,!0,!1)}async function VE(n,e,t,r){const i=await lk(n.localStore,Ar(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await qk(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&PE(n.remoteStore,i),u}async function qk(n,e,t,r,i){n.pu=(v,x,b)=>async function(A,I,F,H){let K=I.view.ru(F);K.Cs&&(K=await tv(A.localStore,I.query,!1).then(({documents:O})=>I.view.ru(O,K)));const X=H&&H.targetChanges.get(I.targetId),se=H&&H.targetMismatches.get(I.targetId)!=null,ie=I.view.applyChanges(K,A.isPrimaryClient,X,se);return hv(A,I.targetId,ie.au),ie.snapshot}(n,v,x,b);const o=await tv(n.localStore,e,!0),l=new zk(e,o.Qs),u=l.ru(o.documents),d=Sc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,d);hv(n,t,p.au);const m=new Uk(e,t,l);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function Kk(n,e,t){const r=Ce(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(l=>!gd(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ng(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Yg(r.remoteStore,i.targetId),sg(r,i.targetId)}).catch(Pa)):(sg(r,i.targetId),await ng(r.localStore,i.targetId,!0))}async function Gk(n,e){const t=Ce(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Yg(t.remoteStore,r.targetId))}async function Qk(n,e,t){const r=n2(n);try{const i=await function(l,u){const d=Ce(l),p=it.now(),m=u.reduce((b,P)=>b.add(P.key),Le());let v,x;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let P=ai(),A=Le();return d.Ns.getEntries(b,m).next(I=>{P=I,P.forEach((F,H)=>{H.isValidDocument()||(A=A.add(F))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,P)).next(I=>{v=I;const F=[];for(const H of u){const K=aP(H,v.get(H.key).overlayedDocument);K!=null&&F.push(new cs(H.key,K,Kx(K.value.mapValue),sr.exists(!0)))}return d.mutationQueue.addMutationBatch(b,p,F,u)}).next(I=>{x=I;const F=I.applyToLocalDocumentSet(v,A);return d.documentOverlayCache.saveOverlays(b,I.batchId,F)})}).then(()=>({batchId:x.batchId,changes:iE(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let p=l.Vu[l.currentUser.toKey()];p||(p=new ut(Oe)),p=p.insert(u,d),l.Vu[l.currentUser.toKey()]=p}(r,i.batchId,t),await Cc(r,i.changes),await Ed(r.remoteStore)}catch(i){const o=tm(i,"Failed to persist write");t.reject(o)}}async function jE(n,e){const t=Ce(n);try{const r=await sk(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Au.get(o);l&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?We(l.hu,14607):i.removedDocuments.size>0&&(We(l.hu,42227),l.hu=!1))}),await Cc(t,r,e)}catch(r){await Pa(r)}}function uv(n,e,t){const r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach((o,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=Ce(l);d.onlineState=u;let p=!1;d.queries.forEach((m,v)=>{for(const x of v.Sa)x.va(u)&&(p=!0)}),p&&nm(d)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yk(n,e,t){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new ut(ye.comparator);l=l.insert(o,Xt.newNoDocument(o,Se.min()));const u=Le().add(o),d=new vd(Se.min(),new Map,new ut(Oe),l,u);await jE(r,d),r.du=r.du.remove(o),r.Au.delete(e),im(r)}else await ng(r.localStore,e,!1).then(()=>sg(r,e,t)).catch(Pa)}async function Xk(n,e){const t=Ce(n),r=e.batch.batchId;try{const i=await ik(t.localStore,e);zE(t,r,null),FE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cc(t,i)}catch(i){await Pa(i)}}async function Jk(n,e,t){const r=Ce(n);try{const i=await function(l,u){const d=Ce(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,u).next(v=>(We(v!==null,37113),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(r.localStore,e);zE(r,e,t),FE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cc(r,i)}catch(i){await Pa(i)}}function FE(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function zE(n,e,t){const r=Ce(n);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function sg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||UE(n,r)})}function UE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Yg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),im(n))}function hv(n,e,t){for(const r of t)r instanceof OE?(n.Ru.addReference(r.key,e),Zk(n,r)):r instanceof LE?(he(rm,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||UE(n,r.key)):Te(19791,{wu:r})}function Zk(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(he(rm,"New document in limbo: "+t),n.Eu.add(r),im(n))}function im(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Ze.fromString(e)),r=n.fu.next();n.Au.set(r,new Bk(t)),n.du=n.du.insert(t,r),PE(n.remoteStore,new $i(Ar(zg(t.path)),r,"TargetPurposeLimboResolution",dd.ce))}}async function Cc(n,e,t){const r=Ce(n),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((u,d)=>{l.push(r.pu(d,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Gg.As(d.targetId,p);o.push(v)}}))}),await Promise.all(l),r.Pu.H_(i),await async function(d,p){const m=Ce(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Y.forEach(p,x=>Y.forEach(x.Es,b=>m.persistence.referenceDelegate.addReference(v,x.targetId,b)).next(()=>Y.forEach(x.ds,b=>m.persistence.referenceDelegate.removeReference(v,x.targetId,b)))))}catch(v){if(!ka(v))throw v;he(Qg,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const b=m.Ms.get(x),P=b.snapshotVersion,A=b.withLastLimboFreeSnapshotVersion(P);m.Ms=m.Ms.insert(x,A)}}}(r.localStore,o))}async function e2(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){he(rm,"User change. New user:",e.toKey());const r=await IE(t.localStore,e);t.currentUser=e,function(o,l){o.mu.forEach(u=>{u.forEach(d=>{d.reject(new ue(Q.CANCELLED,l))})}),o.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cc(t,r.Ls)}}function t2(n,e){const t=Ce(n),r=t.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let i=Le();const o=t.Iu.get(e);if(!o)return i;for(const l of o){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function BE(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yk.bind(null,e),e.Pu.H_=Vk.bind(null,e.eventManager),e.Pu.yu=jk.bind(null,e.eventManager),e}function n2(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jk.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return rk(this.persistence,new ek,e.initialUser,this.serializer)}Cu(e){return new bE(Kg.mi,this.serializer)}Du(e){return new uk}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class r2 extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new bE(r=>Wh.mi(r,t),this.serializer)}}class og{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=e2.bind(null,this.syncEngine),await Nk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Mk}()}createDatastore(e){const t=wd(e.databaseInfo.databaseId),r=function(o){return new gk(o)}(e.databaseInfo);return function(o,l,u,d){return new vk(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new xk(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>uv(this.syncEngine,t,0),function(){return iv.v()?new iv:new hk}())}createSyncEngine(e,t){return function(i,o,l,u,d,p,m){const v=new $k(i,o,l,u,d,p);return m&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ce(i);he(to,"RemoteStore shutting down."),o.Ea.add(5),await Ac(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}og.provider={build:()=>new og};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class s2{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{he(is,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(is,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=tm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tp(n,e){n.asyncQueue.verifyOperationInProgress(),he(is,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function dv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await o2(n);he(is,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>ov(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>ov(e.remoteStore,i)),n._onlineComponents=e}async function o2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(is,"Using user provided OfflineComponentProvider");try{await Tp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ya("Error using user provided cache. Falling back to memory cache: "+t),await Tp(n,new Kh)}}else he(is,"Using default OfflineComponentProvider"),await Tp(n,new r2(void 0));return n._offlineComponents}async function $E(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(is,"Using user provided OnlineComponentProvider"),await dv(n,n._uninitializedComponentsProvider._online)):(he(is,"Using default OnlineComponentProvider"),await dv(n,new og))),n._onlineComponents}function a2(n){return $E(n).then(e=>e.syncEngine)}async function fv(n){const e=await $E(n),t=e.eventManager;return t.onListen=Hk.bind(null,e.syncEngine),t.onUnlisten=Kk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Wk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Gk.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firestore.googleapis.com",gv=!0;class mv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WE,this.ssl=gv}else this.host=e.host,this.ssl=e.ssl??gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VP)throw new ue(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hC;switch(r.type){case"firstParty":return new gC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=pv.get(t);r&&(he("ComponentProvider","Removing Datastore"),pv.delete(t),r.terminate())}(this),Promise.resolve()}}function l2(n,e,t,r={}){var p;n=Yi(n,Td);const i=Ia(e),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(zw(`https://${u}`),Uw("Firestore",!0)),o.host!==WE&&o.host!==u&&ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:i,emulatorOptions:r};if(!Ys(d,l)&&(n._setSettings(d),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=Yt.MOCK_USER;else{m=xb(r.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ue(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Yt(x)}n._authCredentials=new dC(new Ox(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(bc(t,xt._jsonSchema))return new xt(e,r||null,new ye(Ze.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:wt("string",xt._jsonSchemaVersion),referencePath:wt("string")};class Xi extends ao{constructor(e,t,r){super(e,t,zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ye(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function yv(n,e,...t){if(n=kt(n),Lx("collection","path",e),n instanceof Td){const r=Ze.fromString(e,...t);return C0(r),new Xi(n,null,r)}{if(!(n instanceof xt||n instanceof Xi))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return C0(r),new Xi(n.firestore,null,r)}}function ag(n,e,...t){if(n=kt(n),arguments.length===1&&(e=Mg.newId()),Lx("doc","path",e),n instanceof Td){const r=Ze.fromString(e,...t);return A0(r),new xt(n,null,new ye(r))}{if(!(n instanceof xt||n instanceof Xi))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return A0(r),new xt(n.firestore,n instanceof Xi?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AE(this,"async_queue_retry"),this._c=()=>{const r=Ep();r&&he(_v,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Ep();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ep();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ks;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ka(e))throw e;he(_v,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,oi("INTERNAL UNHANDLED ERROR: ",wv(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=em.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Te(47125,{Pc:wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ta extends Td{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new vv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function c2(n,e){const t=typeof n=="object"?n:Ww(),r=typeof n=="string"?n:Fh,i=bg(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=vb("firestore");o&&l2(i,...o)}return i}function qE(n){if(n._terminated)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||u2(n),n._firestoreClient}function u2(n){var r,i,o;const e=n._freezeSettings(),t=function(u,d,p,m){return new NC(u,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,HE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new s2(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Ht.fromBase64String(e))}catch(t){throw new ue(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Un(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bc(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:wt("string",Un._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(bc(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:wt("string",Pr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bc(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new kr(e.vectorValues);throw new ue(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:wt("string",kr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=/^__.*__$/;class d2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ic(e,this.data,t,this.fieldTransforms)}}class KE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class om{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new om({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GE(this.Ac)&&h2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class f2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wd(e)}Cc(e,t,r,i=!1){return new om({Ac:e,methodName:t,Dc:r,path:Bt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(n){const e=n._freezeSettings(),t=wd(n._databaseId);return new f2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function p2(n,e,t,r,i,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,e,t,i);lm("Data must be an object, but it was:",l,r);const u=QE(r,l);let d,p;if(o.merge)d=new Cn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const x=lg(e,v,t);if(!l.contains(x))throw new ue(Q.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);XE(m,x)||m.push(x)}d=new Cn(m),p=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=l.fieldTransforms;return new d2(new yn(u),d,p)}class Id extends sm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Id}}function g2(n,e,t,r){const i=n.Cc(1,e,t);lm("Data must be an object, but it was:",i,r);const o=[],l=yn.empty();ls(r,(d,p)=>{const m=cm(e,d,t);p=kt(p);const v=i.yc(m);if(p instanceof Id)o.push(m);else{const x=Pc(p,v);x!=null&&(o.push(m),l.set(m,x))}});const u=new Cn(o);return new KE(l,u,i.fieldTransforms)}function m2(n,e,t,r,i,o){const l=n.Cc(1,e,t),u=[lg(e,r,t)],d=[i];if(o.length%2!=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)u.push(lg(e,o[x])),d.push(o[x+1]);const p=[],m=yn.empty();for(let x=u.length-1;x>=0;--x)if(!XE(p,u[x])){const b=u[x];let P=d[x];P=kt(P);const A=l.yc(b);if(P instanceof Id)p.push(b);else{const I=Pc(P,A);I!=null&&(p.push(b),m.set(b,I))}}const v=new Cn(p);return new KE(m,v,l.fieldTransforms)}function y2(n,e,t,r=!1){return Pc(t,n.Cc(r?4:3,e))}function Pc(n,e){if(YE(n=kt(n)))return lm("Unsupported field value:",e,n),QE(n,e);if(n instanceof sm)return function(r,i){if(!GE(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let d=Pc(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:Hh(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hh(i.serializer,o)}}if(r instanceof Pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:mE(i.serializer,r._byteString)};if(r instanceof xt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kr)return function(l,u){return{mapValue:{fields:{[Wx]:{stringValue:qx},[zh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.Sc("VectorValues must only contain numeric values.");return Ug(u.serializer,p)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${hd(r)}`)}(n,e)}function QE(n,e){const t={};return Fx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(n,(r,i)=>{const o=Pc(i,e.mc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function YE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof Pr||n instanceof Un||n instanceof xt||n instanceof sm||n instanceof kr)}function lm(n,e,t){if(!YE(t)||!Vx(t)){const r=hd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function lg(n,e,t){if((e=kt(e))instanceof bd)return e._internalPath;if(typeof e=="string")return cm(n,e);throw Gh("Field path arguments must be of type string or ",n,!1,void 0,t)}const _2=new RegExp("[~\\*/\\[\\]]");function cm(n,e,t){if(e.search(_2)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bd(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gh(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ue(Q.INVALID_ARGUMENT,u+n+d)}function XE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(um("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class v2 extends JE{data(){return super.data()}}function um(n,e){return typeof e=="string"?cm(n,e):e instanceof bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hm{}class ZE extends hm{}function x2(n,e,...t){let r=[];e instanceof hm&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof fm).length,u=o.filter(d=>d instanceof dm).length;if(l>1||l>0&&u>0)throw new ue(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class dm extends ZE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new dm(e,t,r)}_apply(e){const t=this._parse(e);return e1(e._query,t),new ao(e.firestore,e.converter,Yp(e._query,t))}_parse(e){const t=am(e.firestore);return function(o,l,u,d,p,m,v){let x;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Tv(v,m);const P=[];for(const A of v)P.push(Ev(d,o,A));x={arrayValue:{values:P}}}else x=Ev(d,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Tv(v,m),x=y2(u,l,v,m==="in"||m==="not-in");return vt.create(p,m,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class fm extends hm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)e1(l,d),l=Yp(l,d)}(e._query,t),new ao(e.firestore,e.converter,Yp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pm extends ZE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pm(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new ue(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hc(o,l)}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new Ra(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function E2(n,e="asc"){const t=e,r=um("orderBy",n);return pm._create(r,t)}function Ev(n,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new ue(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(e)&&t.indexOf("/")!==-1)throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ze.fromString(t));if(!ye.isDocumentKey(r))throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return L0(n,new ye(r))}if(t instanceof xt)return L0(n,t._key);throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(t)}.`)}function Tv(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(n,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class T2{convertValue(e,t="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ls(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var r,i,o;const t=(o=(i=(r=e.fields)==null?void 0:r[zh].arrayValue)==null?void 0:i.values)==null?void 0:o.map(l=>pt(l.doubleValue));return new kr(t)}convertGeoPoint(e){return new Pr(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=pd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const t=es(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);We(EE(r),9688,{name:e});const i=new cc(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(t)||oi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Fl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends JE{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(um("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Gs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:wt("string",Gs._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Sh extends Gs{data(e={}){return super.data(e)}}class pa{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sh(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Sh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fl(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new Sh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fl(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:I2(u.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:wt("string",pa._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class t1 extends T2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function S2(n,e,t,...r){n=Yi(n,xt);const i=Yi(n.firestore,Ta),o=am(i);let l;return l=typeof(e=kt(e))=="string"||e instanceof bd?m2(o,"updateDoc",n._key,e,t,r):g2(o,"updateDoc",n._key,e),gm(i,[l.toMutation(n._key,sr.exists(!0))])}function A2(n){return gm(Yi(n.firestore,Ta),[new Bg(n._key,sr.none())])}function C2(n,e){const t=Yi(n.firestore,Ta),r=ag(n),i=b2(n.converter,e);return gm(t,[p2(am(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}function P2(n,...e){var d,p,m;n=kt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||xv(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(xv(e[r])){const v=e[r];e[r]=(d=v.next)==null?void 0:d.bind(v),e[r+1]=(p=v.error)==null?void 0:p.bind(v),e[r+2]=(m=v.complete)==null?void 0:m.bind(v)}let o,l,u;if(n instanceof xt)l=Yi(n.firestore,Ta),u=zg(n._key.path),o={next:v=>{e[r]&&e[r](k2(l,n,v))},error:e[r+1],complete:e[r+2]};else{const v=Yi(n,ao);l=Yi(v.firestore,Ta),u=v._query;const x=new t1(l);o={next:b=>{e[r]&&e[r](new pa(l,x,v,b))},error:e[r+1],complete:e[r+2]},w2(n._query)}return function(x,b,P,A){const I=new i2(A),F=new Fk(b,I,P);return x.asyncQueue.enqueueAndForget(async()=>Ok(await fv(x),F)),()=>{I.Nu(),x.asyncQueue.enqueueAndForget(async()=>Lk(await fv(x),F))}}(qE(l),u,i,o)}function gm(n,e){return function(r,i){const o=new Ks;return r.asyncQueue.enqueueAndForget(async()=>Qk(await a2(r),i,o)),o.promise}(qE(n),e)}function k2(n,e,t){const r=t.docs.get(e._key),i=new t1(n);return new Gs(n,i,e._key,r,new Fl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ca=i})(Sa),ma(new Xs("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Ta(new fC(r.getProvider("auth-internal")),new mC(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(p.options.projectId,m)}(l,i),l);return o={useFetchStreams:t,...o},u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Gi(T0,b0,e),Gi(T0,b0,"esm2020")})();const R2={apiKey:"AIzaSyBDXZYAxWsvMiMGCrPRp3EBVuU0dzuWF4M",authDomain:"sistemadefensoria6.firebaseapp.com",projectId:"sistemadefensoria6"},n1=Hw(R2),eh=aC(n1),th=c2(n1),r1=oe.createContext({});function mm(){return oe.useContext(r1)}function N2({children:n}){const[e,t]=oe.useState(null),[r,i]=oe.useState(!0);function o(p,m){return WS(eh,p,m).then(()=>{})}function l(p,m){return qS(eh,p,m).then(()=>{})}function u(){return YS(eh)}oe.useEffect(()=>QS(eh,m=>{t(m),i(!1)}),[]);const d={currentUser:e,login:l,register:o,logout:u,loading:r};return w.jsx(r1.Provider,{value:d,children:!r&&n})}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(n,e)=>{const t=oe.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:d,...p},m)=>oe.createElement("svg",{ref:m,...D2,width:i,height:i,stroke:r,strokeWidth:l?Number(o)*24/Number(i):o,className:["lucide",`lucide-${M2(n)}`,u].join(" "),...p},[...e.map(([v,x])=>oe.createElement(v,x)),...Array.isArray(d)?d:[d]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=et("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=et("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=et("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=et("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=et("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=et("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=et("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=et("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=et("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=et("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=et("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=et("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=et("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);let Y2={data:""},X2=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||Y2,J2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Z2=/\/\*[^]*?\*\/|  +/g,Av=/\n+/g,Bi=(n,e)=>{let t="",r="",i="";for(let o in n){let l=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+l+";":r+=o[1]=="f"?Bi(l,o):o+"{"+Bi(l,o[1]=="k"?"":e)+"}":typeof l=="object"?r+=Bi(l,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Bi.p?Bi.p(o,l):o+":"+l+";")}return t+(e&&i?e+"{"+i+"}":i)+r},Yr={},l1=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+l1(n[t]);return e}return n},eR=(n,e,t,r,i)=>{let o=l1(n),l=Yr[o]||(Yr[o]=(d=>{let p=0,m=11;for(;p<d.length;)m=101*m+d.charCodeAt(p++)>>>0;return"go"+m})(o));if(!Yr[l]){let d=o!==n?n:(p=>{let m,v,x=[{}];for(;m=J2.exec(p.replace(Z2,""));)m[4]?x.shift():m[3]?(v=m[3].replace(Av," ").trim(),x.unshift(x[0][v]=x[0][v]||{})):x[0][m[1]]=m[2].replace(Av," ").trim();return x[0]})(n);Yr[l]=Bi(i?{["@keyframes "+l]:d}:d,t?"":"."+l)}let u=t&&Yr.g?Yr.g:null;return t&&(Yr.g=Yr[l]),((d,p,m,v)=>{v?p.data=p.data.replace(v,d):p.data.indexOf(d)===-1&&(p.data=m?d+p.data:p.data+d)})(Yr[l],e,r,u),l},tR=(n,e,t)=>n.reduce((r,i,o)=>{let l=e[o];if(l&&l.call){let u=l(t),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":Bi(u,""):u===!1?"":u}return r+i+(l??"")},"");function Ad(n){let e=this||{},t=n.call?n(e.p):n;return eR(t.unshift?t.raw?tR(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,X2(e.target),e.g,e.o,e.k)}let c1,hg,dg;Ad.bind({g:1});let li=Ad.bind({k:1});function nR(n,e,t,r){Bi.p=e,c1=n,hg=t,dg=r}function us(n,e){let t=this||{};return function(){let r=arguments;function i(o,l){let u=Object.assign({},o),d=u.className||i.className;t.p=Object.assign({theme:hg&&hg()},u),t.o=/ *go\d+/.test(d),u.className=Ad.apply(t,r)+(d?" "+d:"");let p=n;return n[0]&&(p=u.as||n,delete u.as),dg&&p[0]&&dg(u),c1(p,u)}return i}}var rR=n=>typeof n=="function",Qh=(n,e)=>rR(n)?n(e):n,iR=(()=>{let n=0;return()=>(++n).toString()})(),u1=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),sR=20,h1=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,sR)};case 1:return{...n,toasts:n.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:t}=e;return h1(n,{type:n.toasts.find(o=>o.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let i=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Ah=[],Ws={toasts:[],pausedAt:void 0},lo=n=>{Ws=h1(Ws,n),Ah.forEach(e=>{e(Ws)})},oR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},aR=(n={})=>{let[e,t]=oe.useState(Ws),r=oe.useRef(Ws);oe.useEffect(()=>(r.current!==Ws&&t(Ws),Ah.push(t),()=>{let o=Ah.indexOf(t);o>-1&&Ah.splice(o,1)}),[]);let i=e.toasts.map(o=>{var l,u,d;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((l=n[o.type])==null?void 0:l.removeDelay)||(n==null?void 0:n.removeDelay),duration:o.duration||((u=n[o.type])==null?void 0:u.duration)||(n==null?void 0:n.duration)||oR[o.type],style:{...n.style,...(d=n[o.type])==null?void 0:d.style,...o.style}}});return{...e,toasts:i}},lR=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||iR()}),kc=n=>(e,t)=>{let r=lR(e,n,t);return lo({type:2,toast:r}),r.id},sn=(n,e)=>kc("blank")(n,e);sn.error=kc("error");sn.success=kc("success");sn.loading=kc("loading");sn.custom=kc("custom");sn.dismiss=n=>{lo({type:3,toastId:n})};sn.remove=n=>lo({type:4,toastId:n});sn.promise=(n,e,t)=>{let r=sn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let o=e.success?Qh(e.success,i):void 0;return o?sn.success(o,{id:r,...t,...t==null?void 0:t.success}):sn.dismiss(r),i}).catch(i=>{let o=e.error?Qh(e.error,i):void 0;o?sn.error(o,{id:r,...t,...t==null?void 0:t.error}):sn.dismiss(r)}),n};var cR=(n,e)=>{lo({type:1,toast:{id:n,height:e}})},uR=()=>{lo({type:5,time:Date.now()})},Jl=new Map,hR=1e3,dR=(n,e=hR)=>{if(Jl.has(n))return;let t=setTimeout(()=>{Jl.delete(n),lo({type:4,toastId:n})},e);Jl.set(n,t)},fR=n=>{let{toasts:e,pausedAt:t}=aR(n);oe.useEffect(()=>{if(t)return;let o=Date.now(),l=e.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(o-u.createdAt);if(d<0){u.visible&&sn.dismiss(u.id);return}return setTimeout(()=>sn.dismiss(u.id),d)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[e,t]);let r=oe.useCallback(()=>{t&&lo({type:6,time:Date.now()})},[t]),i=oe.useCallback((o,l)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:p}=l||{},m=e.filter(b=>(b.position||p)===(o.position||p)&&b.height),v=m.findIndex(b=>b.id===o.id),x=m.filter((b,P)=>P<v&&b.visible).length;return m.filter(b=>b.visible).slice(...u?[x+1]:[0,x]).reduce((b,P)=>b+(P.height||0)+d,0)},[e]);return oe.useEffect(()=>{e.forEach(o=>{if(o.dismissed)dR(o.id,o.removeDelay);else{let l=Jl.get(o.id);l&&(clearTimeout(l),Jl.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:cR,startPause:uR,endPause:r,calculateOffset:i}}},pR=li`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gR=li`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mR=li`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yR=us("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${mR} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_R=li`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vR=us("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${_R} 1s linear infinite;
`,wR=li`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xR=li`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ER=us("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,TR=us("div")`
  position: absolute;
`,bR=us("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,IR=li`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,SR=us("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${IR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,AR=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?oe.createElement(SR,null,e):e:t==="blank"?null:oe.createElement(bR,null,oe.createElement(vR,{...r}),t!=="loading"&&oe.createElement(TR,null,t==="error"?oe.createElement(yR,{...r}):oe.createElement(ER,{...r})))},CR=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,PR=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,kR="0%{opacity:0;} 100%{opacity:1;}",RR="0%{opacity:1;} 100%{opacity:0;}",NR=us("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DR=us("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MR=(n,e)=>{let t=n.includes("top")?1:-1,[r,i]=u1()?[kR,RR]:[CR(t),PR(t)];return{animation:e?`${li(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${li(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},OR=oe.memo(({toast:n,position:e,style:t,children:r})=>{let i=n.height?MR(n.position||e||"top-center",n.visible):{opacity:0},o=oe.createElement(AR,{toast:n}),l=oe.createElement(DR,{...n.ariaProps},Qh(n.message,n));return oe.createElement(NR,{className:n.className,style:{...i,...t,...n.style}},typeof r=="function"?r({icon:o,message:l}):oe.createElement(oe.Fragment,null,o,l))});nR(oe.createElement);var LR=({id:n,className:e,style:t,onHeightUpdate:r,children:i})=>{let o=oe.useCallback(l=>{if(l){let u=()=>{let d=l.getBoundingClientRect().height;r(n,d)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return oe.createElement("div",{ref:o,className:e,style:t},i)},VR=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:u1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...i}},jR=Ad`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,rh=16,FR=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=fR(t);return oe.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:rh,left:rh,right:rh,bottom:rh,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(p=>{let m=p.position||e,v=d.calculateOffset(p,{reverseOrder:n,gutter:r,defaultPosition:e}),x=VR(m,v);return oe.createElement(LR,{id:p.id,key:p.id,onHeightUpdate:d.updateHeight,className:p.visible?jR:"",style:x},p.type==="custom"?Qh(p.message,p):i?i(p):oe.createElement(OR,{toast:p,position:m}))}))},mn=sn;function zR(){const[n,e]=oe.useState(!0),[t,r]=oe.useState({email:"",password:"",confirmPassword:""}),[i,o]=oe.useState(!1),[l,u]=oe.useState(!1),{login:d,register:p}=mm(),m=async v=>{if(v.preventDefault(),!n&&t.password!==t.confirmPassword){mn.error("Las contraseñas no coinciden");return}u(!0);try{n?(await d(t.email,t.password),mn.success("Sesión iniciada exitosamente")):(await p(t.email,t.password),mn.success("Usuario registrado exitosamente"))}catch(x){const b=x.code==="auth/user-not-found"?"Usuario no encontrado":x.code==="auth/wrong-password"?"Contraseña incorrecta":x.code==="auth/email-already-in-use"?"El email ya está en uso":x.code==="auth/weak-password"?"La contraseña debe tener al menos 6 caracteres":x.code==="auth/invalid-email"?"Email inválido":"Error en la autenticación";mn.error(b)}finally{u(!1)}};return w.jsxs("div",{className:"min-h-screen flex",children:[w.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-700 p-12 flex-col justify-center items-center text-white",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"mb-8",children:w.jsx(cg,{className:"h-24 w-24 mx-auto mb-6"})}),w.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Defensoría Civil y Comercial N° 6"}),w.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Sistema de Gestión de Causas Legales"}),w.jsxs("div",{className:"bg-blue-800/30 rounded-lg p-6 backdrop-blur-sm",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Características del Sistema"}),w.jsxs("ul",{className:"text-blue-100 space-y-2",children:[w.jsx("li",{children:"• Gestión completa de expedientes"}),w.jsx("li",{children:"• Seguimiento de audiencias y vencimientos"}),w.jsx("li",{children:"• Reportes y estadísticas detalladas"}),w.jsx("li",{children:"• Interfaz profesional y moderna"})]})]})]})}),w.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-gray-50",children:w.jsxs("div",{className:"w-full max-w-md",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx(cg,{className:"h-12 w-12 mx-auto mb-4 text-blue-700 lg:hidden"}),w.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:n?"Iniciar Sesión":"Registrarse"}),w.jsx("p",{className:"text-gray-600 mt-2",children:n?"Accede a tu cuenta para continuar":"Crea una nueva cuenta"})]}),w.jsxs("form",{onSubmit:m,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrónico"}),w.jsxs("div",{className:"relative",children:[w.jsx(U2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),w.jsx("input",{id:"email",type:"email",required:!0,value:t.email,onChange:v=>r(x=>({...x,email:v.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"tu@email.com"})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),w.jsxs("div",{className:"relative",children:[w.jsx(bv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),w.jsx("input",{id:"password",type:i?"text":"password",required:!0,value:t.password,onChange:v=>r(x=>({...x,password:v.target.value})),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"••••••••"}),w.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 hover:text-gray-600",children:i?w.jsx(j2,{}):w.jsx(s1,{})})]})]}),!n&&w.jsxs("div",{children:[w.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contraseña"}),w.jsxs("div",{className:"relative",children:[w.jsx(bv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),w.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:t.confirmPassword,onChange:v=>r(x=>({...x,confirmPassword:v.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"••••••••"})]})]}),w.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-700 text-white py-3 px-4 rounded-lg hover:bg-blue-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Procesando...":n?"Iniciar Sesión":"Registrarse"})]}),w.jsx("div",{className:"mt-6 text-center",children:w.jsxs("p",{className:"text-gray-600",children:[n?"¿No tienes una cuenta?":"¿Ya tienes una cuenta?",w.jsx("button",{onClick:()=>e(!n),className:"ml-2 text-blue-700 hover:text-blue-800 font-medium",children:n?"Regístrate":"Inicia Sesión"})]})})]})})]})}function Cd(){const[n,e]=oe.useState([]),[t,r]=oe.useState(!0);return oe.useEffect(()=>{const u=x2(yv(th,"causas"),E2("fechaCreacion","desc")),d=P2(u,p=>{const m=[];p.forEach(v=>{m.push({id:v.id,...v.data()})}),e(m),r(!1)},p=>{console.error("Error al cargar causas:",p),mn.error("Error al cargar las causas"),r(!1)});return()=>d()},[]),{causas:n,loading:t,addCausa:async u=>{try{const d={...u,fechaCreacion:new Date,fechaModificacion:new Date};await C2(yv(th,"causas"),d),mn.success("Causa guardada exitosamente")}catch(d){throw console.error("Error al guardar causa:",d),mn.error("Error al guardar la causa"),d}},updateCausa:async(u,d)=>{try{const p={...d,fechaModificacion:new Date};await S2(ag(th,"causas",u),p),mn.success("Causa actualizada exitosamente")}catch(p){throw console.error("Error al actualizar causa:",p),mn.error("Error al actualizar la causa"),p}},deleteCausa:async u=>{try{await A2(ag(th,"causas",u)),mn.success("Causa eliminada exitosamente")}catch(d){throw console.error("Error al eliminar causa:",d),mn.error("Error al eliminar la causa"),d}}}}const bp={Administrativo:["CEJUME - Posadas","DEUT Defensorias - Posadas","Legajo Defensoria Civil y Comercial N° 6"],Civil:["Juzgado Civil y Comercial N° 1 - Posadas","Juzgado Civil y Comercial N° 2 - Posadas","Juzgado Civil y Comercial N° 3 - Posadas","Juzgado Civil y Comercial N° 4 - Posadas","Juzgado Civil y Comercial N° 5 - Posadas","Juzgado Civil y Comercial N° 6 - Posadas","Juzgado Civil y Comercial N° 7 - Posadas","Juzgado Civil y Comercial N° 8 - Posadas","Juzgado 1 Inst Civil Comercial Laboral Familia y Violencia Fliar- Apostoles"],Penal:["Juzgado de Instrucción N° 1 - Posadas","Juzgado de Instrucción N° 2 - Posadas","Juzgado de Instrucción N° 3 - Posadas","Juzgado de Instrucción N° 6 - Posadas","Juzgado de Instrucción N° 7 - Posadas","Tribunal Penal N° 1 - Posadas","Tribunal Penal N° 2 - Posadas","Juzgado Correccional y de Menores N° 1 - Posadas","Juzgado Correccional y de Menores N° 2 - Posadas"],Laboral:["Juzgado Laboral N° 1 - Posadas","Juzgado Laboral N° 2 - Posadas","Juzgado Laboral N° 3 - Posadas","Juzgado Laboral N° 4 - Posadas"],Familia:["Juzgado de Familia N° 1 - Posadas","Juzgado de Familia N° 2 - Posadas","Juzgado de Familia N° 3 - Posadas","Juzgado de Familia y Violencia Familiar de Garupá","Juzgado 1 Inst Civil Comercial Laboral Familia y Violencia Fliar- Apostoles"],"Violencia Familiar":["Juzgado de Violencia Familiar N° 1 - Posadas","Juzgado de Violencia Familiar N° 2 - Posadas","Juzgado de Familia y Violencia Familiar de Garupá","Juzgado 1 Inst Civil Comercial Laboral Familia y Violencia Fliar- Apostoles"],Paz:["Juzgado de Paz Civil Comercial N° 1 - Posadas","Juzgado de Paz Civil Comercial N° 2 - Posadas","Juzgado de Paz Villa Cabello - Posadas","Juzgado de Paz Itaembe Mini - Posadas","Juzgado de Paz Itaembe Guazu- Posadas","Juzgado de Paz - Garupá","Juzgado de Paz - Garupá Fátima","Juzgado de Paz - Profundidad","Juzgado de Paz - Apóstoles","Juzgado de Paz - Azara","Juzgado de Paz - Candelaria","Juzgado de Paz - Fachinal","Juzgado de Paz - Bonpland","Juzgado de Paz - Cerro Cora","Juzgado de Paz - Martires","Juzgado de Paz - Concepción de la Sierra","Juzgado de Paz - Colonia Polana","Juzgado de Paz - Hipolito Yrigoyen","Juzgado de Paz - San Jose","Juzgado de Paz - Loreto","Juzgado de Paz - Santa Ana","Juzgado de Paz - San Ignacio","Juzgado de Paz - Corpus","Juzgado de Paz - Santo Pipó","Juzgado de Paz - San Jose","Juzgado de Paz - San María","Juzgado de Paz - Tres Capones"]},Ip=["Bazante Nadia Romina","Cardozo Maria Raquel","Cedron Noelia Aurora","Corrales Alicia Mariela","Escobar Monica Graciela","Fioravante Romulo","Gonzalez Alberto Misael","Gonzalez Juan Jose","Gudiño Natalia Esther","Magnani Enzo Luciano","Pablos Patricia","Palacios Ana Gabriela","Ramos Marcelo Gustavo","Riveros Patricia Soledad","Sosa Rita Cecilia"],UR=["Administrativo","Civil","Penal","Laboral","Familia","Violencia Familiar","Paz"],BR=["Ministerio Complementario","Ministerio Principal","Patrocinante Actor","Patrocinante Demandado","Patrocinante Tercero","Defensor de Ausente","Defensor Oficial Asesor Letrado"],$R=["Alta","Media","Baja","Ninguna"],HR=["Finalizado","En trámite","Archivado","En Alzada"],WR=["Apelación","Queja","Inconstitucionalidad","Nulidad","Reposición","Aclaratoria","Recurso Extraordinario","Recurso de Hecho","Recurso de Inaplicabilidad"],qR=["Cámara de Apelaciones en lo Civil, Comercial,de Familia y Fiscal Tributaria- Sala I- Posadas","Cámara de Apelaciones en lo Civil, Comercial,de Familia y Fiscal Tributaria- Sala II- Posadas","Cámara de Apelaciones en lo Civil, Comercial,de Familia y Fiscal Tributaria- Sala III- Posadas","Cámara de Apelaciones en lo Civil, Comercial,de Familia y Fiscal Tributaria- Sala IV- Posadas","Cámara de Apelaciones en lo Civil, Comercial,de Familia y Fiscal Tributaria- Sala V- Posadas","Cámara de Apelaciones en lo Laboral-Sala I- Posadas","Cámara de Apelaciones en lo Laboral-Sala II- Posadas","Cámara de Apelaciones en lo Penal y de Menores-Sal I- Posadas","Cámara de Apelaciones en lo Penal y de Menores-Sal II- Posadas","Superior Tribunal de Justicia","Superior Tribunal de Justicia -Secretaria Judicial"],d1=["Medidas Autosatisfactivas","Prohibición de Acercamiento","Restricción Perimetral","Asistencia Económica","Tenencia Precautoria","Régimen de Visitas","Alimentos Provisionales","Asistencia Psicológica","Asistencia Médica","Protección Patrimonial","Curatela","Tutela","Guarda"],KR=["Ministerio de Desarrollo Social","Ministerio de Salud Misiones","Secretaría de Niñez, Adolescencia y Familia","Centro provincial de prevención y asistencia integral para el control de las adicciones","Hospital Escuela de Salud Mental","Centro de Atención Primaria de la Salud (CAPS)","Defensoría de Niñas, Niños y Adolescentes","Programa Provincial de Asistencia Integral","Servicio Local de Protección de Derechos","Secretaria de Adulto Mayor","ANSeS","PAMI","Programa ProHuerta","IPRODHA Vivienda","Municipalidad de Posadas"];function Cv(){var b,P;const{addCausa:n}=Cd(),[e,t]=oe.useState(!1),[r,i]=oe.useState(0),[o,l]=oe.useState({numCausa:"",caratula:"",tipoProceso:"Administrativo",juzgado:"",fechaInicio:"",fechaPase:"",intervencion:"Ministerio Complementario",audiencias:"",vencimiento:"",usuarioAsignado:Ip[0],prioridad:"Alta",estado:"En trámite",recursos:"",radicadoAlzada:"",proteccionPersona:[],organismos:[],observaciones:""});oe.useEffect(()=>{const A=bp[o.tipoProceso]||[];A.length>0&&l(I=>({...I,juzgado:A[0]}))},[o.tipoProceso]),oe.useEffect(()=>{var I;const A=((I=o.observaciones)==null?void 0:I.trim().split(/\s+/).filter(F=>F))||[];if(i(A.length),A.length>1e3){const F=A.slice(0,1e3).join(" ");l(H=>({...H,observaciones:F}))}},[o.observaciones]);const u=A=>{const{name:I,value:F}=A.target;l(H=>({...H,[I]:F}))},d=(A,I)=>{const F=Array.from(A.target.selectedOptions,H=>H.value);l(H=>({...H,[I]:F}))},p=async A=>{if(A.preventDefault(),!o.numCausa.trim()||!o.caratula.trim()){mn.error("Por favor complete los campos obligatorios");return}t(!0);try{await n(o),m()}catch(I){console.error("Error al guardar:",I)}finally{t(!1)}},m=()=>{l({numCausa:"",caratula:"",tipoProceso:"Administrativo",juzgado:bp.Administrativo[0],fechaInicio:"",fechaPase:"",intervencion:"Ministerio Complementario",audiencias:"",vencimiento:"",usuarioAsignado:Ip[0],prioridad:"Alta",estado:"En trámite",recursos:"",radicadoAlzada:"",proteccionPersona:[],organismos:[],observaciones:""}),i(0)},v=()=>{window.print()},x=bp[o.tipoProceso]||[];return w.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[w.jsx("div",{className:"p-6 border-b border-gray-200",children:w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nuevo Expediente"})}),w.jsxs("form",{onSubmit:p,className:"p-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{htmlFor:"numCausa",className:"block text-sm font-medium text-gray-700",children:["N° Expediente ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx("input",{type:"text",id:"numCausa",name:"numCausa",required:!0,value:o.numCausa,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoComplete:"off"})]}),w.jsxs("div",{className:"space-y-2 md:col-span-2",children:[w.jsxs("label",{htmlFor:"caratula",className:"block text-sm font-medium text-gray-700",children:["Carátula Completa ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx("textarea",{id:"caratula",name:"caratula",required:!0,value:o.caratula,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{htmlFor:"tipoProceso",className:"block text-sm font-medium text-gray-700",children:["Tipo de Proceso ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx("select",{id:"tipoProceso",name:"tipoProceso",required:!0,value:o.tipoProceso,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:UR.map(A=>w.jsx("option",{value:A,children:A},A))})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{htmlFor:"juzgado",className:"block text-sm font-medium text-gray-700",children:["Juzgado ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx("select",{id:"juzgado",name:"juzgado",required:!0,value:o.juzgado,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:x.map(A=>w.jsx("option",{value:A,children:A},A))})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"fechaInicio",className:"block text-sm font-medium text-gray-700",children:"Fecha de Inicio"}),w.jsx("input",{type:"date",id:"fechaInicio",name:"fechaInicio",value:o.fechaInicio,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"fechaPase",className:"block text-sm font-medium text-gray-700",children:"Fecha de Pase"}),w.jsx("input",{type:"datetime-local",id:"fechaPase",name:"fechaPase",value:o.fechaPase,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"intervencion",className:"block text-sm font-medium text-gray-700",children:"Intervención"}),w.jsx("select",{id:"intervencion",name:"intervencion",value:o.intervencion,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:BR.map(A=>w.jsx("option",{value:A,children:A},A))})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"audiencias",className:"block text-sm font-medium text-gray-700",children:"Audiencias señaladas"}),w.jsx("input",{type:"datetime-local",id:"audiencias",name:"audiencias",value:o.audiencias,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"vencimiento",className:"block text-sm font-medium text-gray-700",children:"Vencimiento"}),w.jsx("input",{type:"datetime-local",id:"vencimiento",name:"vencimiento",value:o.vencimiento,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"usuarioAsignado",className:"block text-sm font-medium text-gray-700",children:"Usuario Asignado"}),w.jsx("select",{id:"usuarioAsignado",name:"usuarioAsignado",value:o.usuarioAsignado,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Ip.map(A=>w.jsx("option",{value:A,children:A},A))})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"prioridad",className:"block text-sm font-medium text-gray-700",children:"Prioridad de Trabajo"}),w.jsx("select",{id:"prioridad",name:"prioridad",value:o.prioridad,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:$R.map(A=>w.jsx("option",{value:A,children:A},A))})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"estado",className:"block text-sm font-medium text-gray-700",children:"Estado"}),w.jsx("select",{id:"estado",name:"estado",value:o.estado,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:HR.map(A=>w.jsx("option",{value:A,children:A},A))})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"recursos",className:"block text-sm font-medium text-gray-700",children:"Recursos Interpuestos"}),w.jsxs("select",{id:"recursos",name:"recursos",value:o.recursos,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[w.jsx("option",{value:"",children:"Seleccione un recurso"}),WR.map(A=>w.jsx("option",{value:A,children:A},A))]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"radicadoAlzada",className:"block text-sm font-medium text-gray-700",children:"Radicado en Alzada"}),w.jsxs("select",{id:"radicadoAlzada",name:"radicadoAlzada",value:o.radicadoAlzada,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[w.jsx("option",{value:"",children:"No aplica"}),qR.map(A=>w.jsx("option",{value:A,children:A},A))]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"proteccionPersona",className:"block text-sm font-medium text-gray-700",children:"Medidas de Protección de Persona (Selección múltiple)"}),w.jsx("select",{id:"proteccionPersona",name:"proteccionPersona",multiple:!0,size:4,value:o.proteccionPersona,onChange:A=>d(A,"proteccionPersona"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:d1.map(A=>w.jsx("option",{value:A,children:A},A))}),w.jsxs("div",{className:"text-sm text-blue-600",children:["Seleccionadas: ",((b=o.proteccionPersona)==null?void 0:b.join(", "))||"Ninguna"]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"organismos",className:"block text-sm font-medium text-gray-700",children:"Organismos Intervinientes (Selección múltiple)"}),w.jsx("select",{id:"organismos",name:"organismos",multiple:!0,size:4,value:o.organismos,onChange:A=>d(A,"organismos"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:KR.map(A=>w.jsx("option",{value:A,children:A},A))}),w.jsxs("div",{className:"text-sm text-blue-600",children:["Seleccionados: ",((P=o.organismos)==null?void 0:P.join(", "))||"Ninguno"]})]}),w.jsxs("div",{className:"space-y-2 md:col-span-3",children:[w.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones (máx. 1000 palabras)"}),w.jsx("textarea",{id:"observaciones",name:"observaciones",value:o.observaciones,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical"}),w.jsxs("div",{className:"text-sm text-gray-500 text-right",children:[r,"/1000 palabras"]})]})]}),w.jsxs("div",{className:"flex flex-wrap gap-4 mt-8 pt-6 border-t border-gray-200",children:[w.jsxs("button",{type:"submit",disabled:e,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[w.jsx(H2,{className:"h-5 w-5 mr-2"}),e?"Guardando...":"Guardar"]}),w.jsxs("button",{type:"button",onClick:m,className:"flex items-center px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition-colors",children:[w.jsx($2,{className:"h-5 w-5 mr-2"}),"Cancelar"]}),w.jsxs("button",{type:"button",onClick:v,className:"flex items-center px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:[w.jsx(Sd,{className:"h-5 w-5 mr-2"}),"Imprimir"]})]})]})]})}function GR(){const{causas:n,loading:e,deleteCausa:t}=Cd(),[r,i]=oe.useState(""),[o,l]=oe.useState(""),[u,d]=oe.useState(""),[p,m]=oe.useState(""),[v,x]=oe.useState(null),[b,P]=oe.useState(!1),A=oe.useMemo(()=>n.filter(C=>{const L=!r||C.numCausa.toLowerCase().includes(r.toLowerCase())||C.caratula.toLowerCase().includes(r.toLowerCase())||C.juzgado.toLowerCase().includes(r.toLowerCase()),R=!o||C.tipoProceso===o,ke=!u||C.estado===u,we=!p||C.usuarioAsignado===p;return L&&R&&ke&&we}),[n,r,o,u,p]),I=[...new Set(n.map(C=>C.tipoProceso))].sort(),F=[...new Set(n.map(C=>C.estado).filter(Boolean))].sort(),H=[...new Set(n.map(C=>C.usuarioAsignado).filter(Boolean))].sort(),K=async C=>{if(window.confirm("¿Está seguro de que desea eliminar esta causa?"))try{await t(C)}catch(L){console.error("Error al eliminar:",L)}},X=()=>{window.print()},se=C=>{if(!C)return"-";try{return new Date(C).toLocaleDateString("es-ES")}catch{return"-"}},ie=C=>{if(!C)return"-";try{return new Date(C).toLocaleString("es-ES")}catch{return"-"}},O=C=>{switch(C){case"Alta":return"bg-red-100 text-red-800";case"Media":return"bg-yellow-100 text-yellow-800";case"Baja":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},k=C=>{switch(C){case"Finalizado":return"bg-green-100 text-green-800";case"En trámite":return"bg-blue-100 text-blue-800";case"Archivado":return"bg-gray-100 text-gray-800";case"En Alzada":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},N=({text:C,maxLength:L=50,className:R=""})=>{if(!C)return w.jsx("span",{className:R,children:"-"});const ke=C.length>L?`${C.substring(0,L)}...`:C;return w.jsx("span",{className:`${R} ${C.length>L?"cursor-help":""}`,title:C.length>L?C:"",children:ke})},M=({items:C,maxItems:L=2})=>{if(!C||C.length===0)return w.jsx("span",{children:"-"});const R=C.slice(0,L),ke=C.length-L;return w.jsxs("div",{className:"space-y-1",children:[R.map((we,Pe)=>w.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded mr-1 mb-1",children:we.length>15?`${we.substring(0,15)}...`:we},Pe)),ke>0&&w.jsxs("span",{className:"inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded",title:C.slice(L).join(", "),children:["+",ke," más"]})]})};return e?w.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8",children:w.jsxs("div",{className:"flex items-center justify-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),w.jsx("span",{className:"ml-2",children:"Cargando causas..."})]})}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[w.jsx("div",{className:"p-4 lg:p-6 border-b border-gray-200",children:w.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"Listado de Causas"}),w.jsxs("p",{className:"text-gray-600 mt-1",children:[A.length," de ",n.length," causas"]})]}),w.jsxs("button",{onClick:X,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors no-print",children:[w.jsx(Sd,{className:"h-4 w-4 mr-2"}),"Imprimir"]})]})}),w.jsxs("div",{className:"p-4 lg:p-6 border-b border-gray-200 bg-gray-50 no-print",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[w.jsx("div",{className:"lg:col-span-2",children:w.jsxs("div",{className:"relative",children:[w.jsx(a1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),w.jsx("input",{type:"text",placeholder:"Buscar por N° expediente, carátula o juzgado...",value:r,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),w.jsx("div",{children:w.jsxs("select",{value:o,onChange:C=>l(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[w.jsx("option",{value:"",children:"Todos los tipos"}),I.map(C=>w.jsx("option",{value:C,children:C},C))]})}),w.jsx("div",{children:w.jsxs("select",{value:u,onChange:C=>d(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[w.jsx("option",{value:"",children:"Todos los estados"}),F.map(C=>w.jsx("option",{value:C,children:C},C))]})}),w.jsx("div",{children:w.jsxs("select",{value:p,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[w.jsx("option",{value:"",children:"Todos los usuarios"}),H.map(C=>w.jsx("option",{value:C,children:C},C))]})})]}),(r||o||u||p)&&w.jsx("div",{className:"mt-4",children:w.jsx("button",{onClick:()=>{i(""),l(""),d(""),m("")},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Limpiar filtros"})})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsx("div",{className:"min-w-max",children:w.jsxs("table",{className:"w-full border-collapse",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[120px]",children:"N° Expediente"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[200px]",children:"Carátula"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[120px]",children:"Tipo Proceso"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[180px]",children:"Juzgado"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[100px]",children:"Fecha Inicio"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[120px]",children:"Fecha Pase"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[140px]",children:"Intervención"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[120px]",children:"Audiencias"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[120px]",children:"Vencimiento"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[140px]",children:"Usuario Asignado"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[80px]",children:"Prioridad"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[100px]",children:"Estado"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[120px]",children:"Recursos"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[150px]",children:"Radicado Alzada"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[180px]",children:"Protección Persona"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[180px]",children:"Organismos"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200 min-w-[200px]",children:"Observaciones"}),w.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[80px] no-print",children:"Acciones"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.length===0?w.jsx("tr",{children:w.jsxs("td",{colSpan:18,className:"px-6 py-8 text-center text-gray-500",children:[w.jsx(o1,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.length===0?"No hay causas registradas":"No se encontraron causas con los filtros aplicados"]})}):A.map(C=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200",children:w.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.numCausa})}),w.jsx("td",{className:"px-3 py-4 border-r border-gray-200",children:w.jsx(N,{text:C.caratula,maxLength:60,className:"text-sm text-gray-900"})}),w.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200",children:w.jsx("div",{className:"text-sm text-gray-900",children:C.tipoProceso})}),w.jsx("td",{className:"px-3 py-4 border-r border-gray-200",children:w.jsx(N,{text:C.juzgado,maxLength:40,className:"text-sm text-gray-900"})}),w.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200",children:w.jsx("div",{className:"text-sm text-gray-500",children:se(C.fechaInicio)})}),w.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200",children:w.jsx("div",{className:"text-sm text-gray-500",children:ie(C.fechaPase)})}),w.jsx("td",{className:"px-3 py-4 border-r border-gray-200",children:w.jsx(N,{text:C.intervencion,maxLength:25,className:"text-sm text-gray-900"})}),w.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200",children:w.jsx("div",{className:"text-sm text-gray-500",children:ie(C.audiencias)})}),w.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200",children:w.jsx("div",{className:"text-sm text-gray-500",children:ie(C.vencimiento)})}),w.jsx("td",{className:"px-3 py-4 border-r border-gray-200",children:w.jsx(N,{text:C.usuarioAsignado,maxLength:20,className:"text-sm text-gray-900"})}),w.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200",children:w.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${O(C.prioridad)}`,children:C.prioridad||"-"})}),w.jsx("td",{className:"px-3 py-4 whitespace-nowrap border-r border-gray-200",children:w.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k(C.estado)}`,children:C.estado||"-"})}),w.jsx("td",{className:"px-3 py-4 border-r border-gray-200",children:w.jsx(N,{text:C.recursos,maxLength:20,className:"text-sm text-gray-900"})}),w.jsx("td",{className:"px-3 py-4 border-r border-gray-200",children:w.jsx(N,{text:C.radicadoAlzada,maxLength:30,className:"text-sm text-gray-900"})}),w.jsx("td",{className:"px-3 py-4 border-r border-gray-200",children:w.jsx(M,{items:C.proteccionPersona,maxItems:2})}),w.jsx("td",{className:"px-3 py-4 border-r border-gray-200",children:w.jsx(M,{items:C.organismos,maxItems:2})}),w.jsx("td",{className:"px-3 py-4 border-r border-gray-200",children:w.jsx(N,{text:C.observaciones,maxLength:50,className:"text-sm text-gray-500"})}),w.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-medium no-print",children:w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{onClick:()=>{x(C),P(!0)},className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Ver detalles",children:w.jsx(s1,{className:"h-4 w-4"})}),w.jsx("button",{onClick:()=>K(C.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Eliminar",children:w.jsx(q2,{className:"h-4 w-4"})})]})})]},C.id))})]})})})]}),b&&v&&w.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto no-print",children:w.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[w.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:w.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:()=>P(!1)})}),w.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:w.jsxs("div",{className:"bg-white px-6 pt-6 pb-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Detalles de la Causa"}),w.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Información General"}),w.jsxs("div",{className:"space-y-2 text-sm",children:[w.jsxs("div",{children:[w.jsx("strong",{children:"N° Expediente:"})," ",v.numCausa]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Carátula:"})," ",v.caratula]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Tipo de Proceso:"})," ",v.tipoProceso]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Juzgado:"})," ",v.juzgado]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Estado:"})," ",v.estado||"-"]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Prioridad:"})," ",v.prioridad||"-"]})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Fechas y Asignación"}),w.jsxs("div",{className:"space-y-2 text-sm",children:[w.jsxs("div",{children:[w.jsx("strong",{children:"Fecha de Inicio:"})," ",se(v.fechaInicio)]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Fecha de Pase:"})," ",ie(v.fechaPase)]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Audiencias:"})," ",ie(v.audiencias)]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Vencimiento:"})," ",ie(v.vencimiento)]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Usuario Asignado:"})," ",v.usuarioAsignado||"-"]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Intervención:"})," ",v.intervencion||"-"]})]})]}),v.proteccionPersona&&v.proteccionPersona.length>0&&w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Medidas de Protección"}),w.jsx("div",{className:"text-sm text-gray-700",children:v.proteccionPersona.join(", ")})]}),v.organismos&&v.organismos.length>0&&w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Organismos Intervinientes"}),w.jsx("div",{className:"text-sm text-gray-700",children:v.organismos.join(", ")})]}),v.observaciones&&w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Observaciones"}),w.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded",children:v.observaciones})]})]})]})})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Rc(n){return n+.5|0}const Hi=(n,e,t)=>Math.max(Math.min(n,t),e);function zl(n){return Hi(Rc(n*2.55),0,255)}function Ji(n){return Hi(Rc(n*255),0,255)}function ei(n){return Hi(Rc(n/2.55)/100,0,1)}function Pv(n){return Hi(Rc(n*100),0,100)}const Fn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fg=[..."0123456789ABCDEF"],QR=n=>fg[n&15],YR=n=>fg[(n&240)>>4]+fg[n&15],ih=n=>(n&240)>>4===(n&15),XR=n=>ih(n.r)&&ih(n.g)&&ih(n.b)&&ih(n.a);function JR(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Fn[n[1]]*17,g:255&Fn[n[2]]*17,b:255&Fn[n[3]]*17,a:e===5?Fn[n[4]]*17:255}:(e===7||e===9)&&(t={r:Fn[n[1]]<<4|Fn[n[2]],g:Fn[n[3]]<<4|Fn[n[4]],b:Fn[n[5]]<<4|Fn[n[6]],a:e===9?Fn[n[7]]<<4|Fn[n[8]]:255})),t}const ZR=(n,e)=>n<255?e(n):"";function eN(n){var e=XR(n)?QR:YR;return n?"#"+e(n.r)+e(n.g)+e(n.b)+ZR(n.a,e):void 0}const tN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function f1(n,e,t){const r=e*Math.min(t,1-t),i=(o,l=(o+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function nN(n,e,t){const r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function rN(n,e,t){const r=f1(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function iN(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function ym(n){const t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),l=Math.min(t,r,i),u=(o+l)/2;let d,p,m;return o!==l&&(m=o-l,p=u>.5?m/(2-o-l):m/(o+l),d=iN(t,r,i,m,o),d=d*60+.5),[d|0,p||0,u]}function _m(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Ji)}function vm(n,e,t){return _m(f1,n,e,t)}function sN(n,e,t){return _m(rN,n,e,t)}function oN(n,e,t){return _m(nN,n,e,t)}function p1(n){return(n%360+360)%360}function aN(n){const e=tN.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?zl(+e[5]):Ji(+e[5]));const i=p1(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=sN(i,o,l):e[1]==="hsv"?r=oN(i,o,l):r=vm(i,o,l),{r:r[0],g:r[1],b:r[2],a:t}}function lN(n,e){var t=ym(n);t[0]=p1(t[0]+e),t=vm(t),n.r=t[0],n.g=t[1],n.b=t[2]}function cN(n){if(!n)return;const e=ym(n),t=e[0],r=Pv(e[1]),i=Pv(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${ei(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const kv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Rv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uN(){const n={},e=Object.keys(Rv),t=Object.keys(kv);let r,i,o,l,u;for(r=0;r<e.length;r++){for(l=u=e[r],i=0;i<t.length;i++)o=t[i],u=u.replace(o,kv[o]);o=parseInt(Rv[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let sh;function hN(n){sh||(sh=uN(),sh.transparent=[0,0,0,0]);const e=sh[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const dN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fN(n){const e=dN.exec(n);let t=255,r,i,o;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?zl(l):Hi(l*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?zl(r):Hi(r,0,255)),i=255&(e[4]?zl(i):Hi(i,0,255)),o=255&(e[6]?zl(o):Hi(o,0,255)),{r,g:i,b:o,a:t}}}function pN(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ei(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Sp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,na=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function gN(n,e,t){const r=na(ei(n.r)),i=na(ei(n.g)),o=na(ei(n.b));return{r:Ji(Sp(r+t*(na(ei(e.r))-r))),g:Ji(Sp(i+t*(na(ei(e.g))-i))),b:Ji(Sp(o+t*(na(ei(e.b))-o))),a:n.a+t*(e.a-n.a)}}function oh(n,e,t){if(n){let r=ym(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=vm(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function g1(n,e){return n&&Object.assign(e||{},n)}function Nv(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ji(n[3]))):(e=g1(n,{r:0,g:0,b:0,a:1}),e.a=Ji(e.a)),e}function mN(n){return n.charAt(0)==="r"?fN(n):aN(n)}class pc{constructor(e){if(e instanceof pc)return e;const t=typeof e;let r;t==="object"?r=Nv(e):t==="string"&&(r=JR(e)||hN(e)||mN(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=g1(this._rgb);return e&&(e.a=ei(e.a)),e}set rgb(e){this._rgb=Nv(e)}rgbString(){return this._valid?pN(this._rgb):void 0}hexString(){return this._valid?eN(this._rgb):void 0}hslString(){return this._valid?cN(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let o;const l=t===o?.5:t,u=2*l-1,d=r.a-i.a,p=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;o=1-p,r.r=255&p*r.r+o*i.r+.5,r.g=255&p*r.g+o*i.g+.5,r.b=255&p*r.b+o*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=gN(this._rgb,e._rgb,t)),this}clone(){return new pc(this.rgb)}alpha(e){return this._rgb.a=Ji(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Rc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return oh(this._rgb,2,e),this}darken(e){return oh(this._rgb,2,-e),this}saturate(e){return oh(this._rgb,1,e),this}desaturate(e){return oh(this._rgb,1,-e),this}rotate(e){return lN(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xr(){}const yN=(()=>{let n=0;return()=>n++})();function Jt(n){return n==null}function $t(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ci(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function wr(n,e){return ci(n)?n:e}function Ge(n,e){return typeof n>"u"?e:n}const _N=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,m1=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function rt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Ke(n,e,t,r){let i,o,l;if($t(n))for(o=n.length,i=0;i<o;i++)e.call(t,n[i],i);else if(Be(n))for(l=Object.keys(n),o=l.length,i=0;i<o;i++)e.call(t,n[l[i]],l[i])}function Yh(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Xh(n){if($t(n))return n.map(Xh);if(Be(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Xh(n[t[i]]);return e}return n}function y1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function vN(n,e,t,r){if(!y1(n))return;const i=e[n],o=t[n];Be(i)&&Be(o)?gc(i,o,r):e[n]=Xh(o)}function gc(n,e,t){const r=$t(e)?e:[e],i=r.length;if(!Be(n))return n;t=t||{};const o=t.merger||vN;let l;for(let u=0;u<i;++u){if(l=r[u],!Be(l))continue;const d=Object.keys(l);for(let p=0,m=d.length;p<m;++p)o(d[p],n,l,t)}return n}function Zl(n,e){return gc(n,e,{merger:wN})}function wN(n,e,t){if(!y1(n))return;const r=e[n],i=t[n];Be(r)&&Be(i)?Zl(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Xh(i))}const Dv={"":n=>n,x:n=>n.x,y:n=>n.y};function xN(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function EN(n){const e=xN(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function mc(n,e){return(Dv[e]||(Dv[e]=EN(e)))(n)}function wm(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Jh=n=>typeof n<"u",ss=n=>typeof n=="function",Mv=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function TN(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const st=Math.PI,Et=2*st,Zh=Number.POSITIVE_INFINITY,bN=st/180,Ct=st/2,Fs=st/4,Ov=st*2/3,Lv=Math.sign;function IN(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function SN(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ed(n){return!SN(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function qs(n){return n*(st/180)}function AN(n){return n*(180/st)}function _1(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let o=Math.atan2(r,t);return o<-.5*st&&(o+=Et),{angle:o,distance:i}}function CN(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function br(n){return(n%Et+Et)%Et}function td(n,e,t,r){const i=br(n),o=br(e),l=br(t),u=br(o-i),d=br(l-i),p=br(i-o),m=br(i-l);return i===o||i===l||r&&o===l||u>d&&p<m}function Bn(n,e,t){return Math.max(e,Math.min(t,n))}function PN(n){return Bn(n,-32768,32767)}function Ul(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function xm(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}const pg=(n,e,t,r)=>xm(n,t,r?i=>{const o=n[i][e];return o<t||o===t&&n[i+1][e]===t}:i=>n[i][e]<t),kN=(n,e,t)=>xm(n,t,r=>n[r][e]>=t);function RN(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const v1=["push","pop","shift","splice","unshift"];function NN(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),v1.forEach(t=>{const r="_onData"+wm(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=i.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...o)}),l}})})}function Vv(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(v1.forEach(o=>{delete n[o]}),delete n._chartjs)}function DN(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const w1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function x1(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,w1.call(window,()=>{r=!1,n.apply(e,t)}))}}function MN(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const E1=n=>n==="start"?"left":n==="end"?"right":"center",An=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,ON=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,ah=n=>n===0||n===1,jv=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Et/t)),Fv=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Et/t)+1,ec={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ct)+1,easeOutSine:n=>Math.sin(n*Ct),easeInOutSine:n=>-.5*(Math.cos(st*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ah(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ah(n)?n:jv(n,.075,.3),easeOutElastic:n=>ah(n)?n:Fv(n,.075,.3),easeInOutElastic(n){return ah(n)?n:n<.5?.5*jv(n*2,.1125,.45):.5+.5*Fv(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-ec.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ec.easeInBounce(n*2)*.5:ec.easeOutBounce(n*2-1)*.5+.5};function T1(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function zv(n){return T1(n)?n:new pc(n)}function Ap(n){return T1(n)?n:new pc(n).saturate(.5).darken(.1).hexString()}const LN=["x","y","borderWidth","radius","tension"],VN=["color","borderColor","backgroundColor"];function jN(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:VN},numbers:{type:"number",properties:LN}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function FN(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Uv=new Map;function zN(n,e){e=e||{};const t=n+JSON.stringify(e);let r=Uv.get(t);return r||(r=new Intl.NumberFormat(n,e),Uv.set(t,r)),r}function UN(n,e,t){return zN(e,t).format(n)}const BN={values(n){return $t(n)?n:""+n}};var $N={formatters:BN};function HN(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$N.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const no=Object.create(null),gg=Object.create(null);function tc(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function Cp(n,e,t){return typeof e=="string"?gc(tc(n,e),t):gc(tc(n,""),e)}class WN{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Ap(i.backgroundColor),this.hoverBorderColor=(r,i)=>Ap(i.borderColor),this.hoverColor=(r,i)=>Ap(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Cp(this,e,t)}get(e){return tc(this,e)}describe(e,t){return Cp(gg,e,t)}override(e,t){return Cp(no,e,t)}route(e,t,r,i){const o=tc(this,e),l=tc(this,r),u="_"+t;Object.defineProperties(o,{[u]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[u],p=l[i];return Be(d)?Object.assign({},p,d):Ge(d,p)},set(d){this[u]=d}}})}apply(e){e.forEach(t=>t(this))}}var gt=new WN({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[jN,FN,HN]);function qN(n){return!n||Jt(n.size)||Jt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Bv(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function zs(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function $v(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Hv(n,e,t,r){b1(n,e,t,r,null)}function b1(n,e,t,r,i){let o,l,u,d,p,m,v,x;const b=e.pointStyle,P=e.rotation,A=e.radius;let I=(P||0)*bN;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(I),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),b){default:i?n.ellipse(t,r,i/2,A,0,0,Et):n.arc(t,r,A,0,Et),n.closePath();break;case"triangle":m=i?i/2:A,n.moveTo(t+Math.sin(I)*m,r-Math.cos(I)*A),I+=Ov,n.lineTo(t+Math.sin(I)*m,r-Math.cos(I)*A),I+=Ov,n.lineTo(t+Math.sin(I)*m,r-Math.cos(I)*A),n.closePath();break;case"rectRounded":p=A*.516,d=A-p,l=Math.cos(I+Fs)*d,v=Math.cos(I+Fs)*(i?i/2-p:d),u=Math.sin(I+Fs)*d,x=Math.sin(I+Fs)*(i?i/2-p:d),n.arc(t-v,r-u,p,I-st,I-Ct),n.arc(t+x,r-l,p,I-Ct,I),n.arc(t+v,r+u,p,I,I+Ct),n.arc(t-x,r+l,p,I+Ct,I+st),n.closePath();break;case"rect":if(!P){d=Math.SQRT1_2*A,m=i?i/2:d,n.rect(t-m,r-d,2*m,2*d);break}I+=Fs;case"rectRot":v=Math.cos(I)*(i?i/2:A),l=Math.cos(I)*A,u=Math.sin(I)*A,x=Math.sin(I)*(i?i/2:A),n.moveTo(t-v,r-u),n.lineTo(t+x,r-l),n.lineTo(t+v,r+u),n.lineTo(t-x,r+l),n.closePath();break;case"crossRot":I+=Fs;case"cross":v=Math.cos(I)*(i?i/2:A),l=Math.cos(I)*A,u=Math.sin(I)*A,x=Math.sin(I)*(i?i/2:A),n.moveTo(t-v,r-u),n.lineTo(t+v,r+u),n.moveTo(t+x,r-l),n.lineTo(t-x,r+l);break;case"star":v=Math.cos(I)*(i?i/2:A),l=Math.cos(I)*A,u=Math.sin(I)*A,x=Math.sin(I)*(i?i/2:A),n.moveTo(t-v,r-u),n.lineTo(t+v,r+u),n.moveTo(t+x,r-l),n.lineTo(t-x,r+l),I+=Fs,v=Math.cos(I)*(i?i/2:A),l=Math.cos(I)*A,u=Math.sin(I)*A,x=Math.sin(I)*(i?i/2:A),n.moveTo(t-v,r-u),n.lineTo(t+v,r+u),n.moveTo(t+x,r-l),n.lineTo(t-x,r+l);break;case"line":l=i?i/2:Math.cos(I)*A,u=Math.sin(I)*A,n.moveTo(t-l,r-u),n.lineTo(t+l,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(I)*(i?i/2:A),r+Math.sin(I)*A);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function I1(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Em(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Tm(n){n.restore()}function KN(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Jt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function GN(n,e,t,r,i){if(i.strikethrough||i.underline){const o=n.measureText(r),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,d=t-o.actualBoundingBoxAscent,p=t+o.actualBoundingBoxDescent,m=i.strikethrough?(d+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,m),n.lineTo(u,m),n.stroke()}}function QN(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function nd(n,e,t,r,i,o={}){const l=$t(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let d,p;for(n.save(),n.font=i.string,KN(n,o),d=0;d<l.length;++d)p=l[d],o.backdrop&&QN(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Jt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,t,r,o.maxWidth)),n.fillText(p,t,r,o.maxWidth),GN(n,t,r,p,o),r+=Number(i.lineHeight);n.restore()}function mg(n,e){const{x:t,y:r,w:i,h:o,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*st,st,!0),n.lineTo(t,r+o-l.bottomLeft),n.arc(t+l.bottomLeft,r+o-l.bottomLeft,l.bottomLeft,st,Ct,!0),n.lineTo(t+i-l.bottomRight,r+o),n.arc(t+i-l.bottomRight,r+o-l.bottomRight,l.bottomRight,Ct,0,!0),n.lineTo(t+i,r+l.topRight),n.arc(t+i-l.topRight,r+l.topRight,l.topRight,0,-Ct,!0),n.lineTo(t+l.topLeft,r)}const YN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function JN(n,e){const t=(""+n).match(YN);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const ZN=n=>+n||0;function bm(n,e){const t={},r=Be(e),i=r?Object.keys(e):e,o=Be(n)?r?l=>Ge(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=ZN(o(l));return t}function eD(n){return bm(n,{top:"y",right:"x",bottom:"y",left:"x"})}function nc(n){return bm(n,["topLeft","topRight","bottomLeft","bottomRight"])}function lr(n){const e=eD(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vn(n,e){n=n||{},e=e||gt.font;let t=Ge(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Ge(n.style,e.style);r&&!(""+r).match(XN)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ge(n.family,e.family),lineHeight:JN(Ge(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Ge(n.weight,e.weight),string:""};return i.string=qN(i),i}function lh(n,e,t,r){let i,o,l;for(i=0,o=n.length;i<o;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function tD(n,e,t){const{min:r,max:i}=n,o=m1(e,(i-r)/2),l=(u,d)=>t&&u===0?0:u+d;return{min:l(r,-Math.abs(o)),max:l(i,o)}}function Da(n,e){return Object.assign(Object.create(n),e)}function Im(n,e=[""],t,r,i=()=>n[0]){const o=t||n;typeof r>"u"&&(r=P1("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:u=>Im([u,...n],e,o,r)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return A1(u,d,()=>cD(d,e,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return qv(u).includes(d)},ownKeys(u){return qv(u)},set(u,d,p){const m=u._storage||(u._storage=i());return u[d]=m[d]=p,delete u._keys,!0}})}function ba(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:S1(n,r),setContext:o=>ba(n,o,t,r),override:o=>ba(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return A1(o,l,()=>rD(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function S1(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:ss(t)?t:()=>t,isIndexable:ss(r)?r:()=>r}}const nD=(n,e)=>n?n+wm(e):e,Sm=(n,e)=>Be(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function A1(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function rD(n,e,t){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=n;let u=r[e];return ss(u)&&l.isScriptable(e)&&(u=iD(e,u,n,t)),$t(u)&&u.length&&(u=sD(e,u,n,l.isIndexable)),Sm(e,u)&&(u=ba(u,i,o&&o[e],l)),u}function iD(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=e(o,l||r);return u.delete(n),Sm(n,d)&&(d=Am(i._scopes,i,n,d)),d}function sD(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_descriptors:u}=t;if(typeof o.index<"u"&&r(n))return e[o.index%e.length];if(Be(e[0])){const d=e,p=i._scopes.filter(m=>m!==d);e=[];for(const m of d){const v=Am(p,i,n,m);e.push(ba(v,o,l&&l[n],u))}}return e}function C1(n,e,t){return ss(n)?n(e,t):n}const oD=(n,e)=>n===!0?e:typeof n=="string"?mc(e,n):void 0;function aD(n,e,t,r,i){for(const o of e){const l=oD(t,o);if(l){n.add(l);const u=C1(l._fallback,t,i);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function Am(n,e,t,r){const i=e._rootScopes,o=C1(e._fallback,t,r),l=[...n,...i],u=new Set;u.add(r);let d=Wv(u,l,t,o||t,r);return d===null||typeof o<"u"&&o!==t&&(d=Wv(u,l,o,d,r),d===null)?!1:Im(Array.from(u),[""],i,o,()=>lD(e,t,r))}function Wv(n,e,t,r,i){for(;t;)t=aD(n,e,t,r,i);return t}function lD(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return $t(i)&&Be(t)?t:i||{}}function cD(n,e,t,r){let i;for(const o of e)if(i=P1(nD(o,n),t),typeof i<"u")return Sm(n,i)?Am(t,r,n,i):i}function P1(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function qv(n){let e=n._keys;return e||(e=n._keys=uD(n._scopes)),e}function uD(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function Cm(){return typeof window<"u"&&typeof document<"u"}function Pm(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function rd(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Pd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function hD(n,e){return Pd(n).getPropertyValue(e)}const dD=["top","right","bottom","left"];function Qs(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const o=dD[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const fD=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function pD(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:o}=r;let l=!1,u,d;if(fD(i,o,n.target))u=i,d=o;else{const p=e.getBoundingClientRect();u=r.clientX-p.left,d=r.clientY-p.top,l=!0}return{x:u,y:d,box:l}}function $s(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Pd(t),o=i.boxSizing==="border-box",l=Qs(i,"padding"),u=Qs(i,"border","width"),{x:d,y:p,box:m}=pD(n,t),v=l.left+(m&&u.left),x=l.top+(m&&u.top);let{width:b,height:P}=e;return o&&(b-=l.width+u.width,P-=l.height+u.height),{x:Math.round((d-v)/b*t.width/r),y:Math.round((p-x)/P*t.height/r)}}function gD(n,e,t){let r,i;if(e===void 0||t===void 0){const o=n&&Pm(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),u=Pd(o),d=Qs(u,"border","width"),p=Qs(u,"padding");e=l.width-p.width-d.width,t=l.height-p.height-d.height,r=rd(u.maxWidth,o,"clientWidth"),i=rd(u.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:r||Zh,maxHeight:i||Zh}}const ch=n=>Math.round(n*10)/10;function mD(n,e,t,r){const i=Pd(n),o=Qs(i,"margin"),l=rd(i.maxWidth,n,"clientWidth")||Zh,u=rd(i.maxHeight,n,"clientHeight")||Zh,d=gD(n,e,t);let{width:p,height:m}=d;if(i.boxSizing==="content-box"){const x=Qs(i,"border","width"),b=Qs(i,"padding");p-=b.width+x.width,m-=b.height+x.height}return p=Math.max(0,p-o.width),m=Math.max(0,r?p/r:m-o.height),p=ch(Math.min(p,l,d.maxWidth)),m=ch(Math.min(m,u,d.maxHeight)),p&&!m&&(m=ch(p/2)),(e!==void 0||t!==void 0)&&r&&d.height&&m>d.height&&(m=d.height,p=ch(Math.floor(m*r))),{width:p,height:m}}function Kv(n,e,t){const r=e||1,i=Math.floor(n.height*r),o=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==i||l.width!==o?(n.currentDevicePixelRatio=r,l.height=i,l.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const yD=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Cm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Gv(n,e){const t=hD(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const _D=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},vD=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ga(n,e,t){return n?_D(e,t):vD()}function k1(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function R1(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function uh(n,e,t){return n.options.clip?n[t]:e[t]}function wD(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:uh(t,e,"left"),right:uh(t,e,"right"),top:uh(r,e,"top"),bottom:uh(r,e,"bottom")}:e}function xD(n,e){const t=e._clip;if(t.disabled)return!1;const r=wD(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ED{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const o=t.listeners[i],l=t.duration;o.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=w1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let l=o.length-1,u=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Jr=new ED;const Qv="transparent",TD={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=zv(n||Qv),i=r.valid&&zv(e||Qv);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class bD{constructor(e,t,r,i){const o=t[r];i=lh([e.to,i,o,e.from]);const l=lh([e.from,o,i]);this._active=!0,this._fn=e.fn||TD[e.type||typeof l],this._easing=ec[e.easing]||ec.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,l=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=lh([e.to,t,i,e.from]),this._from=lh([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,o=this._from,l=this._loop,u=this._to;let d;if(this._active=o!==u&&(l||t<r),!this._active){this._target[i]=u,this._notify(!0);return}if(t<0){this._target[i]=o;return}d=t/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[i]=this._fn(o,u,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class N1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Be(e))return;const t=Object.keys(gt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!Be(o))return;const l={};for(const u of t)l[u]=o[u];($t(o.properties)&&o.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,l)})})}_animateOptions(e,t){const r=t.options,i=SD(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&ID(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const p=l[d];if(p.charAt(0)==="$")continue;if(p==="options"){i.push(...this._animateOptions(e,t));continue}const m=t[p];let v=o[p];const x=r.get(p);if(v)if(x&&v.active()){v.update(x,m,u);continue}else v.cancel();if(!x||!x.duration){e[p]=m;continue}o[p]=v=new bD(x,e,p,m),i.push(v)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Jr.add(this._chart,r),!0}}function ID(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function SD(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Yv(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function AD(n,e,t){if(t===!1)return!1;const r=Yv(n,t),i=Yv(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function CD(n){let e,t,r,i;return Be(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function D1(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function Xv(n,e,t,r={}){const i=n.keys,o=r.mode==="single";let l,u,d,p;if(e===null)return;let m=!1;for(l=0,u=i.length;l<u;++l){if(d=+i[l],d===t){if(m=!0,r.all)continue;break}p=n.values[d],ci(p)&&(o||e===0||Lv(e)===Lv(p))&&(e+=p)}return!m&&!r.all?0:e}function PD(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,p,m;for(d=0,p=l.length;d<p;++d)m=l[d],u[d]={[i]:m,[o]:n[m]};return u}function Pp(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function kD(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function RD(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function ND(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Jv(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function Zv(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:u}=r,d=o.axis,p=l.axis,m=kD(o,l,r),v=e.length;let x;for(let b=0;b<v;++b){const P=e[b],{[d]:A,[p]:I}=P,F=P._stacks||(P._stacks={});x=F[p]=ND(i,m,A),x[u]=I,x._top=Jv(x,l,!0,r.type),x._bottom=Jv(x,l,!1,r.type);const H=x._visualValues||(x._visualValues={});H[u]=I}}function kp(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function DD(n,e){return Da(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function MD(n,e,t){return Da(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Pl(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}const Rp=n=>n==="reset"||n==="none",ew=(n,e)=>e?n:Object.assign({},n),OD=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:D1(t,!0),values:null};class rc{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Pp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(v,x,b,P)=>v==="x"?x:v==="r"?P:b,o=t.xAxisID=Ge(r.xAxisID,kp(e,"x")),l=t.yAxisID=Ge(r.yAxisID,kp(e,"y")),u=t.rAxisID=Ge(r.rAxisID,kp(e,"r")),d=t.indexAxis,p=t.iAxisID=i(d,o,l,u),m=t.vAxisID=i(d,l,o,u);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(p),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Vv(this._data,this),e._stacked&&Pl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Be(t)){const i=this._cachedMeta;this._data=PD(t,i)}else if(r!==t){if(r){Vv(r,this);const i=this._cachedMeta;Pl(i),i._parsed=[]}t&&Object.isExtensible(t)&&NN(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=t._stacked;t._stacked=Pp(t.vScale,t),t.stack!==r.stack&&(i=!0,Pl(t),t.stack=r.stack),this._resyncElements(e),(i||o!==t._stacked)&&(Zv(this,t._parsed),t._stacked=Pp(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:l}=r,u=o.axis;let d=e===0&&t===i.length?!0:r._sorted,p=e>0&&r._parsed[e-1],m,v,x;if(this._parsing===!1)r._parsed=i,r._sorted=!0,x=i;else{$t(i[e])?x=this.parseArrayData(r,i,e,t):Be(i[e])?x=this.parseObjectData(r,i,e,t):x=this.parsePrimitiveData(r,i,e,t);const b=()=>v[u]===null||p&&v[u]<p[u];for(m=0;m<t;++m)r._parsed[m+e]=v=x[m],d&&(b()&&(d=!1),p=v);r._sorted=d}l&&Zv(this,x)}parsePrimitiveData(e,t,r,i){const{iScale:o,vScale:l}=e,u=o.axis,d=l.axis,p=o.getLabels(),m=o===l,v=new Array(i);let x,b,P;for(x=0,b=i;x<b;++x)P=x+r,v[x]={[u]:m||o.parse(p[P],P),[d]:l.parse(t[P],P)};return v}parseArrayData(e,t,r,i){const{xScale:o,yScale:l}=e,u=new Array(i);let d,p,m,v;for(d=0,p=i;d<p;++d)m=d+r,v=t[m],u[d]={x:o.parse(v[0],m),y:l.parse(v[1],m)};return u}parseObjectData(e,t,r,i){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,p=new Array(i);let m,v,x,b;for(m=0,v=i;m<v;++m)x=m+r,b=t[x],p[m]={x:o.parse(mc(b,u),x),y:l.parse(mc(b,d),x)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,o=this._cachedMeta,l=t[e.axis],u={keys:D1(i,!0),values:t._stacks[e.axis]._visualValues};return Xv(u,l,o.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const o=r[t.axis];let l=o===null?NaN:o;const u=i&&r._stacks[t.axis];i&&u&&(i.values=u,l=Xv(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,l=i.length,u=this._getOtherScale(e),d=OD(t,r,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=RD(u);let x,b;function P(){b=i[x];const A=b[u.axis];return!ci(b[e.axis])||m>A||v<A}for(x=0;x<l&&!(!P()&&(this.updateRangeFromParsed(p,e,b,d),o));++x);if(o){for(x=l-1;x>=0;--x)if(!P()){this.updateRangeFromParsed(p,e,b,d);break}}return p}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,o,l;for(i=0,o=t.length;i<o;++i)l=t[i][e.axis],ci(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=CD(Ge(this.options.clip,AD(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],o=t.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||i.length-u,p=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,o,u,d),m=u;m<u+d;++m){const v=i[m];v.hidden||(v.active&&p?l.push(v):v.draw(e,o))}for(m=0;m<l.length;++m)l[m].draw(e,o)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=MD(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=DD(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",o=this._cachedDataOpts,l=e+"-"+t,u=o[l],d=this.enableOptionSharing&&Jh(r);if(u)return ew(u,d);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),v=i?[`${e}Hover`,"hover",e,""]:[e,""],x=p.getOptionScopes(this.getDataset(),m),b=Object.keys(gt.elements[e]),P=()=>this.getContext(r,i,t),A=p.resolveNamedOptions(x,b,P,v);return A.$shared&&(A.$shared=d,o[l]=Object.freeze(ew(A,d))),A}_resolveAnimations(e,t,r){const i=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,u=o[l];if(u)return u;let d;if(i.options.animation!==!1){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,t),x=m.getOptionScopes(this.getDataset(),v);d=m.createResolver(x,this.getContext(e,r,t))}const p=new N1(i,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Rp(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(t,o)||o!==i;return this.updateSharedOptions(o,t,r),{sharedOptions:o,includeOptions:l}}updateElement(e,t,r,i){Rp(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Rp(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const o=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,d,p]of this._syncList)this[u](d,p);this._syncList=[];const i=r.length,o=t.length,l=Math.min(o,i);l&&this.parse(0,l),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,t,r=!0){const i=this._cachedMeta,o=i.data,l=e+t;let u;const d=p=>{for(p.length+=t,u=p.length-1;u>=l;u--)p[u]=p[u-t]};for(d(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&d(i._parsed),this.parse(e,t),r&&this.updateElements(o,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Pl(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ne(rc,"defaults",{}),Ne(rc,"datasetElementType",null),Ne(rc,"dataElementType",null);function LD(n,e,t){let r=1,i=1,o=0,l=0;if(e<Et){const u=n,d=u+e,p=Math.cos(u),m=Math.sin(u),v=Math.cos(d),x=Math.sin(d),b=(K,X,se)=>td(K,u,d,!0)?1:Math.max(X,X*t,se,se*t),P=(K,X,se)=>td(K,u,d,!0)?-1:Math.min(X,X*t,se,se*t),A=b(0,p,v),I=b(Ct,m,x),F=P(st,p,v),H=P(st+Ct,m,x);r=(A-F)/2,i=(I-H)/2,o=-(A+F)/2,l=-(I+H)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:l}}class Bl extends rc{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=d=>+r[d];if(Be(r[e])){const{key:d="value"}=this._parsing;o=p=>+mc(r[p],d)}let l,u;for(l=e,u=e+t;l<u;++l)i._parsed[l]=o(l)}}_getRotation(){return qs(this.options.rotation-90)}_getCircumference(){return qs(this.options.circumference)}_getRotationExtents(){let e=Et,t=-Et;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),l=i._getCircumference();e=Math.min(e,o),t=Math.max(t,o+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,o=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-l)/2,0),d=Math.min(_N(this.options.cutout,u),1),p=this._getRingWeight(this.index),{circumference:m,rotation:v}=this._getRotationExtents(),{ratioX:x,ratioY:b,offsetX:P,offsetY:A}=LD(v,m,d),I=(r.width-l)/x,F=(r.height-l)/b,H=Math.max(Math.min(I,F)/2,0),K=m1(this.options.radius,H),X=Math.max(K*d,0),se=(K-X)/this._getVisibleDatasetWeightTotal();this.offsetX=P*K,this.offsetY=A*K,i.total=this.calculateTotal(),this.outerRadius=K-se*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-se*p,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,o=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/Et)}updateElements(e,t,r,i){const o=i==="reset",l=this.chart,u=l.chartArea,p=l.options.animation,m=(u.left+u.right)/2,v=(u.top+u.bottom)/2,x=o&&p.animateScale,b=x?0:this.innerRadius,P=x?0:this.outerRadius,{sharedOptions:A,includeOptions:I}=this._getSharedOptions(t,i);let F=this._getRotation(),H;for(H=0;H<t;++H)F+=this._circumference(H,o);for(H=t;H<t+r;++H){const K=this._circumference(H,o),X=e[H],se={x:m+this.offsetX,y:v+this.offsetY,startAngle:F,endAngle:F+K,circumference:K,outerRadius:P,innerRadius:b};I&&(se.options=A||this.resolveDataElementOptions(H,X.active?"active":i)),F+=K,this.updateElement(X,H,se,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Et*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=UN(t._parsed[e],r.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,o,l,u,d;if(!e){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,u=l.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)d=u.resolveDataElementOptions(i),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Ge(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ne(Bl,"id","doughnut"),Ne(Bl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ne(Bl,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ne(Bl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((o,l)=>{const d=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:i,lineWidth:d.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});function Us(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class km{constructor(e){Ne(this,"options");this.options=e||{}}static override(e){Object.assign(km.prototype,e)}init(){}formats(){return Us()}parse(){return Us()}format(){return Us()}add(){return Us()}diff(){return Us()}startOf(){return Us()}endOf(){return Us()}}var VD={_date:km};function jD(n,e,t,r){const{controller:i,data:o,_sorted:l}=n,u=i._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const p=u._reversePixels?kN:pg;if(r){if(i._sharedOptions){const m=o[0],v=typeof m.getRange=="function"&&m.getRange(e);if(v){const x=p(o,e,t-v),b=p(o,e,t+v);return{lo:x.lo,hi:b.hi}}}}else{const m=p(o,e,t);if(d){const{vScale:v}=i._cachedMeta,{_parsed:x}=n,b=x.slice(0,m.lo+1).reverse().findIndex(A=>!Jt(A[v.axis]));m.lo-=Math.max(0,b);const P=x.slice(m.hi).findIndex(A=>!Jt(A[v.axis]));m.hi+=Math.max(0,P)}return m}}return{lo:0,hi:o.length-1}}function kd(n,e,t,r,i){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,d=o.length;u<d;++u){const{index:p,data:m}=o[u],{lo:v,hi:x}=jD(o[u],e,l,i);for(let b=v;b<=x;++b){const P=m[b];P.skip||r(P,p,b)}}}function FD(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,l=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Np(n,e,t,r,i){const o=[];return!i&&!n.isPointInArea(e)||kd(n,t,e,function(u,d,p){!i&&!I1(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&o.push({element:u,datasetIndex:d,index:p})},!0),o}function zD(n,e,t,r){let i=[];function o(l,u,d){const{startAngle:p,endAngle:m}=l.getProps(["startAngle","endAngle"],r),{angle:v}=_1(l,{x:e.x,y:e.y});td(v,p,m)&&i.push({element:l,datasetIndex:u,index:d})}return kd(n,t,e,o),i}function UD(n,e,t,r,i,o){let l=[];const u=FD(t);let d=Number.POSITIVE_INFINITY;function p(m,v,x){const b=m.inRange(e.x,e.y,i);if(r&&!b)return;const P=m.getCenterPoint(i);if(!(!!o||n.isPointInArea(P))&&!b)return;const I=u(e,P);I<d?(l=[{element:m,datasetIndex:v,index:x}],d=I):I===d&&l.push({element:m,datasetIndex:v,index:x})}return kd(n,t,e,p),l}function Dp(n,e,t,r,i,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!r?zD(n,e,t,i):UD(n,e,t,r,i,o)}function tw(n,e,t,r,i){const o=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return kd(n,t,e,(d,p,m)=>{d[l]&&d[l](e[t],i)&&(o.push({element:d,datasetIndex:p,index:m}),u=u||d.inRange(e.x,e.y,i))}),r&&!u?[]:o}var BD={modes:{index(n,e,t,r){const i=$s(e,n),o=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Np(n,i,o,r,l):Dp(n,i,o,!1,r,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const m=u[0].index,v=p.data[m];v&&!v.skip&&d.push({element:v,datasetIndex:p.index,index:m})}),d):[]},dataset(n,e,t,r){const i=$s(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Np(n,i,o,r,l):Dp(n,i,o,!1,r,l);if(u.length>0){const d=u[0].datasetIndex,p=n.getDatasetMeta(d).data;u=[];for(let m=0;m<p.length;++m)u.push({element:p[m],datasetIndex:d,index:m})}return u},point(n,e,t,r){const i=$s(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Np(n,i,o,r,l)},nearest(n,e,t,r){const i=$s(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Dp(n,i,o,t.intersect,r,l)},x(n,e,t,r){const i=$s(e,n);return tw(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=$s(e,n);return tw(n,i,"y",t.intersect,r)}}};const M1=["left","top","right","bottom"];function kl(n,e){return n.filter(t=>t.pos===e)}function nw(n,e){return n.filter(t=>M1.indexOf(t.pos)===-1&&t.box.axis===e)}function Rl(n,e){return n.sort((t,r)=>{const i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function $D(n){const e=[];let t,r,i,o,l,u;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:o,options:{stack:l,stackWeight:u=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&o+l,stackWeight:u});return e}function HD(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:o}=t;if(!r||!M1.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function WD(n,e){const t=HD(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:d}=u.box,p=t[u.stack],m=p&&u.stackWeight/p.weight;u.horizontal?(u.width=m?m*r:d&&e.availableWidth,u.height=i):(u.width=r,u.height=m?m*i:d&&e.availableHeight)}return t}function qD(n){const e=$D(n),t=Rl(e.filter(p=>p.box.fullSize),!0),r=Rl(kl(e,"left"),!0),i=Rl(kl(e,"right")),o=Rl(kl(e,"top"),!0),l=Rl(kl(e,"bottom")),u=nw(e,"x"),d=nw(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(d).concat(l).concat(u),chartArea:kl(e,"chartArea"),vertical:r.concat(i).concat(d),horizontal:o.concat(l).concat(u)}}function rw(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function O1(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function KD(n,e,t,r){const{pos:i,box:o}=t,l=n.maxPadding;if(!Be(i)){t.size&&(n[i]-=t.size);const v=r[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?o.height:o.width),t.size=v.size/v.count,n[i]+=t.size}o.getPadding&&O1(l,o.getPadding());const u=Math.max(0,e.outerWidth-rw(l,n,"left","right")),d=Math.max(0,e.outerHeight-rw(l,n,"top","bottom")),p=u!==n.w,m=d!==n.h;return n.w=u,n.h=d,t.horizontal?{same:p,other:m}:{same:m,other:p}}function GD(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function QD(n,e){const t=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return r(n?["left","right"]:["top","bottom"])}function $l(n,e,t,r){const i=[];let o,l,u,d,p,m;for(o=0,l=n.length,p=0;o<l;++o){u=n[o],d=u.box,d.update(u.width||e.w,u.height||e.h,QD(u.horizontal,e));const{same:v,other:x}=KD(e,t,u,r);p|=v&&i.length,m=m||x,d.fullSize||i.push(u)}return p&&$l(i,e,t,r)||m}function hh(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function iw(n,e,t,r){const i=t.padding;let{x:o,y:l}=e;for(const u of n){const d=u.box,p=r[u.stack]||{placed:0,weight:1},m=u.stackWeight/p.weight||1;if(u.horizontal){const v=e.w*m,x=p.size||d.height;Jh(p.start)&&(l=p.start),d.fullSize?hh(d,i.left,l,t.outerWidth-i.right-i.left,x):hh(d,e.left+p.placed,l,v,x),p.start=l,p.placed+=v,l=d.bottom}else{const v=e.h*m,x=p.size||d.width;Jh(p.start)&&(o=p.start),d.fullSize?hh(d,o,i.top,x,t.outerHeight-i.bottom-i.top):hh(d,o,e.top+p.placed,x,v),p.start=o,p.placed+=v,o=d.right}}e.x=o,e.y=l}var Wi={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=lr(n.options.layout.padding),o=Math.max(e-i.width,0),l=Math.max(t-i.height,0),u=qD(n.boxes),d=u.vertical,p=u.horizontal;Ke(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const m=d.reduce((A,I)=>I.box.options&&I.box.options.display===!1?A:A+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/m,hBoxMaxHeight:l/2}),x=Object.assign({},i);O1(x,lr(r));const b=Object.assign({maxPadding:x,w:o,h:l,x:i.left,y:i.top},i),P=WD(d.concat(p),v);$l(u.fullSize,b,v,P),$l(d,b,v,P),$l(p,b,v,P)&&$l(d,b,v,P),GD(b),iw(u.leftAndTop,b,v,P),b.x+=b.w,b.y+=b.h,iw(u.rightAndBottom,b,v,P),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Ke(u.chartArea,A=>{const I=A.box;Object.assign(I,n.chartArea),I.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class L1{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class YD extends L1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ch="$chartjs",XD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sw=n=>n===null||n==="";function JD(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Ch]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",sw(i)){const o=Gv(n,"width");o!==void 0&&(n.width=o)}if(sw(r))if(n.style.height==="")n.height=n.width/(e||2);else{const o=Gv(n,"height");o!==void 0&&(n.height=o)}return n}const V1=yD?{passive:!0}:!1;function ZD(n,e,t){n&&n.addEventListener(e,t,V1)}function eM(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,V1)}function tM(n,e){const t=XD[n.type]||n.type,{x:r,y:i}=$s(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function id(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function nM(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||id(u.addedNodes,r),l=l&&!id(u.removedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function rM(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||id(u.removedNodes,r),l=l&&!id(u.addedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const yc=new Map;let ow=0;function j1(){const n=window.devicePixelRatio;n!==ow&&(ow=n,yc.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function iM(n,e){yc.size||window.addEventListener("resize",j1),yc.set(n,e)}function sM(n){yc.delete(n),yc.size||window.removeEventListener("resize",j1)}function oM(n,e,t){const r=n.canvas,i=r&&Pm(r);if(!i)return;const o=x1((u,d)=>{const p=i.clientWidth;t(u,d),p<i.clientWidth&&t()},window),l=new ResizeObserver(u=>{const d=u[0],p=d.contentRect.width,m=d.contentRect.height;p===0&&m===0||o(p,m)});return l.observe(i),iM(n,o),l}function Mp(n,e,t){t&&t.disconnect(),e==="resize"&&sM(n)}function aM(n,e,t){const r=n.canvas,i=x1(o=>{n.ctx!==null&&t(tM(o,n))},n);return ZD(r,e,i),i}class lM extends L1{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(JD(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Ch])return!1;const r=t[Ch].initial;["height","width"].forEach(o=>{const l=r[o];Jt(l)?t.removeAttribute(o):t.setAttribute(o,l)});const i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[Ch],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:nM,detach:rM,resize:oM}[t]||aM;i[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:Mp,detach:Mp,resize:Mp}[t]||eM)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return mD(e,t,r,i)}isAttached(e){const t=e&&Pm(e);return!!(t&&t.isConnected)}}function cM(n){return!Cm()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?YD:lM}class ro{constructor(){Ne(this,"x");Ne(this,"y");Ne(this,"active",!1);Ne(this,"options");Ne(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return ed(this.x)&&ed(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}Ne(ro,"defaults",{}),Ne(ro,"defaultRoutes");function uM(n,e){const t=n.options.ticks,r=hM(n),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?fM(e):[],l=o.length,u=o[0],d=o[l-1],p=[];if(l>i)return pM(e,p,o,l/i),p;const m=dM(o,e,i);if(l>0){let v,x;const b=l>1?Math.round((d-u)/(l-1)):null;for(dh(e,p,m,Jt(b)?0:u-b,u),v=0,x=l-1;v<x;v++)dh(e,p,m,o[v],o[v+1]);return dh(e,p,m,d,Jt(b)?e.length:d+b),p}return dh(e,p,m),p}function hM(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function dM(n,e,t){const r=gM(n),i=e.length/t;if(!r)return Math.max(i,1);const o=IN(r);for(let l=0,u=o.length-1;l<u;l++){const d=o[l];if(d>i)return d}return Math.max(i,1)}function fM(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function pM(n,e,t,r){let i=0,o=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===o&&(e.push(n[l]),i++,o=t[i*r])}function dh(n,e,t,r,i){const o=Ge(r,0),l=Math.min(Ge(i,n.length),n.length);let u=0,d,p,m;for(t=Math.ceil(t),i&&(d=i-r,t=d/Math.floor(d/t)),m=o;m<0;)u++,m=Math.round(o+u*t);for(p=Math.max(o,0);p<l;p++)p===m&&(e.push(n[p]),u++,m=Math.round(o+u*t))}function gM(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const mM=n=>n==="left"?"right":n==="right"?"left":n,aw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,lw=(n,e)=>Math.min(e||n,n);function cw(n,e){const t=[],r=n.length/e,i=n.length;let o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function yM(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(i),p;if(!(t&&(r===1?p=Math.max(d-o,l-d):e===0?p=(n.getPixelForTick(1)-d)/2:p=(d-n.getPixelForTick(i-1))/2,d+=i<e?p:-p,d<o-u||d>l+u)))return d}function _M(n,e){Ke(n,t=>{const r=t.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function Nl(n){return n.drawTicks?n.tickLength:0}function uw(n,e){if(!n.display)return 0;const t=vn(n.font,e),r=lr(n.padding);return($t(n.text)?n.text.length:1)*t.lineHeight+r.height}function vM(n,e){return Da(n,{scale:e,type:"scale"})}function wM(n,e,t){return Da(n,{tick:t,index:e,type:"tick"})}function xM(n,e,t){let r=E1(n);return(t&&e!=="right"||!t&&e==="right")&&(r=mM(r)),r}function EM(n,e,t,r){const{top:i,left:o,bottom:l,right:u,chart:d}=n,{chartArea:p,scales:m}=d;let v=0,x,b,P;const A=l-i,I=u-o;if(n.isHorizontal()){if(b=An(r,o,u),Be(t)){const F=Object.keys(t)[0],H=t[F];P=m[F].getPixelForValue(H)+A-e}else t==="center"?P=(p.bottom+p.top)/2+A-e:P=aw(n,t,e);x=u-o}else{if(Be(t)){const F=Object.keys(t)[0],H=t[F];b=m[F].getPixelForValue(H)-I+e}else t==="center"?b=(p.left+p.right)/2-I+e:b=aw(n,t,e);P=An(r,l,i),v=t==="left"?-Ct:Ct}return{titleX:b,titleY:P,maxWidth:x,rotation:v}}class Rd extends ro{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=wr(e,Number.POSITIVE_INFINITY),t=wr(t,Number.NEGATIVE_INFINITY),r=wr(r,Number.POSITIVE_INFINITY),i=wr(i,Number.NEGATIVE_INFINITY),{min:wr(e,r),max:wr(t,i),minDefined:ci(e),maxDefined:ci(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),l;if(i&&o)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let d=0,p=u.length;d<p;++d)l=u[d].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),o||(r=Math.max(r,l.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:wr(t,wr(r,t)),max:wr(r,wr(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tD(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?cw(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=uM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rt(this.options.afterUpdate,[this])}beforeSetDimensions(){rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),rt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=rt(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=lw(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation;let l=i,u,d,p;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),v=m.widest.width,x=m.highest.height,b=Bn(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/r:b/(r-1),v+6>u&&(u=b/(r-(e.offset?.5:1)),d=this.maxHeight-Nl(e.grid)-t.padding-uw(e.title,this.chart.options.font),p=Math.sqrt(v*v+x*x),l=AN(Math.min(Math.asin(Bn((m.highest.height+6)/u,-1,1)),Math.asin(Bn(d/p,-1,1))-Math.asin(Bn(x/p,-1,1)))),l=Math.max(i,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=uw(i,t.options.font);if(u?(e.width=this.maxWidth,e.height=Nl(o)+d):(e.height=this.maxHeight,e.width=Nl(o)+d),r.display&&this.ticks.length){const{first:p,last:m,widest:v,highest:x}=this._getLabelSizes(),b=r.padding*2,P=qs(this.labelRotation),A=Math.cos(P),I=Math.sin(P);if(u){const F=r.mirror?0:I*v.width+A*x.height;e.height=Math.min(this.maxHeight,e.height+F+b)}else{const F=r.mirror?0:A*v.width+I*x.height;e.width=Math.min(this.maxWidth,e.width+F+b)}this._calculatePadding(p,m,I,A)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:o,padding:l},position:u}=this.options,d=this.labelRotation!==0,p=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,b=0;d?p?(x=i*e.width,b=r*t.height):(x=r*e.height,b=i*t.width):o==="start"?b=t.width:o==="end"?x=e.width:o!=="inner"&&(x=e.width/2,b=t.width/2),this.paddingLeft=Math.max((x-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((b-v+l)*this.width/(this.width-v),0)}else{let m=t.height/2,v=e.height/2;o==="start"?(m=0,v=e.height):o==="end"&&(m=t.height,v=0),this.paddingTop=m+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Jt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=cw(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:o}=this,l=[],u=[],d=Math.floor(t/lw(t,r));let p=0,m=0,v,x,b,P,A,I,F,H,K,X,se;for(v=0;v<t;v+=d){if(P=e[v].label,A=this._resolveTickFontOptions(v),i.font=I=A.string,F=o[I]=o[I]||{data:{},gc:[]},H=A.lineHeight,K=X=0,!Jt(P)&&!$t(P))K=Bv(i,F.data,F.gc,K,P),X=H;else if($t(P))for(x=0,b=P.length;x<b;++x)se=P[x],!Jt(se)&&!$t(se)&&(K=Bv(i,F.data,F.gc,K,se),X+=H);l.push(K),u.push(X),p=Math.max(K,p),m=Math.max(X,m)}_M(o,t);const ie=l.indexOf(p),O=u.indexOf(m),k=N=>({width:l[N]||0,height:u[N]||0});return{first:k(0),last:k(t-1),widest:k(ie),highest:k(O),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return PN(this._alignToPixels?zs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=wM(this.getContext(),e,r))}return this.$context||(this.$context=vM(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=qs(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*r>u*i?u/r:d/i:d*i<u*r?d/r:u/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:o,position:l,border:u}=i,d=o.offset,p=this.isHorizontal(),v=this.ticks.length+(d?1:0),x=Nl(o),b=[],P=u.setContext(this.getContext()),A=P.display?P.width:0,I=A/2,F=function(Pe){return zs(r,Pe,A)};let H,K,X,se,ie,O,k,N,M,C,L,R;if(l==="top")H=F(this.bottom),O=this.bottom-x,N=H-I,C=F(e.top)+I,R=e.bottom;else if(l==="bottom")H=F(this.top),C=e.top,R=F(e.bottom)-I,O=H+I,N=this.top+x;else if(l==="left")H=F(this.right),ie=this.right-x,k=H-I,M=F(e.left)+I,L=e.right;else if(l==="right")H=F(this.left),M=e.left,L=F(e.right)-I,ie=H+I,k=this.left+x;else if(t==="x"){if(l==="center")H=F((e.top+e.bottom)/2+.5);else if(Be(l)){const Pe=Object.keys(l)[0],xe=l[Pe];H=F(this.chart.scales[Pe].getPixelForValue(xe))}C=e.top,R=e.bottom,O=H+I,N=O+x}else if(t==="y"){if(l==="center")H=F((e.left+e.right)/2);else if(Be(l)){const Pe=Object.keys(l)[0],xe=l[Pe];H=F(this.chart.scales[Pe].getPixelForValue(xe))}ie=H-I,k=ie-x,M=e.left,L=e.right}const ke=Ge(i.ticks.maxTicksLimit,v),we=Math.max(1,Math.ceil(v/ke));for(K=0;K<v;K+=we){const Pe=this.getContext(K),xe=o.setContext(Pe),te=u.setContext(Pe),le=xe.lineWidth,ae=xe.color,z=te.dash||[],G=te.dashOffset,pe=xe.tickWidth,be=xe.tickColor,Ae=xe.tickBorderDash||[],Re=xe.tickBorderDashOffset;X=yM(this,K,d),X!==void 0&&(se=zs(r,X,le),p?ie=k=M=L=se:O=N=C=R=se,b.push({tx1:ie,ty1:O,tx2:k,ty2:N,x1:M,y1:C,x2:L,y2:R,width:le,color:ae,borderDash:z,borderDashOffset:G,tickWidth:pe,tickColor:be,tickBorderDash:Ae,tickBorderDashOffset:Re}))}return this._ticksLength=v,this._borderValue=H,b}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:o}=r,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:p,padding:m,mirror:v}=o,x=Nl(r.grid),b=x+m,P=v?-m:b,A=-qs(this.labelRotation),I=[];let F,H,K,X,se,ie,O,k,N,M,C,L,R="middle";if(i==="top")ie=this.bottom-P,O=this._getXAxisLabelAlignment();else if(i==="bottom")ie=this.top+P,O=this._getXAxisLabelAlignment();else if(i==="left"){const we=this._getYAxisLabelAlignment(x);O=we.textAlign,se=we.x}else if(i==="right"){const we=this._getYAxisLabelAlignment(x);O=we.textAlign,se=we.x}else if(t==="x"){if(i==="center")ie=(e.top+e.bottom)/2+b;else if(Be(i)){const we=Object.keys(i)[0],Pe=i[we];ie=this.chart.scales[we].getPixelForValue(Pe)+b}O=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")se=(e.left+e.right)/2-b;else if(Be(i)){const we=Object.keys(i)[0],Pe=i[we];se=this.chart.scales[we].getPixelForValue(Pe)}O=this._getYAxisLabelAlignment(x).textAlign}t==="y"&&(d==="start"?R="top":d==="end"&&(R="bottom"));const ke=this._getLabelSizes();for(F=0,H=u.length;F<H;++F){K=u[F],X=K.label;const we=o.setContext(this.getContext(F));k=this.getPixelForTick(F)+o.labelOffset,N=this._resolveTickFontOptions(F),M=N.lineHeight,C=$t(X)?X.length:1;const Pe=C/2,xe=we.color,te=we.textStrokeColor,le=we.textStrokeWidth;let ae=O;l?(se=k,O==="inner"&&(F===H-1?ae=this.options.reverse?"left":"right":F===0?ae=this.options.reverse?"right":"left":ae="center"),i==="top"?p==="near"||A!==0?L=-C*M+M/2:p==="center"?L=-ke.highest.height/2-Pe*M+M:L=-ke.highest.height+M/2:p==="near"||A!==0?L=M/2:p==="center"?L=ke.highest.height/2-Pe*M:L=ke.highest.height-C*M,v&&(L*=-1),A!==0&&!we.showLabelBackdrop&&(se+=M/2*Math.sin(A))):(ie=k,L=(1-C)*M/2);let z;if(we.showLabelBackdrop){const G=lr(we.backdropPadding),pe=ke.heights[F],be=ke.widths[F];let Ae=L-G.top,Re=0-G.left;switch(R){case"middle":Ae-=pe/2;break;case"bottom":Ae-=pe;break}switch(O){case"center":Re-=be/2;break;case"right":Re-=be;break;case"inner":F===H-1?Re-=be:F>0&&(Re-=be/2);break}z={left:Re,top:Ae,width:be+G.width,height:pe+G.height,color:we.backdropColor}}I.push({label:X,font:N,textOffset:L,options:{rotation:A,color:xe,strokeColor:te,strokeWidth:le,textAlign:ae,textBaseline:R,translation:[se,ie],backdrop:z}})}return I}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-qs(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,d=l.widest.width;let p,m;return t==="left"?i?(m=this.right+o,r==="near"?p="left":r==="center"?(p="center",m+=d/2):(p="right",m+=d)):(m=this.right-u,r==="near"?p="right":r==="center"?(p="center",m-=d/2):(p="left",m=this.left)):t==="right"?i?(m=this.left+o,r==="near"?p="right":r==="center"?(p="center",m-=d/2):(p="left",m-=d)):(m=this.left+u,r==="near"?p="left":r==="center"?(p="center",m+=d/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(d,p,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(p.x,p.y),r.stroke(),r.restore())};if(t.display)for(o=0,l=i.length;o<l;++o){const d=i[o];t.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),l=r.display?o.width:0;if(!l)return;const u=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let p,m,v,x;this.isHorizontal()?(p=zs(e,this.left,l)-l/2,m=zs(e,this.right,u)+u/2,v=x=d):(v=zs(e,this.top,l)-l/2,x=zs(e,this.bottom,u)+u/2,p=m=d),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(p,v),t.lineTo(m,x),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Em(r,i);const o=this.getLabelItems(e);for(const l of o){const u=l.options,d=l.font,p=l.label,m=l.textOffset;nd(r,p,0,m,d,u)}i&&Tm(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const o=vn(r.font),l=lr(r.padding),u=r.align;let d=o.lineHeight/2;t==="bottom"||t==="center"||Be(t)?(d+=l.bottom,$t(r.text)&&(d+=o.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:p,titleY:m,maxWidth:v,rotation:x}=EM(this,d,t,u);nd(e,r.text,0,0,o,{color:r.color,maxWidth:v,rotation:x,textAlign:xM(u,t,i),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Ge(e.grid&&e.grid.z,-1),i=Ge(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Rd.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,l;for(o=0,l=t.length;o<l;++o){const u=t[o];u[r]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return vn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fh{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;IM(t)&&(r=this.register(t));const i=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,TM(e,l,r),this.override&&gt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in gt[i]&&(delete gt[i][r],this.override&&delete no[r])}}function TM(n,e,t){const r=gc(Object.create(null),[t?gt.get(t):{},gt.get(e),n.defaults]);gt.set(e,r),n.defaultRoutes&&bM(e,n.defaultRoutes),n.descriptors&&gt.describe(e,n.descriptors)}function bM(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),l=e[t].split("."),u=l.pop(),d=l.join(".");gt.route(o,i,d,u)})}function IM(n){return"id"in n&&"defaults"in n}class SM{constructor(){this.controllers=new fh(rc,"datasets",!0),this.elements=new fh(ro,"elements"),this.plugins=new fh(Object,"plugins"),this.scales=new fh(Rd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Ke(i,l=>{const u=r||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,r){const i=wm(e);rt(r["before"+i],[],r),t[e](r),rt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Er=new SM;class AM{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(o,e,t,r);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,r,i){i=i||{};for(const o of e){const l=o.plugin,u=l[r],d=[t,i,o.options];if(rt(u,d,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Ge(r.options&&r.options.plugins,{}),o=CM(r);return i===!1&&!t?[]:kM(e,o,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(o,l)=>o.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function CM(n){const e={},t=[],r=Object.keys(Er.plugins.items);for(let o=0;o<r.length;o++)t.push(Er.getPlugin(r[o]));const i=n.plugins||[];for(let o=0;o<i.length;o++){const l=i[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function PM(n,e){return!e&&n===!1?null:n===!0?{}:n}function kM(n,{plugins:e,localIds:t},r,i){const o=[],l=n.getContext();for(const u of e){const d=u.id,p=PM(r[d],i);p!==null&&o.push({plugin:u,options:RM(n.config,{plugin:u,local:t[d]},p,l)})}return o}function RM(n,{plugin:e,local:t},r,i){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(r,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yg(n,e){const t=gt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function NM(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function DM(n,e){return n===e?"_index_":"_value_"}function hw(n){if(n==="x"||n==="y"||n==="r")return n}function MM(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function _g(n,...e){if(hw(n))return n;for(const t of e){const r=t.axis||MM(t.position)||n.length>1&&hw(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function dw(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function OM(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return dw(n,"x",t[0])||dw(n,"y",t[0])}return{}}function LM(n,e){const t=no[n.type]||{scales:{}},r=e.scales||{},i=yg(n.type,e),o=Object.create(null);return Object.keys(r).forEach(l=>{const u=r[l];if(!Be(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=_g(l,u,OM(l,n),gt.scales[u.type]),p=DM(d,i),m=t.scales||{};o[l]=Zl(Object.create(null),[{axis:d},u,m[d],m[p]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||yg(u,e),m=(no[u]||{}).scales||{};Object.keys(m).forEach(v=>{const x=NM(v,d),b=l[x+"AxisID"]||x;o[b]=o[b]||Object.create(null),Zl(o[b],[{axis:x},r[b],m[v]])})}),Object.keys(o).forEach(l=>{const u=o[l];Zl(u,[gt.scales[u.type],gt.scale])}),o}function F1(n){const e=n.options||(n.options={});e.plugins=Ge(e.plugins,{}),e.scales=LM(n,e)}function z1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function VM(n){return n=n||{},n.data=z1(n.data),F1(n),n}const fw=new Map,U1=new Set;function ph(n,e){let t=fw.get(n);return t||(t=e(),fw.set(n,t),U1.add(t)),t}const Dl=(n,e,t)=>{const r=mc(e,t);r!==void 0&&n.add(r)};class jM{constructor(e){this._config=VM(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=z1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),F1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ph(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ph(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ph(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return ph(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:o}=this,l=this._cachedScopes(e,r),u=l.get(t);if(u)return u;const d=new Set;t.forEach(m=>{e&&(d.add(e),m.forEach(v=>Dl(d,e,v))),m.forEach(v=>Dl(d,i,v)),m.forEach(v=>Dl(d,no[o]||{},v)),m.forEach(v=>Dl(d,gt,v)),m.forEach(v=>Dl(d,gg,v))});const p=Array.from(d);return p.length===0&&p.push(Object.create(null)),U1.has(t)&&l.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,no[t]||{},gt.datasets[t]||{},{type:t},gt,gg]}resolveNamedOptions(e,t,r,i=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=pw(this._resolverCache,e,i);let d=l;if(zM(l,t)){o.$shared=!1,r=ss(r)?r():r;const p=this.createResolver(e,r,u);d=ba(l,r,p)}for(const p of t)o[p]=d[p];return o}createResolver(e,t,r=[""],i){const{resolver:o}=pw(this._resolverCache,e,r);return Be(t)?ba(o,t,void 0,i):o}}function pw(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let o=r.get(i);return o||(o={resolver:Im(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,o)),o}const FM=n=>Be(n)&&Object.getOwnPropertyNames(n).some(e=>ss(n[e]));function zM(n,e){const{isScriptable:t,isIndexable:r}=S1(n);for(const i of e){const o=t(i),l=r(i),u=(l||o)&&n[i];if(o&&(ss(u)||FM(u))||l&&$t(u))return!0}return!1}var UM="4.5.0";const BM=["top","bottom","left","right","chartArea"];function gw(n,e){return n==="top"||n==="bottom"||BM.indexOf(n)===-1&&e==="x"}function mw(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function yw(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),rt(t&&t.onComplete,[n],e)}function $M(n){const e=n.chart,t=e.options.animation;rt(t&&t.onProgress,[n],e)}function B1(n){return Cm()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ph={},_w=n=>{const e=B1(n);return Object.values(Ph).filter(t=>t.canvas===e).pop()};function HM(n,e,t){const r=Object.keys(n);for(const i of r){const o=+i;if(o>=e){const l=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=l)}}}function WM(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Vi;let Nd=(Vi=class{static register(...e){Er.add(...e),vw()}static unregister(...e){Er.remove(...e),vw()}constructor(e,t){const r=this.config=new jM(t),i=B1(e),o=_w(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||cM(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,l.aspectRatio),d=u&&u.canvas,p=d&&d.height,m=d&&d.width;if(this.id=yN(),this.ctx=u,this.canvas=d,this.width=m,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new AM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=MN(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],Ph[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Jr.listen(this,"complete",yw),Jr.listen(this,"progress",$M),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:o}=this;return Jt(e)?t&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $v(this.canvas,this.ctx),this}stop(){return Jr.stop(this),this}resize(e,t){Jr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,o),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Kv(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),rt(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ke(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((l,u)=>(l[u]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const u=t[l],d=_g(l,u),p=d==="r",m=d==="x";return{options:u,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),Ke(o,l=>{const u=l.options,d=u.id,p=_g(d,u),m=Ge(u.type,l.dtype);(u.position===void 0||gw(u.position,p)!==gw(l.dposition))&&(u.position=l.dposition),i[d]=!0;let v=null;if(d in r&&r[d].type===m)v=r[d];else{const x=Er.getScale(m);v=new x({id:d,type:m,ctx:this.ctx,chart:this}),r[v.id]=v}v.init(u,e)}),Ke(i,(l,u)=>{l||delete r[u]}),Ke(r,l=>{Wi.configure(this,l,l.options),Wi.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(mw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const o=t[r];let l=this.getDatasetMeta(r);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=u,l.indexAxis=o.indexAxis||yg(u,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=Er.getController(u),{datasetElementType:p,dataElementType:m}=gt.datasets[u];Object.assign(d,{dataElementType:Er.getElement(m),datasetElementType:p&&Er.getElement(p)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Ke(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:v}=this.getDatasetMeta(p),x=!i&&o.indexOf(v)===-1;v.buildOrUpdateElements(x),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||Ke(o,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mw("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ke(this.scales,e=>{Wi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Mv(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of t){const l=r==="_removeElements"?-o:o;HM(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),i=r(0);for(let o=1;o<t;o++)if(!Mv(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wi.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Ke(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,ss(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Jr.has(this)?this.attached&&!Jr.running(this)&&Jr.start(this):(this.draw(),yw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,o;for(i=0,o=t.length;i<o;++i){const l=t[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=xD(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Em(t,i),e.controller.draw(),i&&Tm(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return I1(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const o=BD.modes[t];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Da(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,i);Jh(t)?(o.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(o,{visible:r}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Jr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),$v(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ph[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},i=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Ke(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(d,p)=>{t.addEventListener(this,d,p),e[d]=p},i=(d,p)=>{e[d]&&(t.removeEventListener(this,d,p),delete e[d])},o=(d,p)=>{this.canvas&&this.resize(d,p)};let l;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Ke(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ke(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let o,l,u,d;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),u=0,d=e.length;u<d;++u){l=e[u];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Yh(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,o=(d,p)=>d.filter(m=>!p.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),l=o(t,e),u=r?e:o(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:o}=this,l=t,u=this._getActiveElements(e,i,r,l),d=TN(e),p=WM(e,this._lastEvent,r,d);r&&(this._lastEvent=null,rt(o.onHover,[e,u,this],this),d&&rt(o.onClick,[e,u,this],this));const m=!Yh(u,i);return(m||t)&&(this._active=u,this._updateHoverStyles(u,i,t)),this._lastEvent=p,m}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}},Ne(Vi,"defaults",gt),Ne(Vi,"instances",Ph),Ne(Vi,"overrides",no),Ne(Vi,"registry",Er),Ne(Vi,"version",UM),Ne(Vi,"getChart",_w),Vi);function vw(){return Ke(Nd.instances,n=>n._plugins.invalidate())}function qM(n,e,t){const{startAngle:r,x:i,y:o,outerRadius:l,innerRadius:u,options:d}=e,{borderWidth:p,borderJoinStyle:m}=d,v=Math.min(p/l,br(r-t));if(n.beginPath(),n.arc(i,o,l-p/2,r+v/2,t-v/2),u>0){const x=Math.min(p/u,br(r-t));n.arc(i,o,u+p/2,t-x/2,r+x/2,!0)}else{const x=Math.min(p/2,l*br(r-t));if(m==="round")n.arc(i,o,x,t-st/2,r+st/2,!0);else if(m==="bevel"){const b=2*x*x,P=-b*Math.cos(t+st/2)+i,A=-b*Math.sin(t+st/2)+o,I=b*Math.cos(r+st/2)+i,F=b*Math.sin(r+st/2)+o;n.lineTo(P,A),n.lineTo(I,F)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function KM(n,e,t){const{startAngle:r,pixelMargin:i,x:o,y:l,outerRadius:u,innerRadius:d}=e;let p=i/u;n.beginPath(),n.arc(o,l,u,r-p,t+p),d>i?(p=i/d,n.arc(o,l,d,t+p,r-p,!0)):n.arc(o,l,i,t+Ct,r-Ct),n.closePath(),n.clip()}function GM(n){return bm(n,["outerStart","outerEnd","innerStart","innerEnd"])}function QM(n,e,t,r){const i=GM(n.options.borderRadius),o=(t-e)/2,l=Math.min(o,r*e/2),u=d=>{const p=(t-Math.min(o,d))*r/2;return Bn(d,0,Math.min(o,p))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:Bn(i.innerStart,0,l),innerEnd:Bn(i.innerEnd,0,l)}}function ra(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function sd(n,e,t,r,i,o){const{x:l,y:u,startAngle:d,pixelMargin:p,innerRadius:m}=e,v=Math.max(e.outerRadius+r+t-p,0),x=m>0?m+r+t+p:0;let b=0;const P=i-d;if(r){const we=m>0?m-r:0,Pe=v>0?v-r:0,xe=(we+Pe)/2,te=xe!==0?P*xe/(xe+r):P;b=(P-te)/2}const A=Math.max(.001,P*v-t/st)/v,I=(P-A)/2,F=d+I+b,H=i-I-b,{outerStart:K,outerEnd:X,innerStart:se,innerEnd:ie}=QM(e,x,v,H-F),O=v-K,k=v-X,N=F+K/O,M=H-X/k,C=x+se,L=x+ie,R=F+se/C,ke=H-ie/L;if(n.beginPath(),o){const we=(N+M)/2;if(n.arc(l,u,v,N,we),n.arc(l,u,v,we,M),X>0){const le=ra(k,M,l,u);n.arc(le.x,le.y,X,M,H+Ct)}const Pe=ra(L,H,l,u);if(n.lineTo(Pe.x,Pe.y),ie>0){const le=ra(L,ke,l,u);n.arc(le.x,le.y,ie,H+Ct,ke+Math.PI)}const xe=(H-ie/x+(F+se/x))/2;if(n.arc(l,u,x,H-ie/x,xe,!0),n.arc(l,u,x,xe,F+se/x,!0),se>0){const le=ra(C,R,l,u);n.arc(le.x,le.y,se,R+Math.PI,F-Ct)}const te=ra(O,F,l,u);if(n.lineTo(te.x,te.y),K>0){const le=ra(O,N,l,u);n.arc(le.x,le.y,K,F-Ct,N)}}else{n.moveTo(l,u);const we=Math.cos(N)*v+l,Pe=Math.sin(N)*v+u;n.lineTo(we,Pe);const xe=Math.cos(M)*v+l,te=Math.sin(M)*v+u;n.lineTo(xe,te)}n.closePath()}function YM(n,e,t,r,i){const{fullCircles:o,startAngle:l,circumference:u}=e;let d=e.endAngle;if(o){sd(n,e,t,r,d,i);for(let p=0;p<o;++p)n.fill();isNaN(u)||(d=l+(u%Et||Et))}return sd(n,e,t,r,d,i),n.fill(),d}function XM(n,e,t,r,i){const{fullCircles:o,startAngle:l,circumference:u,options:d}=e,{borderWidth:p,borderJoinStyle:m,borderDash:v,borderDashOffset:x,borderRadius:b}=d,P=d.borderAlign==="inner";if(!p)return;n.setLineDash(v||[]),n.lineDashOffset=x,P?(n.lineWidth=p*2,n.lineJoin=m||"round"):(n.lineWidth=p,n.lineJoin=m||"bevel");let A=e.endAngle;if(o){sd(n,e,t,r,A,i);for(let I=0;I<o;++I)n.stroke();isNaN(u)||(A=l+(u%Et||Et))}P&&KM(n,e,A),d.selfJoin&&A-l>=st&&b===0&&m!=="miter"&&qM(n,e,A),o||(sd(n,e,t,r,A,i),n.stroke())}class Hl extends ro{constructor(t){super();Ne(this,"circumference");Ne(this,"endAngle");Ne(this,"fullCircles");Ne(this,"innerRadius");Ne(this,"outerRadius");Ne(this,"pixelMargin");Ne(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const o=this.getProps(["x","y"],i),{angle:l,distance:u}=_1(o,{x:t,y:r}),{startAngle:d,endAngle:p,innerRadius:m,outerRadius:v,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,P=Ge(x,p-d),A=td(l,d,p)&&d!==p,I=P>=Et||A,F=Ul(u,m+b,v+b);return I&&F}getCenterPoint(t){const{x:r,y:i,startAngle:o,endAngle:l,innerRadius:u,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:p,spacing:m}=this.options,v=(o+l)/2,x=(u+d+m+p)/2;return{x:r+Math.cos(v)*x,y:i+Math.sin(v)*x}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,o=(r.offset||0)/4,l=(r.spacing||0)/2,u=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Et?Math.floor(i/Et):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*o,Math.sin(d)*o);const p=1-Math.sin(Math.min(st,i||0)),m=o*p;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,YM(t,this,m,l,u),XM(t,this,m,l,u),t.restore()}}Ne(Hl,"id","arc"),Ne(Hl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ne(Hl,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ne(Hl,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});const ww=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},JM=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class xw extends ro{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=rt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=vn(r.font),o=i.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=ww(r,o);let p,m;t.font=i.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(l,o,u,d)+10):(m=this.maxHeight,p=this._fitCols(l,i,u,d)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],p=this.lineWidths=[0],m=i+u;let v=e;o.textAlign="left",o.textBaseline="middle";let x=-1,b=-m;return this.legendItems.forEach((P,A)=>{const I=r+t/2+o.measureText(P.text).width;(A===0||p[p.length-1]+I+2*u>l)&&(v+=m,p[p.length-(A>0?0:1)]=0,b+=m,x++),d[A]={left:0,top:b,row:x,width:I,height:i},p[p.length-1]+=I+u}),v}_fitCols(e,t,r,i){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],p=this.columnSizes=[],m=l-e;let v=u,x=0,b=0,P=0,A=0;return this.legendItems.forEach((I,F)=>{const{itemWidth:H,itemHeight:K}=ZM(r,t,o,I,i);F>0&&b+K+2*u>m&&(v+=x+u,p.push({width:x,height:b}),P+=x+u,A++,x=b=0),d[F]={left:P,top:b,col:A,width:H,height:K},x=Math.max(x,H),b+=K+u}),v+=x,p.push({width:x,height:b}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,l=ga(o,this.left,this.width);if(this.isHorizontal()){let u=0,d=An(r,this.left+i,this.right-this.lineWidths[u]);for(const p of t)u!==p.row&&(u=p.row,d=An(r,this.left+i,this.right-this.lineWidths[u])),p.top+=this.top+e+i,p.left=l.leftForLtr(l.x(d),p.width),d+=p.width+i}else{let u=0,d=An(r,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const p of t)p.col!==u&&(u=p.col,d=An(r,this.top+e+i,this.bottom-this.columnSizes[u].height)),p.top=d,p.left+=this.left+i,p.left=l.leftForLtr(l.x(p.left),p.width),d+=p.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Em(e,this),this._draw(),Tm(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:l}=e,u=gt.color,d=ga(e.rtl,this.left,this.width),p=vn(l.font),{padding:m}=l,v=p.size,x=v/2;let b;this.drawTitle(),i.textAlign=d.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=p.string;const{boxWidth:P,boxHeight:A,itemHeight:I}=ww(l,v),F=function(ie,O,k){if(isNaN(P)||P<=0||isNaN(A)||A<0)return;i.save();const N=Ge(k.lineWidth,1);if(i.fillStyle=Ge(k.fillStyle,u),i.lineCap=Ge(k.lineCap,"butt"),i.lineDashOffset=Ge(k.lineDashOffset,0),i.lineJoin=Ge(k.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=Ge(k.strokeStyle,u),i.setLineDash(Ge(k.lineDash,[])),l.usePointStyle){const M={radius:A*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:N},C=d.xPlus(ie,P/2),L=O+x;b1(i,M,C,L,l.pointStyleWidth&&P)}else{const M=O+Math.max((v-A)/2,0),C=d.leftForLtr(ie,P),L=nc(k.borderRadius);i.beginPath(),Object.values(L).some(R=>R!==0)?mg(i,{x:C,y:M,w:P,h:A,radius:L}):i.rect(C,M,P,A),i.fill(),N!==0&&i.stroke()}i.restore()},H=function(ie,O,k){nd(i,k.text,ie,O+I/2,p,{strikethrough:k.hidden,textAlign:d.textAlign(k.textAlign)})},K=this.isHorizontal(),X=this._computeTitleHeight();K?b={x:An(o,this.left+m,this.right-r[0]),y:this.top+m+X,line:0}:b={x:this.left+m,y:An(o,this.top+X+m,this.bottom-t[0].height),line:0},k1(this.ctx,e.textDirection);const se=I+m;this.legendItems.forEach((ie,O)=>{i.strokeStyle=ie.fontColor,i.fillStyle=ie.fontColor;const k=i.measureText(ie.text).width,N=d.textAlign(ie.textAlign||(ie.textAlign=l.textAlign)),M=P+x+k;let C=b.x,L=b.y;d.setWidth(this.width),K?O>0&&C+M+m>this.right&&(L=b.y+=se,b.line++,C=b.x=An(o,this.left+m,this.right-r[b.line])):O>0&&L+se>this.bottom&&(C=b.x=C+t[b.line].width+m,b.line++,L=b.y=An(o,this.top+X+m,this.bottom-t[b.line].height));const R=d.x(C);if(F(R,L,ie),C=ON(N,C+P+x,K?C+M:this.right,e.rtl),H(d.x(C),L,ie),K)b.x+=M+m;else if(typeof ie.text!="string"){const ke=p.lineHeight;b.y+=$1(ie,ke)+m}else b.y+=se}),R1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=vn(t.font),i=lr(t.padding);if(!t.display)return;const o=ga(e.rtl,this.left,this.width),l=this.ctx,u=t.position,d=r.size/2,p=i.top+d;let m,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),m=this.top+p,v=An(e.align,v,this.right-x);else{const P=this.columnSizes.reduce((A,I)=>Math.max(A,I.height),0);m=p+An(e.align,this.top,this.bottom-P-e.labels.padding-this._computeTitleHeight())}const b=An(u,v,v+x);l.textAlign=o.textAlign(E1(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,nd(l,t.text,b,m,r)}_computeTitleHeight(){const e=this.options.title,t=vn(e.font),r=lr(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(Ul(e,this.left,this.right)&&Ul(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Ul(e,i.left,i.left+i.width)&&Ul(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!nO(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=JM(i,r);i&&!o&&rt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&rt(t.onHover,[e,r,this],this)}else r&&rt(t.onClick,[e,r,this],this)}}function ZM(n,e,t,r,i){const o=eO(r,n,e,t),l=tO(i,r,e.lineHeight);return{itemWidth:o,itemHeight:l}}function eO(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+r.measureText(i).width}function tO(n,e,t){let r=n;return typeof e.text!="string"&&(r=$1(e,t)),r}function $1(n,e){const t=n.text?n.text.length:0;return e*t}function nO(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var rO={id:"legend",_element:xw,start(n,e,t){const r=n.legend=new xw({ctx:n.ctx,options:t,chart:n});Wi.configure(n,r,t),Wi.addBox(n,r)},stop(n){Wi.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Wi.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const p=d.controller.getStyle(t?0:void 0),m=lr(p.borderWidth);return{text:e[d.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:i||p.textAlign,borderRadius:l&&(u||p.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Wl={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,o=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const d=u.tooltipPosition();r.add(d.x),i+=d.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((u,d)=>u+d)/r.size,y:i/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const d=n[o].element;if(d&&d.hasValue()){const p=d.getCenterPoint(),m=CN(e,p);m<i&&(i=m,u=d)}}if(u){const d=u.tooltipPosition();t=d.x,r=d.y}return{x:t,y:r}}};function xr(n,e){return e&&($t(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Zr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function iO(n,e){const{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:l,value:u}=o.getLabelAndValue(i);return{chart:n,label:l,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:u,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Ew(n,e){const t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:l,boxHeight:u}=e,d=vn(e.bodyFont),p=vn(e.titleFont),m=vn(e.footerFont),v=o.length,x=i.length,b=r.length,P=lr(e.padding);let A=P.height,I=0,F=r.reduce((X,se)=>X+se.before.length+se.lines.length+se.after.length,0);if(F+=n.beforeBody.length+n.afterBody.length,v&&(A+=v*p.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),F){const X=e.displayColors?Math.max(u,d.lineHeight):d.lineHeight;A+=b*X+(F-b)*d.lineHeight+(F-1)*e.bodySpacing}x&&(A+=e.footerMarginTop+x*m.lineHeight+(x-1)*e.footerSpacing);let H=0;const K=function(X){I=Math.max(I,t.measureText(X).width+H)};return t.save(),t.font=p.string,Ke(n.title,K),t.font=d.string,Ke(n.beforeBody.concat(n.afterBody),K),H=e.displayColors?l+2+e.boxPadding:0,Ke(r,X=>{Ke(X.before,K),Ke(X.lines,K),Ke(X.after,K)}),H=0,t.font=m.string,Ke(n.footer,K),t.restore(),I+=P.width,{width:I,height:A}}function sO(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function oO(n,e,t,r){const{x:i,width:o}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&i+o+l>e.width||n==="right"&&i-o-l<0)return!0}function aO(n,e,t,r){const{x:i,width:o}=t,{width:l,chartArea:{left:u,right:d}}=n;let p="center";return r==="center"?p=i<=(u+d)/2?"left":"right":i<=o/2?p="left":i>=l-o/2&&(p="right"),oO(p,n,e,t)&&(p="center"),p}function Tw(n,e,t){const r=t.yAlign||e.yAlign||sO(n,t);return{xAlign:t.xAlign||e.xAlign||aO(n,e,t,r),yAlign:r}}function lO(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function cO(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function bw(n,e,t,r){const{caretSize:i,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:d}=t,p=i+o,{topLeft:m,topRight:v,bottomLeft:x,bottomRight:b}=nc(l);let P=lO(e,u);const A=cO(e,d,p);return d==="center"?u==="left"?P+=p:u==="right"&&(P-=p):u==="left"?P-=Math.max(m,x)+i:u==="right"&&(P+=Math.max(v,b)+i),{x:Bn(P,0,r.width-e.width),y:Bn(A,0,r.height-e.height)}}function gh(n,e,t){const r=lr(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Iw(n){return xr([],Zr(n))}function uO(n,e,t){return Da(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Sw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const H1={beforeTitle:Xr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Xr,beforeBody:Xr,beforeLabel:Xr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Jt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Xr,afterBody:Xr,beforeFooter:Xr,footer:Xr,afterFooter:Xr};function pn(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?H1[e].call(t,r):i}class vg extends ro{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,o=new N1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=uO(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=pn(r,"beforeTitle",this,e),o=pn(r,"title",this,e),l=pn(r,"afterTitle",this,e);let u=[];return u=xr(u,Zr(i)),u=xr(u,Zr(o)),u=xr(u,Zr(l)),u}getBeforeBody(e,t){return Iw(pn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Ke(e,o=>{const l={before:[],lines:[],after:[]},u=Sw(r,o);xr(l.before,Zr(pn(u,"beforeLabel",this,o))),xr(l.lines,pn(u,"label",this,o)),xr(l.after,Zr(pn(u,"afterLabel",this,o))),i.push(l)}),i}getAfterBody(e,t){return Iw(pn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=pn(r,"beforeFooter",this,e),o=pn(r,"footer",this,e),l=pn(r,"afterFooter",this,e);let u=[];return u=xr(u,Zr(i)),u=xr(u,Zr(o)),u=xr(u,Zr(l)),u}_createItems(e){const t=this._active,r=this.chart.data,i=[],o=[],l=[];let u=[],d,p;for(d=0,p=t.length;d<p;++d)u.push(iO(this.chart,t[d]));return e.filter&&(u=u.filter((m,v,x)=>e.filter(m,v,x,r))),e.itemSort&&(u=u.sort((m,v)=>e.itemSort(m,v,r))),Ke(u,m=>{const v=Sw(e.callbacks,m);i.push(pn(v,"labelColor",this,m)),o.push(pn(v,"labelPointStyle",this,m)),l.push(pn(v,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let o,l=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const u=Wl[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=Ew(this,r),p=Object.assign({},u,d),m=Tw(this.chart,r,p),v=bw(r,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const o=this.getCaretPosition(e,r,i);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:o}=this,{caretSize:l,cornerRadius:u}=r,{topLeft:d,topRight:p,bottomLeft:m,bottomRight:v}=nc(u),{x,y:b}=e,{width:P,height:A}=t;let I,F,H,K,X,se;return o==="center"?(X=b+A/2,i==="left"?(I=x,F=I-l,K=X+l,se=X-l):(I=x+P,F=I+l,K=X-l,se=X+l),H=I):(i==="left"?F=x+Math.max(d,m)+l:i==="right"?F=x+P-Math.max(p,v)-l:F=this.caretX,o==="top"?(K=b,X=K-l,I=F-l,H=F+l):(K=b+A,X=K+l,I=F+l,H=F-l),se=K),{x1:I,x2:F,x3:H,y1:K,y2:X,y3:se}}drawTitle(e,t,r){const i=this.title,o=i.length;let l,u,d;if(o){const p=ga(r.rtl,this.x,this.width);for(e.x=gh(this,r.titleAlign,r),t.textAlign=p.textAlign(r.titleAlign),t.textBaseline="middle",l=vn(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,d=0;d<o;++d)t.fillText(i[d],p.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,d+1===o&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,i,o){const l=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:d,boxWidth:p}=o,m=vn(o.bodyFont),v=gh(this,"left",o),x=i.x(v),b=d<m.lineHeight?(m.lineHeight-d)/2:0,P=t.y+b;if(o.usePointStyle){const A={radius:Math.min(p,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},I=i.leftForLtr(x,p)+p/2,F=P+d/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Hv(e,A,I,F),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Hv(e,A,I,F)}else{e.lineWidth=Be(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const A=i.leftForLtr(x,p),I=i.leftForLtr(i.xPlus(x,1),p-2),F=nc(l.borderRadius);Object.values(F).some(H=>H!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,mg(e,{x:A,y:P,w:p,h:d,radius:F}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),mg(e,{x:I,y:P+1,w:p-2,h:d-2,radius:F}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(A,P,p,d),e.strokeRect(A,P,p,d),e.fillStyle=l.backgroundColor,e.fillRect(I,P+1,p-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:p,boxPadding:m}=r,v=vn(r.bodyFont);let x=v.lineHeight,b=0;const P=ga(r.rtl,this.x,this.width),A=function(k){t.fillText(k,P.x(e.x+b),e.y+x/2),e.y+=x+o},I=P.textAlign(l);let F,H,K,X,se,ie,O;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=gh(this,I,r),t.fillStyle=r.bodyColor,Ke(this.beforeBody,A),b=u&&I!=="right"?l==="center"?p/2+m:p+2+m:0,X=0,ie=i.length;X<ie;++X){for(F=i[X],H=this.labelTextColors[X],t.fillStyle=H,Ke(F.before,A),K=F.lines,u&&K.length&&(this._drawColorBox(t,e,X,P,r),x=Math.max(v.lineHeight,d)),se=0,O=K.length;se<O;++se)A(K[se]),x=v.lineHeight;Ke(F.after,A)}b=0,x=v.lineHeight,Ke(this.afterBody,A),e.y-=o}drawFooter(e,t,r){const i=this.footer,o=i.length;let l,u;if(o){const d=ga(r.rtl,this.x,this.width);for(e.x=gh(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=d.textAlign(r.footerAlign),t.textBaseline="middle",l=vn(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,u=0;u<o;++u)t.fillText(i[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:o,yAlign:l}=this,{x:u,y:d}=e,{width:p,height:m}=r,{topLeft:v,topRight:x,bottomLeft:b,bottomRight:P}=nc(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(u+v,d),l==="top"&&this.drawCaret(e,t,r,i),t.lineTo(u+p-x,d),t.quadraticCurveTo(u+p,d,u+p,d+x),l==="center"&&o==="right"&&this.drawCaret(e,t,r,i),t.lineTo(u+p,d+m-P),t.quadraticCurveTo(u+p,d+m,u+p-P,d+m),l==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(u+b,d+m),t.quadraticCurveTo(u,d+m,u,d+m-b),l==="center"&&o==="left"&&this.drawCaret(e,t,r,i),t.lineTo(u,d+v),t.quadraticCurveTo(u,d,u+v,d),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const l=Wl[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Ew(this,e),d=Object.assign({},l,this._size),p=Tw(t,e,d),m=bw(e,d,p,t);(i._to!==m.x||o._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=lr(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,t),k1(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),R1(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:u,index:d})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[d],index:d}}),o=!Yh(r,i),l=this._positionChanged(i,t);(o||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,r),u=this._positionChanged(l,e),d=t||!Yh(l,o)||u;return d&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:i,options:o}=this,l=Wl[o.position].call(this,e,t);return l!==!1&&(r!==l.x||i!==l.y)}}Ne(vg,"positioners",Wl);var hO={id:"tooltip",_element:vg,positioners:Wl,afterInit(n,e,t){t&&(n.tooltip=new vg({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:H1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Dd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_n=Object.keys(Dd);function Aw(n,e){return n-e}function Cw(n,e){if(Jt(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),ci(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(ed(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,i)),+l)}function Pw(n,e,t,r){const i=_n.length;for(let o=_n.indexOf(n);o<i-1;++o){const l=Dd[_n[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=r)return _n[o]}return _n[i-1]}function dO(n,e,t,r,i){for(let o=_n.length-1;o>=_n.indexOf(t);o--){const l=_n[o];if(Dd[l].common&&n._adapter.diff(i,r,l)>=e-1)return l}return _n[t?_n.indexOf(t):0]}function fO(n){for(let e=_n.indexOf(n)+1,t=_n.length;e<t;++e)if(Dd[_n[e]].common)return _n[e]}function kw(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=xm(t,e),o=t[r]>=e?t[r]:t[i];n[o]=!0}}function pO(n,e,t,r){const i=n._adapter,o=+i.startOf(e[0].value,r),l=e[e.length-1].value;let u,d;for(u=o;u<=l;u=+i.add(u,1,r))d=t[u],d>=0&&(e[d].major=!0);return e}function Rw(n,e,t){const r=[],i={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],i[u]=l,r.push({value:u,major:!1});return o===0||!t?r:pO(n,r,i,t)}class od extends Rd{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new VD._date(e.adapters.date);i.init(t),Zl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Cw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function d(p){!l&&!isNaN(p.min)&&(i=Math.min(i,p.min)),!u&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!l||!u)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),i=ci(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),o=ci(o)&&!isNaN(o)?o:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,l=this.max,u=RN(i,o,l);return this._unit=t.unit||(r.autoSkip?Pw(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):dO(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:fO(this._unit),this.initOffsets(i),e.reverse&&u.reverse(),Rw(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Bn(t,0,l),r=Bn(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,o=i.time,l=o.unit||Pw(o.minUnit,t,r,this._getLabelCapacity(t)),u=Ge(i.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,p=ed(d)||d===!0,m={};let v=t,x,b;if(p&&(v=+e.startOf(v,"isoWeek",d)),v=+e.startOf(v,p?"day":l),e.diff(r,t,l)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+l);const P=i.ticks.source==="data"&&this.getDataTimestamps();for(x=v,b=0;x<r;x=+e.add(x,u,l),b++)kw(m,x,P);return(x===r||i.bounds==="ticks"||b===1)&&kw(m,x,P),Object.keys(m).sort(Aw).map(A=>+A)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,o=this._unit,l=t||i[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,i){const o=this.options,l=o.ticks.callback;if(l)return rt(l,[e,t,r],this);const u=o.time.displayFormats,d=this._unit,p=this._majorUnit,m=d&&u[d],v=p&&u[p],x=r[t],b=p&&v&&x&&x.major;return this._adapter.format(e,i||(b?v:m))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=qs(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),l=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*o+u*l,h:r*l+u*o}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,o=this._tickFormatFunction(e,0,Rw(this,[e],this._majorUnit),i),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(Cw(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return DN(e.sort(Aw))}}Ne(od,"id","time"),Ne(od,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function mh(n,e,t){let r=0,i=n.length-1,o,l,u,d;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=pg(n,"pos",e)),{pos:o,time:u}=n[r],{pos:l,time:d}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=pg(n,"time",e)),{time:o,pos:u}=n[r],{time:l,pos:d}=n[i]);const p=l-o;return p?u+(d-u)*(e-o)/p:u}class Nw extends od{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=mh(t,this.min),this._tableRange=mh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],o=[];let l,u,d,p,m;for(l=0,u=e.length;l<u;++l)p=e[l],p>=t&&p<=r&&i.push(p);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,u=i.length;l<u;++l)m=i[l+1],d=i[l-1],p=i[l],Math.round((m+d)/2)!==p&&o.push({time:p,pos:l/(u-1)});return o}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(mh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return mh(this._table,r*this._tableRange+this._minPos,!0)}}Ne(Nw,"id","timeseries"),Ne(Nw,"defaults",od.defaults);const W1="label";function Dw(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function gO(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function q1(n,e){n.labels=e}function K1(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:W1;const r=[];n.datasets=e.map(i=>{const o=n.datasets.find(l=>l[t]===i[t]);return!o||!i.data||r.includes(o)?{...i}:(r.push(o),Object.assign(o,i),o)})}function mO(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W1;const t={labels:[],datasets:[]};return q1(t,n.labels),K1(t,n.datasets,e),t}function yO(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:l,data:u,options:d,plugins:p=[],fallbackContent:m,updateMode:v,...x}=n,b=oe.useRef(null),P=oe.useRef(null),A=()=>{b.current&&(P.current=new Nd(b.current,{type:l,data:mO(u,o),options:d&&{...d},plugins:p}),Dw(e,P.current))},I=()=>{Dw(e,null),P.current&&(P.current.destroy(),P.current=null)};return oe.useEffect(()=>{!i&&P.current&&d&&gO(P.current,d)},[i,d]),oe.useEffect(()=>{!i&&P.current&&q1(P.current.config.data,u.labels)},[i,u.labels]),oe.useEffect(()=>{!i&&P.current&&u.datasets&&K1(P.current.config.data,u.datasets,o)},[i,u.datasets]),oe.useEffect(()=>{P.current&&(i?(I(),setTimeout(A)):P.current.update(v))},[i,d,u.labels,u.datasets,v]),oe.useEffect(()=>{P.current&&(I(),setTimeout(A))},[l]),oe.useEffect(()=>(A(),()=>I()),[]),xg.createElement("canvas",{ref:b,role:"img",height:t,width:r,...x},m)}const _O=oe.forwardRef(yO);function vO(n,e){return Nd.register(e),oe.forwardRef((t,r)=>xg.createElement(_O,{...t,ref:r,type:n}))}const ia=vO("doughnut",Bl);Nd.register(Hl,hO,rO);function wO({darkMode:n}){const{causas:e,loading:t}=Cd(),r=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#06B6D4","#F97316","#84CC16","#EC4899","#6366F1","#14B8A6","#F43F5E","#22C55E","#A855F7","#0EA5E9"],i=oe.useMemo(()=>{if(!e.length)return{};const u=e.reduce((P,A)=>(P[A.tipoProceso]=(P[A.tipoProceso]||0)+1,P),{}),d=e.reduce((P,A)=>{const I=A.intervencion||"Sin especificar";return P[I]=(P[I]||0)+1,P},{}),p={"Con audiencia programada":e.filter(P=>P.audiencias).length,"Sin audiencia programada":e.filter(P=>!P.audiencias).length},m=e.reduce((P,A)=>{const I=A.estado||"Sin especificar";return P[I]=(P[I]||0)+1,P},{}),v=e.reduce((P,A)=>{const I=A.recursos||"Sin recurso";return P[I]=(P[I]||0)+1,P},{}),x=e.reduce((P,A)=>{const I=A.usuarioAsignado||"Sin asignar";return P[I]=(P[I]||0)+1,P},{}),b=(P,A)=>{const I=Object.keys(P),F=Object.values(P);return{labels:I,datasets:[{label:A,data:F,backgroundColor:r.slice(0,I.length),borderWidth:2,borderColor:n?"#374151":"#ffffff"}]}};return{procesos:b(u,"Tipos de Proceso"),intervenciones:b(d,"Intervenciones"),audiencias:b(p,"Audiencias"),estados:b(m,"Estados (Gesel)"),recursos:b(v,"Recursos"),usuarios:b(x,"Usuarios")}},[e,n,r]),o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:n?"#E5E7EB":"#374151",font:{size:12},padding:20}},tooltip:{backgroundColor:n?"#1F2937":"#ffffff",titleColor:n?"#E5E7EB":"#374151",bodyColor:n?"#E5E7EB":"#374151",borderColor:n?"#374151":"#E5E7EB",borderWidth:1}}},l=()=>{window.print()};return t?w.jsx("div",{className:`${n?"bg-gray-800 text-white":"bg-white"} rounded-lg shadow-sm p-8`,children:w.jsxs("div",{className:"flex items-center justify-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),w.jsx("span",{className:"ml-2",children:"Cargando estadísticas..."})]})}):e.length?w.jsxs("div",{className:`${n?"bg-gray-800 text-white":"bg-white"} rounded-lg shadow-sm`,children:[w.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:w.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold",children:"Estadísticas"}),w.jsxs("p",{className:`${n?"text-gray-300":"text-gray-600"} mt-1`,children:["Análisis de ",e.length," causas registradas"]})]}),w.jsxs("button",{onClick:l,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[w.jsx(Sd,{className:"h-4 w-4 mr-2"}),"Imprimir"]})]})}),w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[w.jsx("div",{className:`${n?"bg-gray-700":"bg-blue-50"} rounded-lg p-4`,children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(nh,{className:"h-8 w-8 text-blue-600 mr-3"}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-blue-600"}`,children:"Total Causas"}),w.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),w.jsx("div",{className:`${n?"bg-gray-700":"bg-green-50"} rounded-lg p-4`,children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(nh,{className:"h-8 w-8 text-green-600 mr-3"}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-green-600"}`,children:"Finalizadas"}),w.jsx("p",{className:"text-2xl font-bold",children:e.filter(u=>u.estado==="Finalizado").length})]})]})}),w.jsx("div",{className:`${n?"bg-gray-700":"bg-yellow-50"} rounded-lg p-4`,children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(nh,{className:"h-8 w-8 text-yellow-600 mr-3"}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-yellow-600"}`,children:"En Trámite"}),w.jsx("p",{className:"text-2xl font-bold",children:e.filter(u=>u.estado==="En trámite").length})]})]})}),w.jsx("div",{className:`${n?"bg-gray-700":"bg-purple-50"} rounded-lg p-4`,children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(nh,{className:"h-8 w-8 text-purple-600 mr-3"}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-purple-600"}`,children:"En Alzada"}),w.jsx("p",{className:"text-2xl font-bold",children:e.filter(u=>u.estado==="En Alzada").length})]})]})})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[w.jsxs("div",{className:`${n?"bg-gray-700":"bg-gray-50"} rounded-lg p-6`,children:[w.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Tipos de Proceso"}),w.jsx("div",{className:"h-64",children:i.procesos&&w.jsx(ia,{data:i.procesos,options:o})})]}),w.jsxs("div",{className:`${n?"bg-gray-700":"bg-gray-50"} rounded-lg p-6`,children:[w.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Intervenciones"}),w.jsx("div",{className:"h-64",children:i.intervenciones&&w.jsx(ia,{data:i.intervenciones,options:o})})]}),w.jsxs("div",{className:`${n?"bg-gray-700":"bg-gray-50"} rounded-lg p-6`,children:[w.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Audiencias Señaladas"}),w.jsx("div",{className:"h-64",children:i.audiencias&&w.jsx(ia,{data:i.audiencias,options:o})})]}),w.jsxs("div",{className:`${n?"bg-gray-700":"bg-gray-50"} rounded-lg p-6`,children:[w.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Estados (Gesel)"}),w.jsx("div",{className:"h-64",children:i.estados&&w.jsx(ia,{data:i.estados,options:o})})]}),w.jsxs("div",{className:`${n?"bg-gray-700":"bg-gray-50"} rounded-lg p-6`,children:[w.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Recursos Interpuestos"}),w.jsx("div",{className:"h-64",children:i.recursos&&w.jsx(ia,{data:i.recursos,options:o})})]}),w.jsxs("div",{className:`${n?"bg-gray-700":"bg-gray-50"} rounded-lg p-6`,children:[w.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Usuarios Asignados"}),w.jsx("div",{className:"h-64",children:i.usuarios&&w.jsx(ia,{data:i.usuarios,options:o})})]})]})]})]}):w.jsx("div",{className:`${n?"bg-gray-800 text-white":"bg-white"} rounded-lg shadow-sm p-8`,children:w.jsxs("div",{className:"text-center",children:[w.jsx(i1,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),w.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Estadísticas"}),w.jsxs("p",{className:`${n?"text-gray-300":"text-gray-600"}`,children:["No hay datos suficientes para generar estadísticas.",w.jsx("br",{}),"Registre algunas causas para ver los gráficos."]})]})})}function xO({darkMode:n}){const{causas:e,loading:t}=Cd(),[r,i]=oe.useState(""),[o,l]=oe.useState(""),[u,d]=oe.useState(""),p=oe.useMemo(()=>e.filter(I=>I.proteccionPersona&&I.proteccionPersona.length>0),[e]),m=oe.useMemo(()=>p.filter(I=>{var X;const F=!r||I.numCausa.toLowerCase().includes(r.toLowerCase())||I.caratula.toLowerCase().includes(r.toLowerCase()),H=!o||((X=I.proteccionPersona)==null?void 0:X.includes(o)),K=!u||I.usuarioAsignado===u;return F&&H&&K}),[p,r,o,u]),v=oe.useMemo(()=>{const I={},F={};return p.forEach(H=>{H.proteccionPersona&&(F[H.id]=H.proteccionPersona,H.proteccionPersona.forEach(K=>{I[K]=(I[K]||0)+1}))}),{totalCausasConProteccion:p.length,totalCausasSinProteccion:e.length-p.length,medidasMasComunes:Object.entries(I).sort(([,H],[,K])=>K-H).slice(0,5),medidasCount:I,medidasPorCausa:F}},[p,e.length]),x=[...new Set(p.map(I=>I.usuarioAsignado).filter(Boolean))].sort(),b=I=>{if(!I)return"-";try{return new Date(I).toLocaleDateString("es-ES")}catch{return"-"}},P=I=>({"Medidas Autosatisfactivas":"bg-purple-100 text-purple-800","Prohibición de Acercamiento":"bg-red-100 text-red-800","Restricción Perimetral":"bg-orange-100 text-orange-800","Asistencia Económica":"bg-green-100 text-green-800","Tenencia Precautoria":"bg-blue-100 text-blue-800","Régimen de Visitas":"bg-indigo-100 text-indigo-800","Alimentos Provisionales":"bg-yellow-100 text-yellow-800","Asistencia Psicológica":"bg-pink-100 text-pink-800","Asistencia Médica":"bg-teal-100 text-teal-800","Protección Patrimonial":"bg-cyan-100 text-cyan-800",Curatela:"bg-gray-100 text-gray-800",Tutela:"bg-emerald-100 text-emerald-800",Guarda:"bg-lime-100 text-lime-800"})[I]||"bg-gray-100 text-gray-800",A=()=>{window.print()};return t?w.jsx("div",{className:`${n?"bg-gray-800 text-white":"bg-white"} rounded-lg shadow-sm p-8`,children:w.jsxs("div",{className:"flex items-center justify-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),w.jsx("span",{className:"ml-2",children:"Cargando medidas de protección..."})]})}):w.jsxs("div",{className:`${n?"bg-gray-800 text-white":"bg-white"} rounded-lg shadow-sm`,children:[w.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:w.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold",children:"Protección de Persona"}),w.jsxs("p",{className:`${n?"text-gray-300":"text-gray-600"} mt-1`,children:["Gestión de medidas de protección - ",m.length," causas"]})]}),w.jsxs("button",{onClick:A,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[w.jsx(Sd,{className:"h-4 w-4 mr-2"}),"Imprimir"]})]})}),w.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[w.jsx("div",{className:`${n?"bg-gray-700":"bg-green-50"} rounded-lg p-4`,children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(ug,{className:"h-8 w-8 text-green-600 mr-3"}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-green-600"}`,children:"Con Protección"}),w.jsx("p",{className:"text-2xl font-bold",children:v.totalCausasConProteccion})]})]})}),w.jsx("div",{className:`${n?"bg-gray-700":"bg-red-50"} rounded-lg p-4`,children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(K2,{className:"h-8 w-8 text-red-600 mr-3"}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-red-600"}`,children:"Sin Protección"}),w.jsx("p",{className:"text-2xl font-bold",children:v.totalCausasSinProteccion})]})]})}),w.jsx("div",{className:`${n?"bg-gray-700":"bg-blue-50"} rounded-lg p-4`,children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(O2,{className:"h-8 w-8 text-blue-600 mr-3"}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-blue-600"}`,children:"Total Causas"}),w.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),w.jsx("div",{className:`${n?"bg-gray-700":"bg-purple-50"} rounded-lg p-4`,children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(G2,{className:"h-8 w-8 text-purple-600 mr-3"}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-purple-600"}`,children:"% Protección"}),w.jsxs("p",{className:"text-2xl font-bold",children:[e.length>0?Math.round(v.totalCausasConProteccion/e.length*100):0,"%"]})]})]})})]})}),v.medidasMasComunes.length>0&&w.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[w.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Medidas Más Aplicadas"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:v.medidasMasComunes.map(([I,F],H)=>w.jsx("div",{className:`${n?"bg-gray-700":"bg-gray-50"} rounded-lg p-4`,children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:F}),w.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 leading-tight",children:I})]})},I))})]}),w.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsx("div",{children:w.jsxs("div",{className:"relative",children:[w.jsx(a1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),w.jsx("input",{type:"text",placeholder:"Buscar por N° expediente o carátula...",value:r,onChange:I=>i(I.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${n?"bg-gray-600 text-white":""}`})]})}),w.jsx("div",{children:w.jsxs("select",{value:o,onChange:I=>l(I.target.value),className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${n?"bg-gray-600 text-white":""}`,children:[w.jsx("option",{value:"",children:"Todas las medidas"}),d1.map(I=>w.jsx("option",{value:I,children:I},I))]})}),w.jsx("div",{children:w.jsxs("select",{value:u,onChange:I=>d(I.target.value),className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${n?"bg-gray-600 text-white":""}`,children:[w.jsx("option",{value:"",children:"Todos los usuarios"}),x.map(I=>w.jsx("option",{value:I,children:I},I))]})})]}),(r||o||u)&&w.jsx("div",{className:"mt-4",children:w.jsx("button",{onClick:()=>{i(""),l(""),d("")},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Limpiar filtros"})})]}),w.jsx("div",{className:"p-6",children:m.length===0?w.jsxs("div",{className:"text-center py-8",children:[w.jsx(ug,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),w.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:p.length===0?"No hay medidas de protección registradas":"No se encontraron causas con los filtros aplicados"}),w.jsx("p",{className:`${n?"text-gray-300":"text-gray-600"}`,children:p.length===0?"Las causas con medidas de protección aparecerán aquí cuando sean registradas.":"Intente ajustar los filtros de búsqueda."})]}):w.jsx("div",{className:"space-y-4",children:m.map(I=>{var F;return w.jsx("div",{className:`${n?"bg-gray-700":"bg-gray-50"} rounded-lg p-6 border border-gray-200 dark:border-gray-600`,children:w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-lg mb-2",children:I.numCausa}),w.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"} mb-2`,children:I.caratula}),w.jsxs("div",{className:"text-sm space-y-1",children:[w.jsxs("div",{children:[w.jsx("strong",{children:"Tipo:"})," ",I.tipoProceso]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Usuario:"})," ",I.usuarioAsignado||"-"]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Fecha Inicio:"})," ",b(I.fechaInicio)]})]})]}),w.jsxs("div",{className:"lg:col-span-2",children:[w.jsx("h5",{className:"font-medium mb-3",children:"Medidas de Protección Aplicadas:"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:(F=I.proteccionPersona)==null?void 0:F.map((H,K)=>w.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${P(H)}`,children:H},K))}),I.observaciones&&w.jsxs("div",{className:"mt-4",children:[w.jsx("h6",{className:"font-medium text-sm mb-1",children:"Observaciones:"}),w.jsx("p",{className:`text-sm ${n?"text-gray-300":"text-gray-600"} bg-white dark:bg-gray-600 p-3 rounded border`,children:I.observaciones})]})]})]})},I.id)})})})]})}function EO(){var I;const[n,e]=oe.useState("nuevo"),[t,r]=oe.useState(!1),[i,o]=oe.useState(!1),[l,u]=oe.useState(!1),{logout:d,currentUser:p}=mm();oe.useEffect(()=>{const F=()=>{window.innerWidth<1024&&(o(!1),r(!1))};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),oe.useEffect(()=>{const F=localStorage.getItem("sidebarCollapsed");F!==null&&window.innerWidth>=1024&&o(JSON.parse(F))},[]),oe.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(i))},[i]);const m=async()=>{try{await d(),mn.success("Sesión cerrada exitosamente")}catch{mn.error("Error al cerrar sesión")}},v=()=>{window.innerWidth<1024?r(!t):o(!i)},x=[{id:"nuevo",label:"Nuevo registro",icon:o1},{id:"listado",label:"Listado de Causas",icon:F2},{id:"datos",label:"Datos de Partes",icon:Sv},{id:"estadisticas",label:"Estadística",icon:i1},{id:"proteccion",label:"Protección de persona",icon:ug}],b=()=>{switch(n){case"nuevo":return w.jsx(Cv,{});case"listado":return w.jsx(GR,{});case"datos":return w.jsx("div",{className:`${l?"bg-gray-800 text-white":"bg-white"} rounded-lg shadow-sm p-8`,children:w.jsxs("div",{className:"text-center",children:[w.jsx(Sv,{className:"h-16 w-16 mx-auto mb-4 text-blue-600"}),w.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Datos de Partes"}),w.jsx("p",{className:`${l?"text-gray-300":"text-gray-600"} mb-6`,children:"Redirigiendo al sistema externo de datos de partes..."}),w.jsx("button",{onClick:()=>window.open("https://defensoria6.github.io/datospartes/","_blank"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Ir a Datos de Partes"})]})});case"estadisticas":return w.jsx(wO,{darkMode:l});case"proteccion":return w.jsx(xO,{darkMode:l});default:return w.jsx(Cv,{})}},P=i?"w-16":"w-64",A=i?"lg:pl-16":"lg:pl-64";return w.jsxs("div",{className:`min-h-screen ${l?"dark bg-gray-900":"bg-gray-50"}`,children:[w.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 ${P} ${l?"bg-gray-800":"bg-white"} shadow-lg transform ${t?"translate-x-0":"-translate-x-full"} transition-all duration-300 ease-in-out lg:translate-x-0`,children:[w.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700",children:[w.jsxs("div",{className:`flex items-center space-x-3 ${i?"justify-center w-full":""}`,children:[w.jsx(cg,{className:"h-8 w-8 text-blue-600 flex-shrink-0"}),!i&&w.jsx("span",{className:`font-bold text-lg ${l?"text-white":"text-gray-900"} truncate`,children:"Defensoría 6"})]}),w.jsxs("div",{className:"flex items-center space-x-1",children:[w.jsx("button",{onClick:()=>o(!i),className:`hidden lg:flex p-1.5 rounded-lg ${l?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-600"} transition-colors`,title:i?"Expandir panel":"Contraer panel",children:i?w.jsx(V2,{className:"h-4 w-4"}):w.jsx(L2,{className:"h-4 w-4"})}),w.jsx("button",{onClick:()=>r(!1),className:`lg:hidden p-1.5 rounded-lg ${l?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-100 text-gray-600"} transition-colors`,children:w.jsx(Q2,{className:"h-4 w-4"})})]})]}),w.jsx("nav",{className:"mt-8",children:x.map(F=>{const H=F.icon;return w.jsxs("button",{onClick:()=>{e(F.id),window.innerWidth<1024&&r(!1)},className:`w-full flex items-center ${i?"justify-center px-4":"px-6"} py-3 text-left hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors group ${n===F.id?"bg-blue-50 dark:bg-gray-700 text-blue-600 border-r-2 border-blue-600":l?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900"}`,title:i?F.label:"",children:[w.jsx(H,{className:"h-5 w-5 flex-shrink-0"}),!i&&w.jsx("span",{className:"ml-3 truncate",children:F.label}),i&&w.jsx("div",{className:"absolute left-16 bg-gray-900 text-white px-2 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition-opacity z-50 pointer-events-none whitespace-nowrap",children:F.label})]},F.id)})}),w.jsxs("div",{className:`absolute bottom-0 w-full p-4 border-t border-gray-200 dark:border-gray-700 ${i?"px-2":"px-6"}`,children:[w.jsxs("div",{className:`flex items-center ${i?"justify-center":"justify-between"} mb-4`,children:[w.jsx("button",{onClick:()=>u(!l),className:`p-2 rounded-lg ${l?"bg-gray-700 text-yellow-400":"bg-gray-100 text-gray-600"} hover:bg-opacity-80 transition-colors`,title:l?"Modo Claro":"Modo Oscuro",children:l?w.jsx(W2,{className:"h-4 w-4"}):w.jsx(B2,{className:"h-4 w-4"})}),!i&&w.jsx("span",{className:`text-sm ${l?"text-gray-400":"text-gray-500"}`,children:l?"Modo Oscuro":"Modo Claro"})]}),!i&&w.jsx("div",{className:`mb-3 text-sm ${l?"text-gray-400":"text-gray-600"}`,children:w.jsx("p",{className:"font-medium truncate",children:p==null?void 0:p.email})}),w.jsxs("button",{onClick:m,className:`w-full flex items-center ${i?"justify-center px-2":"px-4"} py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors group`,title:i?"Cerrar sesión":"",children:[w.jsx(z2,{className:"h-4 w-4 flex-shrink-0"}),!i&&w.jsx("span",{className:"ml-2",children:"Cerrar sesión"}),i&&w.jsx("div",{className:"absolute left-16 bg-gray-900 text-white px-2 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition-opacity z-50 pointer-events-none whitespace-nowrap",children:"Cerrar sesión"})]})]})]}),t&&w.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>r(!1)}),w.jsxs("div",{className:`${A} transition-all duration-300 ease-in-out`,children:[w.jsx("header",{className:`${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b px-4 lg:px-6 py-4`,children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("button",{onClick:v,className:`lg:hidden ${l?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"} p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`,children:w.jsx(Iv,{className:"h-6 w-6"})}),w.jsx("button",{onClick:v,className:`hidden lg:flex ${l?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"} p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`,title:i?"Expandir panel":"Contraer panel",children:w.jsx(Iv,{className:"h-5 w-5"})}),w.jsx("h1",{className:`text-xl lg:text-2xl font-bold ${l?"text-white":"text-gray-900"}`,children:((I=x.find(F=>F.id===n))==null?void 0:I.label)||"Dashboard"})]}),w.jsx("div",{className:`text-xs lg:text-sm ${l?"text-gray-400":"text-gray-600"} hidden sm:block`,children:"Sistema de Gestión de Causas Legales"})]})}),w.jsx("main",{className:"p-4 lg:p-6",children:b()})]})]})}function TO(){const{currentUser:n}=mm();return w.jsxs("div",{className:"App",children:[n?w.jsx(EO,{}):w.jsx(zR,{}),w.jsx(FR,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}function bO(){return w.jsx(N2,{children:w.jsx(TO,{})})}lb.createRoot(document.getElementById("root")).render(w.jsx(oe.StrictMode,{children:w.jsx(ub,{children:w.jsx(bO,{})})}));

    </script>
</body>
</html>